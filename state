[{"extends":"asset.vwf","properties":{"owner":"Rob","scale":[24.700002670288086,24.700002670288086,24.700000762939453],"transform":[24.700002670288086,0,0,0,0,-8.858883404627704e-9,24.700002670288086,0,0,-24.700000762939453,-8.858883404627704e-9,0,0.45100003480911255,-1.1180002689361572,-1.121999979019165,1],"translation":[0.45100003480911255,-1.1180002689361572,-1.121999979019165],"visible":false},"random":{"c":1,"s0":0.189805781235918,"s1":0.983853878453374,"s2":0.648477415088564},"sequence":0,"source":"./vwfdatamanager.svc/datafile/XAPIGame/city_col.dae","type":"subDriver/threejs/asset/vnd.collada+xml","name":"./vwfdatamanager.svc/datafile/XAPIGame/city_col.dae1"},{"children":{"c20a7e2c-38c6-9034-1f88-d2bd4d671fc9":{"extends":"uvmap.vwf","properties":{"DisplayName":"uvmap1","NotProto":"NOT!","_length":2.78,"height":2.73,"mode":"plane","owner":"Rob","plane":"y","quaternion":[0,0,0,1],"rotation":[1,0,0,0],"scale":[1,1,1],"transform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"translation":[0,0,0],"type":"modifier","uoffset":0.34,"voffset":-0.07},"random":{"c":1,"s0":0.0115805226378143,"s1":0.223965629935265,"s2":0.206677667563781},"sequence":0,"source":"vwf/model/threejs/uvmap.js","type":"subDriver/threejs","name":"c20a7e2c-38c6-9034-1f88-d2bd4d671fc9"}},"extends":"cylinder2.vwf","properties":{"DisplayName":"cylinder3","height":0.26,"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"a":1,"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/teleport.png"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","quaternion":[0,0,0,1],"radius":0.59,"rsegs":16,"size":[1,0.5,0.5],"tempid":"","texture":"checker.jpg","transform":[1,0,0,0,0,1,0,0,0,0,1,0,0.868994414806366,2.874997854232788,-0.21900001168251038,1],"translation":[0.868994414806366,2.874997854232788,-0.21900001168251038],"type":"Primitive"},"random":{"c":1,"s0":0.307763082440943,"s1":0.157772459322587,"s2":0.224498455645517},"sequence":0,"source":"vwf/model/threejs/cylinder.js","type":"subDriver/threejs","name":"365b266-41ce-11b9-1872-e623ef131b5d"},{"children":{"371ce16d-b4aa-d944-6123-bfd76c8c2a89":{"extends":"rotator.vwf","properties":{"Active":true,"Amount":4,"DisplayName":"rotator1","Local":true,"owner":"Rob","type":"behavior"},"random":{"c":1,"s0":0.697554648621008,"s1":0.740025692153722,"s2":0.641901551513001},"sequence":0,"name":"371ce16d-b4aa-d944-6123-bfd76c8c2a89"}},"extends":"cone2.vwf","properties":{"DisplayName":"cone1","height":0.69,"hsegs":1,"materialDef":{"alpha":0.48,"ambient":{"b":0.0745098039215686,"g":0.0745098039215686,"r":0.968627450980392},"color":{"a":1,"b":0.0745098039215686,"g":0.0745098039215686,"r":0.968627450980392},"emit":{"b":0,"g":0,"r":0},"layers":[],"morphTargets":false,"reflect":5.2,"shadeless":false,"shadow":true,"shininess":10,"side":2,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":9.6,"type":"phong"},"owner":"Rob","quaternion":[-0.018211809918284416,-0.9609280824661255,0.2761912941932678,0.001968324650079012],"radius":0.33,"rsegs":3,"size":[0.5,1,0.5],"tempid":"","testprop":"value","texture":"checker.jpg","transform":[-0.9993206262588501,0.03612346202135086,-0.006062426138669252,0,0.03382888808846474,0.8467653393745422,-0.5308719873428345,0,-0.014042798429727554,-0.5307221412658691,-0.8474276661872864,0,-6.758000373840332,-0.9682438969612122,1.3683621883392334,1],"translation":[-6.758000373840332,-0.9682438969612122,1.3683621883392334],"type":"Primitive"},"random":{"c":1,"s0":0.709777161711827,"s1":0.231308539630845,"s2":0.789308838779107},"sequence":0,"source":"vwf/model/threejs/cone.js","type":"subDriver/threejs","name":"3b2df2e9-b9c8-2082-930f-eabf145f5273"},{"extends":"http://vwf.example.com/behavior.vwf","methods":{"initialize":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","parameters":[]},"postDeath":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                                            if (!_DataManager.getInstanceData().publishSettings) return;\n                                                                                                                                                                                                                var worldId = \"http://vwf.adlnet.gov/xapi/\" + /\\w{16}/.exec(_DataManager.getCurrentSession())[0];\n                                                                                                                                                                                                                var trapId = worldId + '/' + trapName;\n                                                                                                                                                                                                                var agentId = {\n                                                                                                                                                                                                                    'homePage': 'http://vwf.adlnet.gov',\n                                                                                                                                                                                                                    'name': this.playerName\n                                                                                                                                                                                                                };\n                                                                                                                                                                                                                var statement = new ADL.XAPIStatement(\n                                                                                                                                                                                                                    new ADL.XAPIStatement.Agent(agentId, agentId.name),\n                                                                                                                                                                                                                    new ADL.XAPIStatement.Verb('http://vwf.adlnet.gov/xapi/IFestGame2014/verbs/killed_by', 'killed by'),\n                                                                                                                                                                                                                    new ADL.XAPIStatement.Activity(trapId, trapName));\n\n                                                                                                                                                                                                                statement.addParentActivity(new ADL.XAPIStatement.Activity(worldId, _DataManager.getInstanceData().title || 'tempPublish'));\n                                                                                                                                                                                                                statement.context.registration = this.registration;\n\n                                                                                                                                                                                                                statement.context.extensions = {\n                                                                                                                                                                                                                    \"http://vwf.adlnet.gov/xapi/IFestGame2014\":\n                                                                                                                                                                                                                    {\n                                                                                                                                                                                                                        'GameType': this.Scene.children_by_name[trapName].GameType,\n                                                                                                                                                                                                                        'timeAlive': this.Scene.children_by_name.Player.timer\n                                                                                                                                                                                                                    }\n                                                                                                                                                                                                                };\n                                                                                                                                                                                                                \n                                                                                                                                                                                                                this.xAPI.sendStatement(null, statement);\n","parameters":["trapName"]},"postQuit":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                                          if (!_DataManager.getInstanceData().publishSettings) return;\n                                                                                                                                                                                                              var worldId = \"http://vwf.adlnet.gov/xapi/\" + /\\w{16}/.exec(_DataManager.getCurrentSession())[0];\n                                                                                                                                                                                                              var statement = new ADL.XAPIStatement(\n                                                                                                                                                                                                              {\n                                                                                                                                                                                                                  'homePage': 'http://vwf.adlnet.gov',\n                                                                                                                                                                                                                  'name': this.playerName\n                                                                                                                                                                                                              },\n                                                                                                                                                                                                                  ADL.verbs.terminated,\n                                                                                                                                                                                                                  new ADL.XAPIStatement.Activity(worldId, _DataManager.getInstanceData().title || 'tempPublish')\n                                                                                                                                                                                                              );\n                                                                                                                                                                                                              statement.generateId();\n                                                                                                                                                                                                              statement.context = {};\n                                                                                                                                                                                                              statement.context.registration = this.registration;\n                                                                                                                                                                                                              console.log(statement);\n                                                                                                                                                                                                              this.xAPI.sendStatement(null, statement);\n","parameters":[]},"postSpawn":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                                          if (!_DataManager.getInstanceData().publishSettings) return;\n                                                                                                                                                                                                              var worldId = \"http://vwf.adlnet.gov/xapi/\" + /\\w{16}/.exec(_DataManager.getCurrentSession())[0];\n\n                                                                                                                                                                                                              var agentId = {\n                                                                                                                                                                                                                  'homePage': 'http://vwf.adlnet.gov',\n                                                                                                                                                                                                                  'name': this.playerName\n                                                                                                                                                                                                              };\n                                                                                                                                                                                                              var statement = new ADL.XAPIStatement(\n                                                                                                                                                                                                                  new ADL.XAPIStatement.Agent(agentId, agentId.name),\n                                                                                                                                                                                                                  new ADL.XAPIStatement.Verb('http://vwf.adlnet.gov/xapi/IFestGame2014/verbs/spawned_in', 'spawned in'),\n                                                                                                                                                                                                                  new ADL.XAPIStatement.Activity(worldId, _DataManager.getInstanceData().title || 'tempPublish'));\n\n                                                                                                                                                                                                              statement.context.registration = this.registration;\n\n                                                                                                                                                                                                              console.log(statement);\n                                                                                                                                                                                                              this.xAPI.sendStatement(null, statement);\n","parameters":["player"]},"postStart":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                                          if (!_DataManager.getInstanceData().publishSettings) return;\n                                                                                                                                                                                                              var worldId = \"http://vwf.adlnet.gov/xapi/\" + /\\w{16}/.exec(_DataManager.getCurrentSession())[0];\n                                                                                                                                                                                                              var agentId = {\n                                                                                                                                                                                                                  'homePage': 'http://vwf.adlnet.gov',\n                                                                                                                                                                                                                  'name': player\n                                                                                                                                                                                                              };\n\n                                                                                                                                                                                                              var statement = new ADL.XAPIStatement(\n                                                                                                                                                                                                                  new ADL.XAPIStatement.Agent(agentId, agentId.name),\n                                                                                                                                                                                                                  ADL.verbs.attempted,\n                                                                                                                                                                                                                  new ADL.XAPIStatement.Activity(worldId, _DataManager.getInstanceData().title || 'tempPublish'));\n                                                                                                                                                                                                              statement.object.definition.moreInfo = window.location.href;\n\n                                                                                                                                                                                                              statement.generateRegistration();\n\n                                                                                                                                                                                                              this.registration = statement.context.registration;\n\n                                                                                                                                                                                                              console.log(statement);\n                                                                                                                                                                                                              this.xAPI.sendStatement(null, statement);\n","parameters":["player"]},"postSuccess":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                                          if (!_DataManager.getInstanceData().publishSettings) return;\n                                                                                                                                                                                                              var worldId = \"http://vwf.adlnet.gov/xapi/\" + /\\w{16}/.exec(_DataManager.getCurrentSession())[0];\n                                                                                                                                                                                                              var agentId = {\n                                                                                                                                                                                                                  'homePage': 'http://vwf.adlnet.gov',\n                                                                                                                                                                                                                  'name': this.playerName\n                                                                                                                                                                                                              };\n\n                                                                                                                                                                                                              var statement = new ADL.XAPIStatement(\n                                                                                                                                                                                                                  new ADL.XAPIStatement.Agent(agentId, agentId.name),\n                                                                                                                                                                                                                  ADL.verbs.completed,\n                                                                                                                                                                                                                  new ADL.XAPIStatement.Activity(worldId, _DataManager.getInstanceData().title || 'tempPublish'));\n\n                                                                                                                                                                                                              statement.object.definition.moreInfo = window.location.href;\n\n                                                                                                                                                                                                              statement.context = {\n                                                                                                                                                                                                                  'registration': this.registration,\n                                                                                                                                                                                                                  'extensions':\n                                                                                                                                                                                                                  {\n                                                                                                                                                                                                                      \"http://vwf.adlnet.gov/xapi/IFestGame2014\":\n                                                                                                                                                                                                                      {\n                                                                                                                                                                                                                          'timeAlive': this.Scene.children_by_name.Player.timer\n                                                                                                                                                                                                                      }\n                                                                                                                                                                                                                  }\n                                                                                                                                                                                                              };\n                                                                                                                                                                                                              \n                                                                                                                                                                                                              this.xAPI.sendStatement(null, statement);\n","parameters":[]},"postWaypoint":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                                          if (!_DataManager.getInstanceData().publishSettings) return;\n\n                                                                                                                                                                                                              var worldId = \"http://vwf.adlnet.gov/xapi/\" + /\\w{16}/.exec(_DataManager.getCurrentSession())[0];\n                                                                                                                                                                                                              var waypointId = worldId + '/' + waypointName;\n                                                                                                                                                                                                              var agentId = {\n                                                                                                                                                                                                                  'homePage': 'http://vwf.adlnet.gov',\n                                                                                                                                                                                                                  'name': this.playerName\n                                                                                                                                                                                                              };\n                                                                                                                                                                                                              var statement = new ADL.XAPIStatement(\n                                                                                                                                                                                                                  new ADL.XAPIStatement.Agent(agentId, agentId.name),\n                                                                                                                                                                                                                  new ADL.XAPIStatement.Verb('http://vwf.adlnet.gov/xapi/IFestGame2014/verbs/reached', 'reached'),\n                                                                                                                                                                                                                  new ADL.XAPIStatement.Activity(waypointId, waypointName));\n                                                                                                                                                                                                                  \n                                                                                                                                                                                                              statement.addParentActivity(new ADL.XAPIStatement.Activity(worldId, _DataManager.getInstanceData().title || 'tempPublish'));\n                                                                                                                                                                                                              statement.context.registration = this.registration;\n                                                                                                                                                                                                              statement.context.extensions = {\n                                                                                                                                                                                                                  \"http://vwf.adlnet.gov/xapi/IFestGame2014\":\n                                                                                                                                                                                                                  {\n                                                                                                                                                                                                                      'timeAlive': this.Scene.children_by_name.Player.timer\n                                                                                                                                                                                                                  }\n                                                                                                                                                                                                              };\n                                                                                                                                                                                                              this.xAPI.sendStatement(null, statement);\n","parameters":["waypointName"]},"ready":{"body":"\n\n    this.xAPI.configure(\n        {\n            endpoint: 'https://lrs.adlnet.gov/xapi/',\n            user: 'IFestGame',\n            password: 'UQw9Sw*FcZlM'\n        });\n        this.xAPI.testConfig();\n        var id = this.id;\n        var self2 = this;\n\n        //_dView.setCamera('SandboxCamera-vwf-58faf29-3658-392-e779-44d7f701f192');\n\n        this.Scene.bind('avatarCreated', function(cid, name)\n        {\n            window.setTimeout(function()\n            {\n                _dView.setCamera('SandboxCamera-vwf-58faf29-3658-392-e779-44d7f701f192');\n            }, 300);\n        });\n\n        this.Scene.bind('clientConnected', function(cid, name)\n        {\n            // _dView.setCamera('SandboxCamera-vwf-58faf29-3658-392-e779-44d7f701f192');\n            self2.playerName = name;\n\n            if (self2.playerName == 'anonymous')\n            {\n                alertify.prompt(\"Please tell me your name.\", function(ok, val)\n                {\n                    vwf_view.kernel.setProperty(self2.id, 'playerName', val);\n                    self2.postStart(val);\n\n                });\n            }\n            else\n            {\n\n                self2.postStart(self2.playerName);\n            }\n        });\n\n        var settings = _DataManager.getInstanceData();\n        if (!settings.publishSettings)\n        {\n            $(document.head).append('<script type=\"text/javascript\" src=\"./vwfdatamanager.svc/datafile/XAPIGame/gamegui.js\" ></script>')\n        }\n","parameters":[]},"reset":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            var myself = this;\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                function walk(node)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    if (!node || node == myself || node == myself.Scene.children_by_name.Player) return;\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    if (node.reset)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        node.reset();\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    var children = node.children;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    for (var i = 0; i < children.length; i++)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        if (children[i])\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            walk(children[i]);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                var children = this.parent.children;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                for (var i = 0; i < children.length; i++)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    walk(children[i]);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                this.postSpawn();\n","parameters":[]}},"properties":{"DisplayName":"GameCode","NotProto":"","owner":"Rob","paused":false,"playerName":"Rob","registration":"b8cb7ddb-a081-baf8-ccb8-cdd9674db892","type":"behavior"},"random":{"c":1,"s0":0.61410125461407,"s1":0.146318237995729,"s2":0.355505408486351},"sequence":0,"name":"528b1838-cc3c-d7c-b8ee-17f0d5806c2c"},{"children":{"c51f8e7f-6e15-b0b0-e161-7e041a5b5c9e":{"extends":"uvmap.vwf","properties":{"DisplayName":"uvmap1","NotProto":"NOT!","_length":2.78,"height":2.73,"mode":"plane","owner":"Rob","plane":"y","quaternion":[0,0,0,1],"rotation":[1,0,0,0],"scale":[1,1,1],"transform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"translation":[0,0,0],"type":"modifier","uoffset":0.34,"voffset":-0.07},"random":{"c":1,"s0":0.0115805226378143,"s1":0.223965629935265,"s2":0.206677667563781},"sequence":0,"source":"vwf/model/threejs/uvmap.js","type":"subDriver/threejs","name":"c51f8e7f-6e15-b0b0-e161-7e041a5b5c9e"},"fd05649d-f109-ef76-b8ea-396e783d8a20":{"extends":"hoverlabel.vwf","properties":{"DisplayName":"hoverlabel1","color":[0.933333333333333,0,1],"offset3D":[0,0,0.9],"owner":"Rob","text":"Start!","textsize":12,"type":"behavior"},"random":{"c":1,"s0":0.0182904226239771,"s1":0.415411794790998,"s2":0.657714408589527},"sequence":0,"name":"fd05649d-f109-ef76-b8ea-396e783d8a20"}},"extends":"cylinder2.vwf","properties":{"DisplayName":"cylinder1","height":0.26,"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"a":1,"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/teleport.png"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","quaternion":[0,0,0,1],"radius":0.59,"rsegs":16,"size":[1,0.5,0.5],"tempid":"","texture":"checker.jpg","transform":[1,0,0,0,0,1,0,0,0,0,1,0,-7.551003932952881,-0.8910018801689148,-0.09300000220537186,1],"translation":[-7.551003932952881,-0.8910018801689148,-0.09300000220537186],"type":"Primitive"},"random":{"c":1,"s0":0.307763082440943,"s1":0.157772459322587,"s2":0.224498455645517},"sequence":0,"source":"vwf/model/threejs/cylinder.js","type":"subDriver/threejs","name":"57a66669-539-e627-73b-5a87c02bd688"},{"extends":"SandboxCamera.vwf","properties":{"DisplayName":"OverheadCam","far":1000,"fov":74,"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":5.3,"scaley":6.1,"src":"/adl/sandbox/DnNE31e3uvYptRYw//vwfDataManager.svc/texture?UID=brick.jpg"}],"morphTargets":false,"reflect":0.1,"shininess":0.2,"side":0,"skinning":false,"specularColor":{"b":0.0666666666666667,"g":0.0666666666666667,"r":0.0666666666666667},"specularLevel":1,"type":"phong"},"owner":"Rob","quaternion":[-0.7071068286895752,0,0,0.7071067094802856],"transform":[1,0,0,0,0,-1.3078633287477714e-7,-0.9999998807907104,0,0,0.9999998807907104,-1.3078633287477714e-7,0,0.011422243900597095,-1.155956506729126,11.91999340057373,1],"translation":[0.011422243900597095,-1.155956506729126,11.91999340057373]},"random":{"c":1,"s0":0.293749240227044,"s1":0.289425936760381,"s2":0.0649766458664089},"sequence":0,"source":"vwf/model/threejs/camera.js","type":"subDriver/threejs","name":"58faf29-3658-392-e779-44d7f701f192"},{"children":{"15a0b433-725a-7c58-a53a-d3a52296efd9":{"children":{"3ee14198-1420-926a-e5c6-22d85be97c00":{"extends":"asset.vwf","properties":{"DisplayName":"truck","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/paneltruck.png"}],"morphTargets":false,"reflect":0,"shininess":1,"side":0,"skinning":false,"specularColor":{"b":1,"g":1,"r":1},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.005164550617337227,0.39996662735939026,0,0,2.0162806979584502e-9,-2.6034740335800777e-11,0.4000000059604645,0,0.39996662735939026,-0.005164550617337227,-2.016449673902798e-9,0,0,0,-0.17600007355213165,1],"translation":[0,0,-0.17600007355213165]},"random":{"c":1,"s0":0.601201624143869,"s1":0.0353553316090256,"s2":0.457793089793995},"sequence":0,"source":"./vwfdatamanager.svc/datafile/XAPIGame/GamePanelTruck.json","type":"subDriver/threejs/asset/vnd.osgjs+json+compressed","name":"3ee14198-1420-926a-e5c6-22d85be97c00"}},"extends":"box2.vwf","properties":{"DisplayName":"Ship","_length":0,"height":0.06,"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"a":1,"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"checker.jpg"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","size":[1,1,1],"tempid":"","texture":"checker.jpg","transform":[0.00001001734290184686,-0.9999996423721313,0.0010302640730515122,0,1.0000001192092896,0.00001001734835881507,0,0,-1.0320510668293537e-8,0.0010302639566361904,0.999999463558197,0,-0.0030044326558709145,-0.07700011879205704,-0.30900001525878906,1],"translation":[-0.0030044326558709145,-0.07700011879205704,-0.30900001525878906],"type":"Primitive","visible":true,"width":0.1},"random":{"c":1,"s0":0.0230230980087072,"s1":0.0933316189330071,"s2":0.181355822365731},"sequence":0,"source":"vwf/model/threejs/box.js","type":"subDriver/threejs","name":"15a0b433-725a-7c58-a53a-d3a52296efd9"},"1e8f40f1-7ad6-f731-62d0-65bccbc91286":{"extends":"SandboxCamera.vwf","properties":{"DisplayName":"ChaseCam","fov":74,"owner":"Rob","transform":[1,0,0,0,0,0.8660255670547485,-0.5000000596046448,0,0,0.5000000596046448,0.8660255670547485,0,-0.1387643814086914,-1.1550631523132324,1.225171446800232,1],"translation":[-0.1387643814086914,-1.1550631523132324,1.225171446800232]},"random":{"c":1,"s0":0.66005057701841,"s1":0.261992189334705,"s2":0.890604599611834},"sequence":0,"source":"vwf/model/threejs/camera.js","type":"subDriver/threejs","name":"1e8f40f1-7ad6-f731-62d0-65bccbc91286"},"24623952-8037-e5d2-7651-8bc5b9a26b5a":{"extends":"SandboxCamera.vwf","properties":{"DisplayName":"TopCam","far":1000,"fov":81,"owner":"Rob","transform":[1,0,0,0,0,0.14711886644363403,-0.9891186952590942,0,0,0.9891186952590942,0.14711886644363403,0,-0.005886853206902742,-0.5893968939781189,2.674015760421753,1],"translation":[-0.005886853206902742,-0.5893968939781189,2.674015760421753]},"random":{"c":1,"s0":0.334513067733496,"s1":0.52267289115116,"s2":0.855998533079401},"sequence":0,"source":"vwf/model/threejs/camera.js","type":"subDriver/threejs","name":"24623952-8037-e5d2-7651-8bc5b9a26b5a"},"6b6e6aa3-bab7-9e12-16e1-3e54f035c875":{"extends":"SandboxParticleSystem.vwf","methods":{"hide":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      this.visible = false;\n","parameters":[]}},"properties":{"DisplayName":"ParticleSystem1","additive":true,"damping":0.71,"depthTest":false,"endColor":[0,0,0,0.19],"endSize":0.37,"gravity":0.01,"image":"/adl/sandbox/p7jjNfdWCRtxqLAE//vwfDataManager.svc/texture?UID=fire.jpg","mamSpin":3.3,"maxAcceleration":[0,0,0],"maxLifeTime":33,"maxOrientation":15.7,"maxRate":10000000.001,"maxVelocity":[-1,-1,-0.00169999999999817],"minAcceleration":[0,0,0],"minLifeTime":33,"minOrientation":-22.5,"minSpin":-9.3,"minVelocity":[1,1,0.1],"owner":"Rob","solver":"Analytic","startSize":0.86,"transform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"translation":[0,0,0],"type":"ParticleSystem","velocityMode":"spherical","visible":false},"random":{"c":1,"s0":0.750982497818768,"s1":0.964711369713768,"s2":0.593375997850671},"sequence":0,"name":"6b6e6aa3-bab7-9e12-16e1-3e54f035c875"}},"extends":"sphere2.vwf","methods":{"Die":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                              this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/explode.mp3\", false, 100);\n\n                                                                                                                                                                                                  this.Scene.children_by_name.GameCode.paused = true;\n                                                                                                                                                                                                  this.children_by_name.ParticleSystem1.visible = true;\n                                                                                                                                                                                                  this.children_by_name.ParticleSystem1.future(.5).hide();\n                                                                                                                                                                                                  this.children_by_name.ParticleSystem1.maxVelocity[2] += .0001;\n                                                                                                                                                                                                 \n                                                                                                                                                                                                  this.children_by_name.Ship.visible = false;\n                                                                                                                                                                                                  this.future(2).reset();\n                                                                                                                                                                                                  alertify.error('You died!', function() {\n\n                                                                                                                                                                                                  }.bind(this));\n","parameters":[]},"ready":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                    this.Scene.unbind('keyDown', this.keydownfunc);\n                                                                        this.Scene.unbind('keyUp', this.keyupfunc);\n\n                                                                        var self = this;\n                                                                        this.keydownfunc = function(keyData)\n                                                                        {\n\n                                                                            self.lastKeyDown = keyData.key.char;\n                                                                            if (keyData.key.char == 'W')\n                                                                                self.movement = Vec3.add(self.movement.internal_val, [0, .3, 0], []);\n                                                                            if (keyData.key.char == 'S')\n                                                                                self.movement = Vec3.add(self.movement.internal_val, [0, -0.3, 0], []);\n                                                                            if (keyData.key.char == 'A')\n                                                                                self.movement = Vec3.add(self.movement.internal_val, [-.3, 0, 0], []);\n                                                                            if (keyData.key.char == 'D')\n                                                                                self.movement = Vec3.add(self.movement.internal_val, [.3, 0, 0], []);\n\n                                                                            console.log(self.movement.internal_val);\n                                                                        };\n\n                                                                        this.keyupfunc = function(keyData)\n                                                                        {\n                                                                            //if (keyData.key && keyData.key.char == self.lastKeyDown)\n                                                                            //    self.movement = [0, 0, 0];\n                                                                            if (keyData.key.char == 'W')\n                                                                                self.movement = Vec3.add(self.movement.internal_val, [0, -.3, 0], []);\n                                                                            if (keyData.key.char == 'S')\n                                                                                self.movement = Vec3.add(self.movement.internal_val, [0, .3, 0], []);\n                                                                            if (keyData.key.char == 'A')\n                                                                                self.movement = Vec3.add(self.movement.internal_val, [.3, 0, 0], []);\n                                                                            if (keyData.key.char == 'D')\n                                                                                self.movement = Vec3.add(self.movement.internal_val, [-.3, 0, 0], []);\n                                                                        };\n\n                                                                        this.Scene.bind('keyDown', this.keydownfunc);\n                                                                        this.Scene.bind('keyUp', this.keyupfunc);\n                                                                        self.movement = [0, 0, 0];\n                                                                        //This function was created for you by the system. \n                                                                        //The scene is now completely loaded. This will fire on each client when the client joins, so it`s not a great place to create objects\n","parameters":[]},"reset":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                    this.Scene.children_by_name.GameCode.paused = false;\n                                                                        var origin = [-7.31, -1.263, .1];\n                                                                        this.transformAPI.setPosition(origin[0], origin[1], origin[2] + .5);\n                                                                        this.children_by_name.ParticleSystem1.visible = false;\n\n                                                                        this.timer = 0;\n                                                                        this.children_by_name.Ship.visible = true;\n                                                                        this.Scene.children_by_name.GameCode.reset();\n","parameters":[]},"tick":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                        if (this.Scene.children_by_name.GameCode.paused === true) return;\n                                                                                                                            //This function was created for you by the system. \n                                                                                                                            //The tick function is called 20 times every second. \n                                                                                                                            // Write code here to animate over time\n                                                                                                                           \n                                                                                                                            var hits = this.tryMove(this.movement);\n\n                                                                                                                            if (Vec3.magnitude(this.movement.internal_val) > .0001)\n                                                                                                                                this.children_by_name.Ship.transformAPI.lookat(Vec3.scale(\n                                                                                                                                [this.movement[0], this.movement[1], 0], 1000, []), '', 'X', 'Z');\n\n                                                                                                                            var offset = Vec3.clone(this.movement.internal_val);\n                                                                                                                            var count = 0;\n                                                                                                                            while (hits && Vec3.magnitude(offset) > .001 && count < 10)\n                                                                                                                            {\n                                                                                                                                count++;\n                                                                                                                                offset = Vec3.scale(offset, .5, []);\n                                                                                                                                hits = this.tryMove(offset);\n                                                                                                                            }\n                                                                                                                            if (!hits)\n                                                                                                                                this.transformAPI.move(offset[0], offset[1], offset[2]);\n                                                                                                                            else\n                                                                                                                            {\n\n                                                                                                                            }\n                                                                                                                            this.timer += 1.0 / 30.0;\n","parameters":[]},"tryMove":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                              if (Vec3.magnitude(dir) == 0) return false;\n\n                                                  var transform = this.translation.internal_val;\n                                                  var newpos = Vec3.add(transform, dir, []);\n                                                  var hits = _SceneManager.SphereCast(newpos, .27,\n                                                  {\n                                                      OneHitPerMesh: false,\n                                                      ignore: [_dSky, _Editor.findviewnode(this.id),_Editor.findviewnode(\"sandboxGroup-vwf-ff144e59-a5d8-d4b0-94ed-641a4d60d49\")]\n                                                  });\n\n                                                  if (hits && hits.length)\n                                                  {\n                                                      return hits;\n                                                  }\n                                                  return false;\n","parameters":["dir"]}},"properties":{"DisplayName":"Player","materialDef":{"alpha":1,"ambient":{"b":1,"g":0,"r":0.0823529411764706},"color":{"a":1,"b":1,"g":0,"r":0.0823529411764706},"emit":{"b":0,"g":0,"r":0},"layers":[],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"movement":[0,0,0],"owner":"Rob","quaternion":[0,0,0,1],"radius":0.3,"size":[0.5,1,1],"tempid":"","texture":"checker.jpg","time":0,"timer":0,"transform":[1,0,0,0,0,1,0,0,0,0,1,0,-7.309999942779541,-1.2630000114440918,0.6000000238418579,1],"translation":[-7.309999942779541,-1.2630000114440918,0.6000000238418579],"type":"Primitive","visible":false},"random":{"c":1,"s0":0.489484123885632,"s1":0.787186275236309,"s2":0.766554398229346},"sequence":0,"source":"vwf/model/threejs/sphere.js","type":"subDriver/threejs","name":"d7ab6422-9b04-f46f-9247-620e3217770e"},{"children":{"6d482e8-f3cf-eeee-ce28-77c685817e46":{"children":{"d7355484-de05-9a75-373c-bccd741374d7":{"extends":"rotator.vwf","properties":{"Active":true,"DisplayName":"rotator1","Local":true,"owner":"Rob","type":"behavior"},"random":{"c":1,"s0":0.374866498634219,"s1":0.831964534241706,"s2":0.533414667937905},"sequence":0,"name":"d7355484-de05-9a75-373c-bccd741374d7"}},"extends":"cone2.vwf","properties":{"DisplayName":"cone1","height":0.69,"materialDef":{"alpha":0.39,"ambient":{"b":1,"g":0,"r":0.0823529411764706},"color":{"a":1,"b":1,"g":0,"r":0.0823529411764706},"emit":{"b":0,"g":0,"r":0},"layers":[],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":10,"side":1,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":10,"type":"phong"},"owner":"Rob","radius":0.33,"rsegs":3,"size":[0.5,1,0.5],"tempid":"","texture":"checker.jpg","transform":[-0.9260181784629822,0.3263297975063324,-0.18979468941688538,0,0.3772733211517334,0.7822132110595703,-0.4958072900772095,0,-0.0133369704708457,-0.530719518661499,-0.8474418520927429,0,-2.9802322831784522e-9,0.0317564494907856,1.367362141609192,1],"translation":[-2.9802322831784522e-9,0.0317564494907856,1.367362141609192],"type":"Primitive"},"random":{"c":1,"s0":0.673546148231253,"s1":0.329978154040873,"s2":0.257451710291207},"sequence":0,"source":"vwf/model/threejs/cone.js","type":"subDriver/threejs","name":"6d482e8-f3cf-eeee-ce28-77c685817e46"},"f280a341-263e-dd03-9dcc-9beb6d0a4243":{"extends":"hoverlabel.vwf","properties":{"DisplayName":"hoverlabel1","color":[1,0,0.635294117647059],"offset3D":[0,0,0.9],"owner":"Rob","text":"Goal!","textsize":16,"type":"behavior"},"random":{"c":1,"s0":0.235764436423779,"s1":0.838487991364673,"s2":0.67600059369579},"sequence":0,"name":"f280a341-263e-dd03-9dcc-9beb6d0a4243"}},"extends":"cylinder2.vwf","methods":{"playWinSound":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            this.audioAPI.stopSound(\"./vwfdatamanager.svc/datafile/XAPIGame/win.mp3\");\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/win.mp3\", false, 100);\n","parameters":[]},"tick":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                        if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < 1.8)\n                                                            {\n                                                                // alertify.alert(\"You Win!\");\n                                                                this.Scene.children_by_name.GameCode.postSuccess();\n                                                                this.Scene.children_by_name.Player.reset();\n                                                                this.playWinSound();\n\n                                                            }\n","parameters":[]}},"properties":{"DisplayName":"cylinder1","height":0.26,"materialDef":{"alpha":1,"ambient":{"b":0.0901960784313725,"g":0.670588235294118,"r":0},"color":{"a":1,"b":0.0901960784313725,"g":0.670588235294118,"r":0},"emit":{"b":0,"g":0,"r":0},"layers":[],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","quaternion":[0,0,0,1],"radius":0.46,"rsegs":8,"size":[1,0.5,0.5],"tempid":"","texture":"checker.jpg","transform":[1,0,0,0,0,1,0,0,0,0,1,0,1.1799986362457275,6.448997497558594,-0.14600002765655518,1],"translation":[1.1799986362457275,6.448997497558594,-0.14600002765655518],"type":"Primitive"},"random":{"c":1,"s0":0.723132537910715,"s1":0.637780156685039,"s2":0.0355265494436026},"sequence":0,"source":"vwf/model/threejs/cylinder.js","type":"subDriver/threejs","name":"df9935e2-56fa-59c0-5a00-3306185e5bd8"},{"extends":"http://vwf.example.com/label.vwf","methods":{"tick":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                        //This function was created for you by the system. \n                                                                                                                            //The tick function is called 20 times every second. \n                                                                                                                            // Write code here to animate over time\n                                                                                                                            this.text = \"TIME: \" +this.Scene.children_by_name.Player.timer.toFixed(2);\n","parameters":[]}},"properties":{"DisplayName":"Label1","font_color":[0.749019607843137,0.568627450980392,0.929411764705882],"font_size":60,"height":76,"left":0,"owner":"Rob","text":"TIME: 00.00","text_align":"center","top":0,"transform":[1,0,0,0,0,1,0,0,0,0,1,0,728,69,0,1],"width":417},"random":{"c":1,"s0":0.0831439236644655,"s1":0.970436420757324,"s2":0.431639270158485},"sequence":0,"name":"e4593d8a-d6f5-76fd-7ccc-fe791da4fe18"},{"children":{"7577be93-1b73-80b6-469d-70604810dd65":{"children":{"27878cb4-4739-f2d4-e22f-83c5b4d558":{"extends":"asset.vwf","properties":{"DisplayName":"node-Curbs","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/curb.png"}],"morphTargets":false,"reflect":0,"shininess":0.6,"side":0,"skinning":false,"specularColor":{"b":0,"g":0,"r":0},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.3937009871006012,0,0,0,0,8.741919999168254e-17,0.3937009871006012,0,0,-0.3937009871006012,8.741919999168254e-17,0,0,0,0,1],"translation":[0,0,0],"type":"3DR Object"},"random":{"c":1,"s0":0.289539704332128,"s1":0.291034385561943,"s2":0.87710920907557},"sequence":0,"source":"node-Curbs","type":"link_existing/threejs","name":"27878cb4-4739-f2d4-e22f-83c5b4d558"},"406373a-419-8bdf-d9a3-d2c2e630c2f3":{"extends":"asset.vwf","properties":{"DisplayName":"node-ConcreteBackdrop","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/concrete_pad.png"}],"morphTargets":false,"reflect":0,"shininess":0,"side":0,"skinning":false,"specularColor":{"b":0,"g":0,"r":0},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.3937009871006012,0,0,0,0,8.741919999168254e-17,0.3937009871006012,0,0,-0.3937009871006012,8.741919999168254e-17,0,0,0,0,1],"translation":[0,0,0],"type":"3DR Object"},"random":{"c":1,"s0":0.393710754346102,"s1":0.0822572635952383,"s2":0.314054609509185},"sequence":0,"source":"node-ConcreteBackdrop","type":"link_existing/threejs","name":"406373a-419-8bdf-d9a3-d2c2e630c2f3"},"544ee70-69e7-7402-a049-1b01af125b59":{"extends":"asset.vwf","properties":{"DisplayName":"node-Intersections","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/main_intersections.png"}],"morphTargets":false,"reflect":0,"shininess":0.2,"side":0,"skinning":false,"specularColor":{"b":0,"g":0,"r":0},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.3937009871006012,0,0,0,0,8.741919999168254e-17,0.3937009871006012,0,0,-0.3937009871006012,8.741919999168254e-17,0,0,0,0,1],"translation":[0,0,0],"type":"3DR Object"},"random":{"c":1,"s0":0.668747626710683,"s1":0.546453263843432,"s2":0.918419106630608},"sequence":0,"source":"node-Intersections","type":"link_existing/threejs","name":"544ee70-69e7-7402-a049-1b01af125b59"},"7c894861-767a-ce68-2e70-e1fdd8cfce71":{"extends":"asset.vwf","properties":{"DisplayName":"node-Roads","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/main_road.png"}],"morphTargets":false,"reflect":0,"shininess":0.2,"side":0,"skinning":false,"specularColor":{"b":0.9,"g":0.9,"r":0.9},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.3937009871006012,0,0,0,0,8.741919999168254e-17,0.3937009871006012,0,0,-0.3937009871006012,8.741919999168254e-17,0,0,0,0,1],"translation":[0,0,0],"type":"3DR Object"},"random":{"c":1,"s0":0.188105322187766,"s1":0.0735020318534225,"s2":0.931469126837328},"sequence":0,"source":"node-Roads","type":"link_existing/threejs","name":"7c894861-767a-ce68-2e70-e1fdd8cfce71"},"8341f8fc-6014-3900-b3ca-356ef2cf7854":{"extends":"asset.vwf","properties":{"DisplayName":"node-Curbs2","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/curb.png"}],"morphTargets":false,"reflect":0,"shininess":0.6,"side":0,"skinning":false,"specularColor":{"b":0,"g":0,"r":0},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.3937009871006012,0,0,0,0,8.741919999168254e-17,0.3937009871006012,0,0,-0.3937009871006012,8.741919999168254e-17,0,0,0,0,1],"translation":[0,0,0],"type":"3DR Object"},"random":{"c":1,"s0":0.671664703870192,"s1":0.906491779955104,"s2":0.765995352528989},"sequence":0,"source":"node-Curbs2","type":"link_existing/threejs","name":"8341f8fc-6014-3900-b3ca-356ef2cf7854"},"bc9cd1fd-f073-3b1f-42ca-65063e518f0":{"extends":"asset.vwf","properties":{"DisplayName":"node-Start","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/start_end.png"}],"morphTargets":false,"reflect":0,"shininess":1.128772,"side":0,"skinning":false,"specularColor":{"b":0,"g":0,"r":0},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.3937009871006012,0,0,0,0,8.741919999168254e-17,0.3937009871006012,0,0,-0.3937009871006012,8.741919999168254e-17,0,0,0,0,1],"translation":[0,0,0],"type":"3DR Object"},"random":{"c":1,"s0":0.0898619326762855,"s1":0.483161891112104,"s2":0.7960892082192},"sequence":0,"source":"node-Start","type":"link_existing/threejs","name":"bc9cd1fd-f073-3b1f-42ca-65063e518f0"},"cc447b53-f867-d269-1e0b-a9d6bc765210":{"extends":"asset.vwf","properties":{"DisplayName":"node-Finish","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/start_end.png"}],"morphTargets":false,"reflect":0,"shininess":1.128772,"side":0,"skinning":false,"specularColor":{"b":0,"g":0,"r":0},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.3937009871006012,0,0,0,0,8.741919999168254e-17,0.3937009871006012,0,0,-0.3937009871006012,8.741919999168254e-17,0,0.490556001663208,4.7846999168396,0,1],"translation":[0.490556001663208,4.7846999168396,0],"type":"3DR Object"},"random":{"c":1,"s0":0.985537244006991,"s1":0.569249778985977,"s2":0.482421754160896},"sequence":0,"source":"node-Finish","type":"link_existing/threejs","name":"cc447b53-f867-d269-1e0b-a9d6bc765210"}},"extends":"asset.vwf","properties":{"owner":"Rob","transform":[1,0,0,0,0,1,0,0,0,0,1,0,0.006054401397705078,-0.012330055236816406,0.04000002145767212,1],"translation":[0.006054401397705078,-0.012330055236816406,0.04000002145767212]},"random":{"c":1,"s0":0.651371901156381,"s1":0.0982542089186609,"s2":0.536566209048033},"sequence":0,"source":"./vwfdatamanager.svc/datafile/XAPIGame/roads.json","type":"subDriver/threejs/asset/vnd.osgjs+json+compressed","name":"7577be93-1b73-80b6-469d-70604810dd65"},"fa5c9e96-f6a4-1c5b-4040-20285912c6c9":{"extends":"asset.vwf","properties":{"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/buildings_group1.png"}],"morphTargets":false,"reflect":0,"shininess":0.16,"side":0,"skinning":false,"specularColor":{"b":0.9,"g":0.9,"r":0.9},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.39100000262260437,0,0,0,0,0.39100000262260437,0,0,0,0,0.3790000081062317,0,-0.006054401397705078,0.012330055236816406,0.02869562990963459,1],"translation":[-0.006054401397705078,0.012330055236816406,0.02869562990963459]},"random":{"c":1,"s0":0.565891590667889,"s1":0.311066881520674,"s2":0.26518156984821},"sequence":0,"source":"./vwfdatamanager.svc/datafile/XAPIGame/MazeCityBuildings.json","type":"subDriver/threejs/asset/vnd.osgjs+json+compressed","name":"fa5c9e96-f6a4-1c5b-4040-20285912c6c9"}},"extends":"sandboxGroup.vwf","properties":{"open":false,"owner":"Rob","scale":[1.600000023841858,1.600000023841858,1.600000023841858],"transform":[1.600000023841858,0,0,0,0,1.600000023841858,0,0,0,0,1.600000023841858,0,0.46005985140800476,-1.1663297414779663,0.005999718327075243,1],"translation":[0.46005985140800476,-1.1663297414779663,0.005999718327075243],"type":"Group"},"random":{"c":1,"s0":0.130991763900965,"s1":0.53304577502422,"s2":0.142360993660986},"sequence":0,"name":"ff144e59-a5d8-d4b0-94ed-641a4d60d49"},{"clients":{"1PCjGW2szVWu40tJWm66":{"cid":"1PCjGW2szVWu40tJWm66","name":"Rob"}},"DisplayName":null,"placemarks":{"Origin":{"0":-6.93499994277954,"1":-367,"2":0},"startpoint":{"0":-4.45302486419678,"1":-1.26249170303345,"2":0.109999999403954}},"navmode":"none","sunColor":[1,1,1],"sunDirection":[0.75,0.55,1],"sunIntensity":0.8,"ambientColor":[0.35,0.35,0.35],"fogColor":[1,1,1],"fogNear":100,"fogFar":1000,"fogType":0,"fogDensity":0.005,"fogVFalloff":1.3,"fogVFalloffStart":0,"skyColorBlend":0,"skyFogBlend":0,"skyApexColor":[0.458823529411765,0.458823529411765,0.458823529411765],"skyHorizonColor":[0.341176470588235,0.333333333333333,0.333333333333333],"vAtmosphereDensity":0.0005,"playMode":"stop","materialDef":{"shininess":0,"alpha":1,"ambient":{"r":0.6588235294117647,"g":0.6509803921568628,"b":0.6509803921568628},"color":{"r":0.6588235294117647,"g":0.6509803921568628,"b":0.6509803921568628,"a":1},"emit":{"r":0,"g":0,"b":0},"reflect":0,"shadeless":false,"shadow":true,"specularColor":{"r":0,"g":0,"b":0},"specularLevel":1,"layers":{"length":0},"type":"phong"},"skyTexture":"cloudy_noon","owner":"Rob","type":"scene","permission":{"Everyone":1},"playBackup":{"children":{"./vwfdatamanager.svc/datafile/XAPIGame/city_col.dae1":{"extends":"asset.vwf","id":"asset-vwf-vwfdatamanager-svc-datafile-XAPIGame-city_col-dae1","name":"./vwfdatamanager.svc/datafile/XAPIGame/city_col.dae1","properties":{"owner":"Rob","transform":[24.7000026702881,0,0,0,0,-8.8588834046277e-9,24.7000026702881,0,0,-24.7000007629395,-8.8588834046277e-9,0,0.451000034809113,-1.11800026893616,-1.12199997901917,1],"visible":false},"random":{"c":1,"s0":0.189805781235918,"s1":0.983853878453374,"s2":0.648477415088564},"sequence":0,"source":"./vwfdatamanager.svc/datafile/XAPIGame/city_col.dae","type":"subDriver/threejs/asset/vnd.collada+xml"},"365b266-41ce-11b9-1872-e623ef131b5d":{"children":{"c20a7e2c-38c6-9034-1f88-d2bd4d671fc9":{"extends":"uvmap.vwf","id":"uvmap-vwf-c20a7e2c-38c6-9034-1f88-d2bd4d671fc9","name":"c20a7e2c-38c6-9034-1f88-d2bd4d671fc9","properties":{"DisplayName":"uvmap1","NotProto":"NOT!","_length":2.78,"height":2.73,"mode":"plane","owner":"Rob","plane":"y","transform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"type":"modifier","uoffset":0.34,"voffset":-0.07},"random":{"c":1,"s0":0.0115805226378143,"s1":0.223965629935265,"s2":0.206677667563781},"sequence":0,"source":"vwf/model/threejs/uvmap.js","type":"subDriver/threejs"}},"extends":"cylinder2.vwf","id":"cylinder2-vwf-365b266-41ce-11b9-1872-e623ef131b5d","name":"365b266-41ce-11b9-1872-e623ef131b5d","properties":{"DisplayName":"cylinder3","height":0.26,"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"a":1,"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/teleport.png"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.59,"rsegs":16,"size":[1,0.5,0.5],"tempid":"","texture":"checker.jpg","transform":[1,0,0,0,0,1,0,0,0,0,1,0,0.868994414806366,2.87499785423279,-0.21900001168251,1],"type":"Primitive"},"random":{"c":1,"s0":0.307763082440943,"s1":0.157772459322587,"s2":0.224498455645517},"sequence":0,"source":"vwf/model/threejs/cylinder.js","type":"subDriver/threejs"},"3b2df2e9-b9c8-2082-930f-eabf145f5273":{"children":{"371ce16d-b4aa-d944-6123-bfd76c8c2a89":{"extends":"rotator.vwf","id":"rotator-vwf-371ce16d-b4aa-d944-6123-bfd76c8c2a89","name":"371ce16d-b4aa-d944-6123-bfd76c8c2a89","properties":{"Active":true,"Amount":4,"DisplayName":"rotator1","Local":true,"owner":"Rob","type":"behavior"},"random":{"c":1,"s0":0.697554648621008,"s1":0.740025692153722,"s2":0.641901551513001},"sequence":0}},"extends":"cone2.vwf","id":"cone2-vwf-3b2df2e9-b9c8-2082-930f-eabf145f5273","name":"3b2df2e9-b9c8-2082-930f-eabf145f5273","properties":{"DisplayName":"cone1","height":0.69,"hsegs":1,"materialDef":{"alpha":0.48,"ambient":{"b":0.0745098039215686,"g":0.0745098039215686,"r":0.968627450980392},"color":{"a":1,"b":0.0745098039215686,"g":0.0745098039215686,"r":0.968627450980392},"emit":{"b":0,"g":0,"r":0},"layers":[],"morphTargets":false,"reflect":5.2,"shadeless":false,"shadow":true,"shininess":10,"side":2,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":9.6,"type":"phong"},"owner":"Rob","radius":0.33,"rsegs":3,"size":[0.5,1,0.5],"tempid":"","testprop":"value","texture":"checker.jpg","transform":[-0.605588316917419,0.678896725177765,-0.415143042802811,0,0.795643091201782,0.507360935211182,-0.330935060977936,0,-0.0140427984297276,-0.530722141265869,-0.847427666187286,0,-6.75800037384033,-0.968243896961212,1.36836218833923,1],"type":"Primitive"},"random":{"c":1,"s0":0.709777161711827,"s1":0.231308539630845,"s2":0.789308838779107},"sequence":0,"source":"vwf/model/threejs/cone.js","type":"subDriver/threejs"},"528b1838-cc3c-d7c-b8ee-17f0d5806c2c":{"extends":"http://vwf.example.com/behavior.vwf","id":"http-vwf-example-com-behavior-vwf-528b1838-cc3c-d7c-b8ee-17f0d5806c2c","methods":{"initialize":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","parameters":[]},"postDeath":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                                  if (!_DataManager.getInstanceData().publishSettings) return;\n                                                                                                                                                                                                      var worldId = \"http://vwf.adlnet.gov/xapi/\" + /\\w{16}/.exec(_DataManager.getCurrentSession())[0];\n                                                                                                                                                                                                      var trapId = worldId + '/' + trapName;\n                                                                                                                                                                                                      var agentId = {\n                                                                                                                                                                                                          'homePage': 'http://vwf.adlnet.gov',\n                                                                                                                                                                                                          'name': this.playerName\n                                                                                                                                                                                                      };\n                                                                                                                                                                                                      var statement = new ADL.XAPIStatement(\n                                                                                                                                                                                                          new ADL.XAPIStatement.Agent(agentId, agentId.name),\n                                                                                                                                                                                                          new ADL.XAPIStatement.Verb('http://vwf.adlnet.gov/xapi/IFestGame2014/verbs/killed_by', 'killed by'),\n                                                                                                                                                                                                          new ADL.XAPIStatement.Activity(trapId, trapName));\n\n                                                                                                                                                                                                      statement.addParentActivity(new ADL.XAPIStatement.Activity(worldId, _DataManager.getInstanceData().title || 'tempPublish'));\n                                                                                                                                                                                                      statement.context.registration = this.registration;\n\n                                                                                                                                                                                                      statement.context.extensions = {\n                                                                                                                                                                                                          \"http://vwf.adlnet.gov/xapi/IFestGame2014\":\n                                                                                                                                                                                                          {\n                                                                                                                                                                                                              'GameType': this.Scene.children_by_name[trapName].GameType,\n                                                                                                                                                                                                              'timeAlive': this.Scene.children_by_name.Player.timer\n                                                                                                                                                                                                          }\n                                                                                                                                                                                                      };\n                                                                                                                                                                                                      \n                                                                                                                                                                                                      this.xAPI.sendStatement(null, statement);\n","parameters":["trapName"]},"postQuit":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                                if (!_DataManager.getInstanceData().publishSettings) return;\n                                                                                                                                                                                                    var worldId = \"http://vwf.adlnet.gov/xapi/\" + /\\w{16}/.exec(_DataManager.getCurrentSession())[0];\n                                                                                                                                                                                                    var statement = new ADL.XAPIStatement(\n                                                                                                                                                                                                    {\n                                                                                                                                                                                                        'homePage': 'http://vwf.adlnet.gov',\n                                                                                                                                                                                                        'name': this.playerName\n                                                                                                                                                                                                    },\n                                                                                                                                                                                                        ADL.verbs.terminated,\n                                                                                                                                                                                                        new ADL.XAPIStatement.Activity(worldId, _DataManager.getInstanceData().title || 'tempPublish')\n                                                                                                                                                                                                    );\n                                                                                                                                                                                                    statement.generateId();\n                                                                                                                                                                                                    statement.context = {};\n                                                                                                                                                                                                    statement.context.registration = this.registration;\n                                                                                                                                                                                                    console.log(statement);\n                                                                                                                                                                                                    this.xAPI.sendStatement(null, statement);\n","parameters":[]},"postSpawn":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                                if (!_DataManager.getInstanceData().publishSettings) return;\n                                                                                                                                                                                                    var worldId = \"http://vwf.adlnet.gov/xapi/\" + /\\w{16}/.exec(_DataManager.getCurrentSession())[0];\n\n                                                                                                                                                                                                    var agentId = {\n                                                                                                                                                                                                        'homePage': 'http://vwf.adlnet.gov',\n                                                                                                                                                                                                        'name': this.playerName\n                                                                                                                                                                                                    };\n                                                                                                                                                                                                    var statement = new ADL.XAPIStatement(\n                                                                                                                                                                                                        new ADL.XAPIStatement.Agent(agentId, agentId.name),\n                                                                                                                                                                                                        new ADL.XAPIStatement.Verb('http://vwf.adlnet.gov/xapi/IFestGame2014/verbs/spawned_in', 'spawned in'),\n                                                                                                                                                                                                        new ADL.XAPIStatement.Activity(worldId, _DataManager.getInstanceData().title || 'tempPublish'));\n\n                                                                                                                                                                                                    statement.context.registration = this.registration;\n\n                                                                                                                                                                                                    console.log(statement);\n                                                                                                                                                                                                    this.xAPI.sendStatement(null, statement);\n","parameters":["player"]},"postStart":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                                if (!_DataManager.getInstanceData().publishSettings) return;\n                                                                                                                                                                                                    var worldId = \"http://vwf.adlnet.gov/xapi/\" + /\\w{16}/.exec(_DataManager.getCurrentSession())[0];\n                                                                                                                                                                                                    var agentId = {\n                                                                                                                                                                                                        'homePage': 'http://vwf.adlnet.gov',\n                                                                                                                                                                                                        'name': player\n                                                                                                                                                                                                    };\n\n                                                                                                                                                                                                    var statement = new ADL.XAPIStatement(\n                                                                                                                                                                                                        new ADL.XAPIStatement.Agent(agentId, agentId.name),\n                                                                                                                                                                                                        ADL.verbs.attempted,\n                                                                                                                                                                                                        new ADL.XAPIStatement.Activity(worldId, _DataManager.getInstanceData().title || 'tempPublish'));\n                                                                                                                                                                                                    statement.object.definition.moreInfo = window.location.href;\n\n                                                                                                                                                                                                    statement.generateRegistration();\n\n                                                                                                                                                                                                    this.registration = statement.context.registration;\n\n                                                                                                                                                                                                    console.log(statement);\n                                                                                                                                                                                                    this.xAPI.sendStatement(null, statement);\n","parameters":["player"]},"postSuccess":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                                if (!_DataManager.getInstanceData().publishSettings) return;\n                                                                                                                                                                                                    var worldId = \"http://vwf.adlnet.gov/xapi/\" + /\\w{16}/.exec(_DataManager.getCurrentSession())[0];\n                                                                                                                                                                                                    var agentId = {\n                                                                                                                                                                                                        'homePage': 'http://vwf.adlnet.gov',\n                                                                                                                                                                                                        'name': this.playerName\n                                                                                                                                                                                                    };\n\n                                                                                                                                                                                                    var statement = new ADL.XAPIStatement(\n                                                                                                                                                                                                        new ADL.XAPIStatement.Agent(agentId, agentId.name),\n                                                                                                                                                                                                        ADL.verbs.completed,\n                                                                                                                                                                                                        new ADL.XAPIStatement.Activity(worldId, _DataManager.getInstanceData().title || 'tempPublish'));\n\n                                                                                                                                                                                                    statement.object.definition.moreInfo = window.location.href;\n\n                                                                                                                                                                                                    statement.context = {\n                                                                                                                                                                                                        'registration': this.registration,\n                                                                                                                                                                                                        'extensions':\n                                                                                                                                                                                                        {\n                                                                                                                                                                                                            \"http://vwf.adlnet.gov/xapi/IFestGame2014\":\n                                                                                                                                                                                                            {\n                                                                                                                                                                                                                'timeAlive': this.Scene.children_by_name.Player.timer\n                                                                                                                                                                                                            }\n                                                                                                                                                                                                        }\n                                                                                                                                                                                                    };\n                                                                                                                                                                                                    \n                                                                                                                                                                                                    this.xAPI.sendStatement(null, statement);\n","parameters":[]},"postWaypoint":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                                if (!_DataManager.getInstanceData().publishSettings) return;\n\n                                                                                                                                                                                                    var worldId = \"http://vwf.adlnet.gov/xapi/\" + /\\w{16}/.exec(_DataManager.getCurrentSession())[0];\n                                                                                                                                                                                                    var waypointId = worldId + '/' + waypointName;\n                                                                                                                                                                                                    var agentId = {\n                                                                                                                                                                                                        'homePage': 'http://vwf.adlnet.gov',\n                                                                                                                                                                                                        'name': this.playerName\n                                                                                                                                                                                                    };\n                                                                                                                                                                                                    var statement = new ADL.XAPIStatement(\n                                                                                                                                                                                                        new ADL.XAPIStatement.Agent(agentId, agentId.name),\n                                                                                                                                                                                                        new ADL.XAPIStatement.Verb('http://vwf.adlnet.gov/xapi/IFestGame2014/verbs/reached', 'reached'),\n                                                                                                                                                                                                        new ADL.XAPIStatement.Activity(waypointId, waypointName));\n                                                                                                                                                                                                        \n                                                                                                                                                                                                    statement.addParentActivity(new ADL.XAPIStatement.Activity(worldId, _DataManager.getInstanceData().title || 'tempPublish'));\n                                                                                                                                                                                                    statement.context.registration = this.registration;\n                                                                                                                                                                                                    statement.context.extensions = {\n                                                                                                                                                                                                        \"http://vwf.adlnet.gov/xapi/IFestGame2014\":\n                                                                                                                                                                                                        {\n                                                                                                                                                                                                            'timeAlive': this.Scene.children_by_name.Player.timer\n                                                                                                                                                                                                        }\n                                                                                                                                                                                                    };\n                                                                                                                                                                                                    this.xAPI.sendStatement(null, statement);\n","parameters":["waypointName"]},"ready":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            this.xAPI.configure(\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    endpoint: 'https://lrs.adlnet.gov/xapi/',\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    user: 'IFestGame',\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    password: 'UQw9Sw*FcZlM'\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                });\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                this.xAPI.testConfig();\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                var id = this.id;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                var self2 = this;\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                _dView.setCamera('SandboxCamera-vwf-58faf29-3658-392-e779-44d7f701f192');\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                this.Scene.bind('avatarCreated', function(cid, name)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    window.setTimeout(function()\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        _dView.setCamera('SandboxCamera-vwf-58faf29-3658-392-e779-44d7f701f192');\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }, 300);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                });\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                this.Scene.bind('clientConnected', function(cid, name)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    _dView.setCamera('SandboxCamera-vwf-58faf29-3658-392-e779-44d7f701f192');\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    self2.playerName = name;\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    if (self2.playerName == 'anonymous')\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        alertify.prompt(\"Please tell me your name.\", function(ok, val)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            vwf_view.kernel.setProperty(self2.id, 'playerName', val);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            self2.postStart(val);\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        });\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    else\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        self2.postStart(self2.playerName);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                });\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                var settings = _DataManager.getInstanceData();\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                if (!settings.publishSettings)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    $(document.head).append('<script type=\"text/javascript\" src=\"./vwfdatamanager.svc/datafile/XAPIGame/gamegui.js\" ></script>')\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }\n","parameters":[]},"reset":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  var myself = this;\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      function walk(node)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          if (!node || node == myself || node == myself.Scene.children_by_name.Player) return;\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          if (node.reset)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              node.reset();\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          var children = node.children;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          for (var i = 0; i < children.length; i++)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              if (children[i])\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  walk(children[i]);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          }\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      }\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      var children = this.parent.children;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      for (var i = 0; i < children.length; i++)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          walk(children[i]);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      }\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      this.postSpawn();\n","parameters":[]}},"name":"528b1838-cc3c-d7c-b8ee-17f0d5806c2c","properties":{"DisplayName":"GameCode","NotProto":"","owner":"Rob","paused":false,"playerName":"Rob","registration":"b8cb7ddb-a081-baf8-ccb8-cdd9674db892","type":"behavior"},"random":{"c":1,"s0":0.61410125461407,"s1":0.146318237995729,"s2":0.355505408486351},"sequence":0},"57a66669-539-e627-73b-5a87c02bd688":{"children":{"c51f8e7f-6e15-b0b0-e161-7e041a5b5c9e":{"extends":"uvmap.vwf","id":"uvmap-vwf-c51f8e7f-6e15-b0b0-e161-7e041a5b5c9e","name":"c51f8e7f-6e15-b0b0-e161-7e041a5b5c9e","properties":{"DisplayName":"uvmap1","NotProto":"NOT!","_length":2.78,"height":2.73,"mode":"plane","owner":"Rob","plane":"y","transform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"type":"modifier","uoffset":0.34,"voffset":-0.07},"random":{"c":1,"s0":0.0115805226378143,"s1":0.223965629935265,"s2":0.206677667563781},"sequence":0,"source":"vwf/model/threejs/uvmap.js","type":"subDriver/threejs"},"fd05649d-f109-ef76-b8ea-396e783d8a20":{"extends":"hoverlabel.vwf","id":"hoverlabel-vwf-fd05649d-f109-ef76-b8ea-396e783d8a20","name":"fd05649d-f109-ef76-b8ea-396e783d8a20","properties":{"DisplayName":"hoverlabel1","color":[0.933333333333333,0,1],"offset3D":[0,0,0.9],"owner":"Rob","text":"Start!","textsize":12,"type":"behavior"},"random":{"c":1,"s0":0.0182904226239771,"s1":0.415411794790998,"s2":0.657714408589527},"sequence":0}},"extends":"cylinder2.vwf","id":"cylinder2-vwf-57a66669-539-e627-73b-5a87c02bd688","name":"57a66669-539-e627-73b-5a87c02bd688","properties":{"DisplayName":"cylinder1","height":0.26,"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"a":1,"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/teleport.png"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.59,"rsegs":16,"size":[1,0.5,0.5],"tempid":"","texture":"checker.jpg","transform":[1,0,0,0,0,1,0,0,0,0,1,0,-7.55100393295288,-0.891001880168915,-0.0930000022053719,1],"type":"Primitive"},"random":{"c":1,"s0":0.307763082440943,"s1":0.157772459322587,"s2":0.224498455645517},"sequence":0,"source":"vwf/model/threejs/cylinder.js","type":"subDriver/threejs"},"58faf29-3658-392-e779-44d7f701f192":{"extends":"SandboxCamera.vwf","id":"SandboxCamera-vwf-58faf29-3658-392-e779-44d7f701f192","name":"58faf29-3658-392-e779-44d7f701f192","properties":{"DisplayName":"OverheadCam","far":1000,"fov":74,"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":5.3,"scaley":6.1,"src":"/adl/sandbox/DnNE31e3uvYptRYw//vwfDataManager.svc/texture?UID=brick.jpg"}],"morphTargets":false,"reflect":0.1,"shininess":0.2,"side":0,"skinning":false,"specularColor":{"b":0.0666666666666667,"g":0.0666666666666667,"r":0.0666666666666667},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[1,0,0,0,0,-1.30786332874777e-7,-0.99999988079071,0,0,0.99999988079071,-1.30786332874777e-7,0,0.0114222439005971,-1.15595650672913,11.9199934005737,1]},"random":{"c":1,"s0":0.293749240227044,"s1":0.289425936760381,"s2":0.0649766458664089},"sequence":0,"source":"vwf/model/threejs/camera.js","type":"subDriver/threejs"},"Rob":{"events":{"Message":{"body":"if(vwf.client() != vwf.moniker()) return; setupPmWindow(this.PlayerNumber)    ","parameters":[""]},"ShowProfile":{"body":"if(vwf.client() != vwf.moniker()) return; _UserManager.showProfile(_DataManager.GetProfileForUser(this.PlayerNumber))    ","parameters":[""]}},"extends":"character.vwf","id":"character-vwf-Rob","name":"Rob","properties":{"PlayerNumber":"Rob","activeCycle":[],"castShadows":true,"cycles":{"jump":{"current":0,"length":36,"loop":false,"speed":1.25,"start":70},"run":{"current":0,"length":36,"loop":true,"speed":1.25,"start":70},"runningjump":{"current":0,"length":48,"loop":false,"speed":1.25,"start":109},"stand":{"current":0,"length":0,"loop":true,"speed":1.25,"start":1},"strafeleft":{"current":0,"length":16,"loop":true,"speed":-1.5,"start":124},"straferight":{"current":0,"length":16,"loop":true,"speed":1.5,"start":108},"walk":{"current":0,"length":27,"loop":true,"speed":1,"start":6},"walkback":{"current":0,"length":30,"loop":true,"speed":-1.25,"start":0}},"isDynamic":true,"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"depthtest":true,"emit":{"b":0.254901960784314,"g":0.254901960784314,"r":0.270588235294118},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./avatars/VWS_B_Male3-2.jpg"}],"morphTargets":false,"reflect":0,"shininess":0,"side":0,"skinning":true,"specularColor":{"b":0.2,"g":0.2,"r":0.2},"specularLevel":1,"type":"phong"},"owner":"Rob","ownerClientID":"z0KyOonKQ6NsxeP8Wm6q","profile":{"Avatar":"usmale.dae","Email":"robert.chadwick.ctr@adlnet.gov","Homepage":"","Location":"asdf","Name":"Rob Chadwick","Organization":"","Salt":"361c7d4f-a442-2df3-7ef8-1030ad9b4941","Skype":"","TempPassword":{"Password":"54f9870b52c211448fb751d21870cf2e197072a8f44dd5c05592781e949ee8c6","Time":"2014-02-07T00:30:49.974Z"},"Twitter":"","Username":"Rob","avatarModel":"./avatars/VWS_Business_Male3.DAE","avatarTexture":"./avatars/VWS_B_Male3-2.jpg","inventoryKey":"32hqb3rv"},"receiveShadows":true,"standing":0,"standingOnID":null,"standingOnOffset":null,"transform":[1,0,0,0,0,1,0,0,0,0,1,0,-6.93499994277954,-367,0,1]},"random":{"c":1,"s0":0.915567872812971,"s1":0.525050314841792,"s2":0.695036135381088},"sequence":0,"source":"./avatars/VWS_Business_Male3.DAE","type":"subDriver/threejs/asset/vnd.collada+xml"},"camera":{"extends":"http://vwf.example.com/camera.vwf","id":"http-vwf-example-com-camera-vwf-camera","name":"camera","random":{"c":1,"s0":0.779659974854439,"s1":0.298544788965955,"s2":0.832272043917328},"sequence":0},"d7ab6422-9b04-f46f-9247-620e3217770e":{"children":{"15a0b433-725a-7c58-a53a-d3a52296efd9":{"children":{"3ee14198-1420-926a-e5c6-22d85be97c00":{"extends":"asset.vwf","id":"asset-vwf-3ee14198-1420-926a-e5c6-22d85be97c00","name":"3ee14198-1420-926a-e5c6-22d85be97c00","properties":{"DisplayName":"truck","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/paneltruck.png"}],"morphTargets":false,"reflect":0,"shininess":1,"side":0,"skinning":false,"specularColor":{"b":1,"g":1,"r":1},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.00516455061733723,0.39996662735939,0,0,2.01628069795845e-9,-2.60347403358008e-11,0.400000005960464,0,0.39996662735939,-0.00516455061733723,-2.0164496739028e-9,0,0,0,-0.176000073552132,1]},"random":{"c":1,"s0":0.601201624143869,"s1":0.0353553316090256,"s2":0.457793089793995},"sequence":0,"source":"./vwfdatamanager.svc/datafile/XAPIGame/GamePanelTruck.json","type":"subDriver/threejs/asset/vnd.osgjs+json+compressed"}},"extends":"box2.vwf","id":"box2-vwf-15a0b433-725a-7c58-a53a-d3a52296efd9","name":"15a0b433-725a-7c58-a53a-d3a52296efd9","properties":{"DisplayName":"Ship","_length":0,"height":0.06,"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"a":1,"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"checker.jpg"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","size":[1,1,1],"tempid":"","texture":"checker.jpg","transform":[0.999999523162842,0.000256664381595328,0.00102998921647668,0,-0.000256664527114481,1.00000011920929,0,0,-0.00102998910006136,-2.64361631252541e-7,0.999999463558197,0,-0.00300443265587091,-0.077000118792057,-0.309000015258789,1],"type":"Primitive","visible":true,"width":0.1},"random":{"c":1,"s0":0.0230230980087072,"s1":0.0933316189330071,"s2":0.181355822365731},"sequence":0,"source":"vwf/model/threejs/box.js","type":"subDriver/threejs"},"1e8f40f1-7ad6-f731-62d0-65bccbc91286":{"extends":"SandboxCamera.vwf","id":"SandboxCamera-vwf-1e8f40f1-7ad6-f731-62d0-65bccbc91286","name":"1e8f40f1-7ad6-f731-62d0-65bccbc91286","properties":{"DisplayName":"ChaseCam","fov":74,"owner":"Rob","transform":[1,0,0,0,0,0.866025567054749,-0.500000059604645,0,0,0.500000059604645,0.866025567054749,0,-0.138764381408691,-1.15506315231323,1.22517144680023,1]},"random":{"c":1,"s0":0.66005057701841,"s1":0.261992189334705,"s2":0.890604599611834},"sequence":0,"source":"vwf/model/threejs/camera.js","type":"subDriver/threejs"},"24623952-8037-e5d2-7651-8bc5b9a26b5a":{"extends":"SandboxCamera.vwf","id":"SandboxCamera-vwf-24623952-8037-e5d2-7651-8bc5b9a26b5a","name":"24623952-8037-e5d2-7651-8bc5b9a26b5a","properties":{"DisplayName":"TopCam","far":1000,"fov":81,"owner":"Rob","transform":[1,0,0,0,0,0.147118866443634,-0.989118695259094,0,0,0.989118695259094,0.147118866443634,0,-0.00588685320690274,-0.589396893978119,2.67401576042175,1]},"random":{"c":1,"s0":0.334513067733496,"s1":0.52267289115116,"s2":0.855998533079401},"sequence":0,"source":"vwf/model/threejs/camera.js","type":"subDriver/threejs"},"6b6e6aa3-bab7-9e12-16e1-3e54f035c875":{"extends":"SandboxParticleSystem.vwf","id":"SandboxParticleSystem-vwf-6b6e6aa3-bab7-9e12-16e1-3e54f035c875","methods":{"hide":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            this.visible = false;\n","parameters":[]}},"name":"6b6e6aa3-bab7-9e12-16e1-3e54f035c875","properties":{"DisplayName":"ParticleSystem1","additive":true,"damping":0.71,"depthTest":false,"endColor":[0,0,0,0.19],"endSize":0.37,"gravity":0.01,"image":"/adl/sandbox/p7jjNfdWCRtxqLAE//vwfDataManager.svc/texture?UID=fire.jpg","mamSpin":3.3,"maxAcceleration":[0,0,0],"maxLifeTime":33,"maxOrientation":15.7,"maxRate":10000000.001,"maxVelocity":[-1,-1,-0.00169999999999817],"minAcceleration":[0,0,0],"minLifeTime":33,"minOrientation":-22.5,"minSpin":-9.3,"minVelocity":[1,1,0.1],"owner":"Rob","solver":"Analytic","startSize":0.86,"transform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"type":"ParticleSystem","velocityMode":"spherical","visible":false},"random":{"c":1,"s0":0.750982497818768,"s1":0.964711369713768,"s2":0.593375997850671},"sequence":0}},"extends":"sphere2.vwf","id":"sphere2-vwf-d7ab6422-9b04-f46f-9247-620e3217770e","methods":{"Die":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                    this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/explode.mp3\", false, 100);\n\n                                                                                                                                                                                        this.Scene.children_by_name.GameCode.paused = true;\n                                                                                                                                                                                        this.children_by_name.ParticleSystem1.visible = true;\n                                                                                                                                                                                        this.children_by_name.ParticleSystem1.future(.5).hide();\n                                                                                                                                                                                        this.children_by_name.ParticleSystem1.maxVelocity[2] += .0001;\n                                                                                                                                                                                       \n                                                                                                                                                                                        this.children_by_name.Ship.visible = false;\n                                                                                                                                                                                        this.future(2).reset();\n                                                                                                                                                                                        alertify.error('You died!', function() {\n\n                                                                                                                                                                                        }.bind(this));\n","parameters":[]},"ready":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                          this.Scene.unbind('keyDown', this.keydownfunc);\n                                                              this.Scene.unbind('keyUp', this.keyupfunc);\n\n                                                              var self = this;\n                                                              this.keydownfunc = function(keyData)\n                                                              {\n\n                                                                  self.lastKeyDown = keyData.key.char;\n                                                                  if (keyData.key.char == 'W')\n                                                                      self.movement = Vec3.add(self.movement.internal_val, [0, .3, 0], []);\n                                                                  if (keyData.key.char == 'S')\n                                                                      self.movement = Vec3.add(self.movement.internal_val, [0, -0.3, 0], []);\n                                                                  if (keyData.key.char == 'A')\n                                                                      self.movement = Vec3.add(self.movement.internal_val, [-.3, 0, 0], []);\n                                                                  if (keyData.key.char == 'D')\n                                                                      self.movement = Vec3.add(self.movement.internal_val, [.3, 0, 0], []);\n\n                                                                  console.log(self.movement.internal_val);\n                                                              };\n\n                                                              this.keyupfunc = function(keyData)\n                                                              {\n                                                                  //if (keyData.key && keyData.key.char == self.lastKeyDown)\n                                                                  //    self.movement = [0, 0, 0];\n                                                                  if (keyData.key.char == 'W')\n                                                                      self.movement = Vec3.add(self.movement.internal_val, [0, -.3, 0], []);\n                                                                  if (keyData.key.char == 'S')\n                                                                      self.movement = Vec3.add(self.movement.internal_val, [0, .3, 0], []);\n                                                                  if (keyData.key.char == 'A')\n                                                                      self.movement = Vec3.add(self.movement.internal_val, [.3, 0, 0], []);\n                                                                  if (keyData.key.char == 'D')\n                                                                      self.movement = Vec3.add(self.movement.internal_val, [-.3, 0, 0], []);\n                                                              };\n\n                                                              this.Scene.bind('keyDown', this.keydownfunc);\n                                                              this.Scene.bind('keyUp', this.keyupfunc);\n                                                              self.movement = [0, 0, 0];\n                                                              //This function was created for you by the system. \n                                                              //The scene is now completely loaded. This will fire on each client when the client joins, so it`s not a great place to create objects\n","parameters":[]},"reset":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                          this.Scene.children_by_name.GameCode.paused = false;\n                                                              var origin = [-7.31, -1.263, .1];\n                                                              this.transformAPI.setPosition(origin[0], origin[1], origin[2] + .5);\n                                                              this.children_by_name.ParticleSystem1.visible = false;\n\n                                                              this.timer = 0;\n                                                              this.children_by_name.Ship.visible = true;\n                                                              this.Scene.children_by_name.GameCode.reset();\n","parameters":[]},"tick":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                              if (this.Scene.children_by_name.GameCode.paused === true) return;\n                                                                                                                  //This function was created for you by the system. \n                                                                                                                  //The tick function is called 20 times every second. \n                                                                                                                  // Write code here to animate over time\n                                                                                                                 \n                                                                                                                  var hits = this.tryMove(this.movement);\n\n                                                                                                                  if (Vec3.magnitude(this.movement.internal_val) > .0001)\n                                                                                                                      this.children_by_name.Ship.transformAPI.lookat(Vec3.scale(\n                                                                                                                      [this.movement[0], this.movement[1], 0], 1000, []), '', 'X', 'Z');\n\n                                                                                                                  var offset = Vec3.clone(this.movement.internal_val);\n                                                                                                                  var count = 0;\n                                                                                                                  while (hits && Vec3.magnitude(offset) > .001 && count < 10)\n                                                                                                                  {\n                                                                                                                      count++;\n                                                                                                                      offset = Vec3.scale(offset, .5, []);\n                                                                                                                      hits = this.tryMove(offset);\n                                                                                                                  }\n                                                                                                                  if (!hits)\n                                                                                                                      this.transformAPI.move(offset[0], offset[1], offset[2]);\n                                                                                                                  else\n                                                                                                                  {\n\n                                                                                                                  }\n                                                                                                                  this.timer += 1.0 / 30.0;\n","parameters":[]},"tryMove":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                    if (Vec3.magnitude(dir) == 0) return false;\n\n                                        var transform = this.translation.internal_val;\n                                        var newpos = Vec3.add(transform, dir, []);\n                                        var hits = _SceneManager.SphereCast(newpos, .27,\n                                        {\n                                            OneHitPerMesh: false,\n                                            ignore: [_dSky, _Editor.findviewnode(this.id),_Editor.findviewnode(\"sandboxGroup-vwf-ff144e59-a5d8-d4b0-94ed-641a4d60d49\")]\n                                        });\n\n                                        if (hits && hits.length)\n                                        {\n                                            return hits;\n                                        }\n                                        return false;\n","parameters":["dir"]}},"name":"d7ab6422-9b04-f46f-9247-620e3217770e","properties":{"DisplayName":"Player","materialDef":{"alpha":1,"ambient":{"b":1,"g":0,"r":0.0823529411764706},"color":{"a":1,"b":1,"g":0,"r":0.0823529411764706},"emit":{"b":0,"g":0,"r":0},"layers":[],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"movement":[0,0,0],"owner":"Rob","radius":0.3,"size":[0.5,1,1],"tempid":"","texture":"checker.jpg","time":0,"timer":41.5666666666669,"transform":[1,0,0,0,0,1,0,0,0,0,1,0,-7.38226079940796,-1.29835033416748,0.600000023841858,1],"type":"Primitive","visible":false},"random":{"c":1,"s0":0.489484123885632,"s1":0.787186275236309,"s2":0.766554398229346},"sequence":0,"source":"vwf/model/threejs/sphere.js","type":"subDriver/threejs"},"df9935e2-56fa-59c0-5a00-3306185e5bd8":{"children":{"6d482e8-f3cf-eeee-ce28-77c685817e46":{"children":{"d7355484-de05-9a75-373c-bccd741374d7":{"extends":"rotator.vwf","id":"rotator-vwf-d7355484-de05-9a75-373c-bccd741374d7","name":"d7355484-de05-9a75-373c-bccd741374d7","properties":{"Active":true,"DisplayName":"rotator1","Local":true,"owner":"Rob","type":"behavior"},"random":{"c":1,"s0":0.374866498634219,"s1":0.831964534241706,"s2":0.533414667937905},"sequence":0}},"extends":"cone2.vwf","id":"cone2-vwf-6d482e8-f3cf-eeee-ce28-77c685817e46","name":"6d482e8-f3cf-eeee-ce28-77c685817e46","properties":{"DisplayName":"cone1","height":0.69,"materialDef":{"alpha":0.39,"ambient":{"b":1,"g":0,"r":0.0823529411764706},"color":{"a":1,"b":1,"g":0,"r":0.0823529411764706},"emit":{"b":0,"g":0,"r":0},"layers":[],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":10,"side":1,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":10,"type":"phong"},"owner":"Rob","radius":0.33,"rsegs":3,"size":[0.5,1,0.5],"tempid":"","texture":"checker.jpg","transform":[-0.877759218215942,-0.399730324745178,0.264149248600006,0,-0.478939563035965,0.747371971607208,-0.460513234138489,0,-0.0133369704708457,-0.530719518661499,-0.847441852092743,0,-2.98023228317845e-9,0.0317564494907856,1.36736214160919,1],"type":"Primitive"},"random":{"c":1,"s0":0.673546148231253,"s1":0.329978154040873,"s2":0.257451710291207},"sequence":0,"source":"vwf/model/threejs/cone.js","type":"subDriver/threejs"},"f280a341-263e-dd03-9dcc-9beb6d0a4243":{"extends":"hoverlabel.vwf","id":"hoverlabel-vwf-f280a341-263e-dd03-9dcc-9beb6d0a4243","name":"f280a341-263e-dd03-9dcc-9beb6d0a4243","properties":{"DisplayName":"hoverlabel1","color":[1,0,0.635294117647059],"offset3D":[0,0,0.9],"owner":"Rob","text":"Goal!","textsize":16,"type":"behavior"},"random":{"c":1,"s0":0.235764436423779,"s1":0.838487991364673,"s2":0.67600059369579},"sequence":0}},"extends":"cylinder2.vwf","id":"cylinder2-vwf-df9935e2-56fa-59c0-5a00-3306185e5bd8","methods":{"playWinSound":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  this.audioAPI.stopSound(\"./vwfdatamanager.svc/datafile/XAPIGame/win.mp3\");\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/win.mp3\", false, 100);\n","parameters":[]},"tick":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                              if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < 1.8)\n                                                  {\n                                                      // alertify.alert(\"You Win!\");\n                                                      this.Scene.children_by_name.GameCode.postSuccess();\n                                                      this.Scene.children_by_name.Player.reset();\n                                                      this.playWinSound();\n\n                                                  }\n","parameters":[]}},"name":"df9935e2-56fa-59c0-5a00-3306185e5bd8","properties":{"DisplayName":"cylinder1","height":0.26,"materialDef":{"alpha":1,"ambient":{"b":0.0901960784313725,"g":0.670588235294118,"r":0},"color":{"a":1,"b":0.0901960784313725,"g":0.670588235294118,"r":0},"emit":{"b":0,"g":0,"r":0},"layers":[],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.46,"rsegs":8,"size":[1,0.5,0.5],"tempid":"","texture":"checker.jpg","transform":[1,0,0,0,0,1,0,0,0,0,1,0,1.17999863624573,6.44899749755859,-0.146000027656555,1],"type":"Primitive"},"random":{"c":1,"s0":0.723132537910715,"s1":0.637780156685039,"s2":0.0355265494436026},"sequence":0,"source":"vwf/model/threejs/cylinder.js","type":"subDriver/threejs"},"e4593d8a-d6f5-76fd-7ccc-fe791da4fe18":{"extends":"http://vwf.example.com/label.vwf","id":"http-vwf-example-com-label-vwf-e4593d8a-d6f5-76fd-7ccc-fe791da4fe18","methods":{"tick":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                              //This function was created for you by the system. \n                                                                                                                  //The tick function is called 20 times every second. \n                                                                                                                  // Write code here to animate over time\n                                                                                                                  this.text = \"TIME: \" +this.Scene.children_by_name.Player.timer.toFixed(2);\n","parameters":[]}},"name":"e4593d8a-d6f5-76fd-7ccc-fe791da4fe18","properties":{"DisplayName":"Label1","font_color":[0.749019607843137,0.568627450980392,0.929411764705882],"font_size":60,"height":76,"left":0,"owner":"Rob","text":"TIME: 00.00","text_align":"center","top":0,"transform":[1,0,0,0,0,1,0,0,0,0,1,0,718,70,0,1],"width":417},"random":{"c":1,"s0":0.0831439236644655,"s1":0.970436420757324,"s2":0.431639270158485},"sequence":0},"ff144e59-a5d8-d4b0-94ed-641a4d60d49":{"children":{"7577be93-1b73-80b6-469d-70604810dd65":{"children":{"27878cb4-4739-f2d4-e22f-83c5b4d558":{"extends":"asset.vwf","id":"asset-vwf-27878cb4-4739-f2d4-e22f-83c5b4d558","name":"27878cb4-4739-f2d4-e22f-83c5b4d558","properties":{"DisplayName":"node-Curbs","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/curb.png"}],"morphTargets":false,"reflect":0,"shininess":0.6,"side":0,"skinning":false,"specularColor":{"b":0,"g":0,"r":0},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.393700987100601,0,0,0,0,8.74191999916825e-17,0.393700987100601,0,0,-0.393700987100601,8.74191999916825e-17,0,0,0,0,1],"type":"3DR Object"},"random":{"c":1,"s0":0.289539704332128,"s1":0.291034385561943,"s2":0.87710920907557},"sequence":0,"source":"node-Curbs","type":"link_existing/threejs"},"406373a-419-8bdf-d9a3-d2c2e630c2f3":{"extends":"asset.vwf","id":"asset-vwf-406373a-419-8bdf-d9a3-d2c2e630c2f3","name":"406373a-419-8bdf-d9a3-d2c2e630c2f3","properties":{"DisplayName":"node-ConcreteBackdrop","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/concrete_pad.png"}],"morphTargets":false,"reflect":0,"shininess":0,"side":0,"skinning":false,"specularColor":{"b":0,"g":0,"r":0},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.393700987100601,0,0,0,0,8.74191999916825e-17,0.393700987100601,0,0,-0.393700987100601,8.74191999916825e-17,0,0,0,0,1],"type":"3DR Object"},"random":{"c":1,"s0":0.393710754346102,"s1":0.0822572635952383,"s2":0.314054609509185},"sequence":0,"source":"node-ConcreteBackdrop","type":"link_existing/threejs"},"544ee70-69e7-7402-a049-1b01af125b59":{"extends":"asset.vwf","id":"asset-vwf-544ee70-69e7-7402-a049-1b01af125b59","name":"544ee70-69e7-7402-a049-1b01af125b59","properties":{"DisplayName":"node-Intersections","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/main_intersections.png"}],"morphTargets":false,"reflect":0,"shininess":0.2,"side":0,"skinning":false,"specularColor":{"b":0,"g":0,"r":0},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.393700987100601,0,0,0,0,8.74191999916825e-17,0.393700987100601,0,0,-0.393700987100601,8.74191999916825e-17,0,0,0,0,1],"type":"3DR Object"},"random":{"c":1,"s0":0.668747626710683,"s1":0.546453263843432,"s2":0.918419106630608},"sequence":0,"source":"node-Intersections","type":"link_existing/threejs"},"7c894861-767a-ce68-2e70-e1fdd8cfce71":{"extends":"asset.vwf","id":"asset-vwf-7c894861-767a-ce68-2e70-e1fdd8cfce71","name":"7c894861-767a-ce68-2e70-e1fdd8cfce71","properties":{"DisplayName":"node-Roads","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/main_road.png"}],"morphTargets":false,"reflect":0,"shininess":0.2,"side":0,"skinning":false,"specularColor":{"b":0.9,"g":0.9,"r":0.9},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.393700987100601,0,0,0,0,8.74191999916825e-17,0.393700987100601,0,0,-0.393700987100601,8.74191999916825e-17,0,0,0,0,1],"type":"3DR Object"},"random":{"c":1,"s0":0.188105322187766,"s1":0.0735020318534225,"s2":0.931469126837328},"sequence":0,"source":"node-Roads","type":"link_existing/threejs"},"8341f8fc-6014-3900-b3ca-356ef2cf7854":{"extends":"asset.vwf","id":"asset-vwf-8341f8fc-6014-3900-b3ca-356ef2cf7854","name":"8341f8fc-6014-3900-b3ca-356ef2cf7854","properties":{"DisplayName":"node-Curbs2","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/curb.png"}],"morphTargets":false,"reflect":0,"shininess":0.6,"side":0,"skinning":false,"specularColor":{"b":0,"g":0,"r":0},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.393700987100601,0,0,0,0,8.74191999916825e-17,0.393700987100601,0,0,-0.393700987100601,8.74191999916825e-17,0,0,0,0,1],"type":"3DR Object"},"random":{"c":1,"s0":0.671664703870192,"s1":0.906491779955104,"s2":0.765995352528989},"sequence":0,"source":"node-Curbs2","type":"link_existing/threejs"},"bc9cd1fd-f073-3b1f-42ca-65063e518f0":{"extends":"asset.vwf","id":"asset-vwf-bc9cd1fd-f073-3b1f-42ca-65063e518f0","name":"bc9cd1fd-f073-3b1f-42ca-65063e518f0","properties":{"DisplayName":"node-Start","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/start_end.png"}],"morphTargets":false,"reflect":0,"shininess":1.128772,"side":0,"skinning":false,"specularColor":{"b":0,"g":0,"r":0},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.393700987100601,0,0,0,0,8.74191999916825e-17,0.393700987100601,0,0,-0.393700987100601,8.74191999916825e-17,0,0,0,0,1],"type":"3DR Object"},"random":{"c":1,"s0":0.0898619326762855,"s1":0.483161891112104,"s2":0.7960892082192},"sequence":0,"source":"node-Start","type":"link_existing/threejs"},"cc447b53-f867-d269-1e0b-a9d6bc765210":{"extends":"asset.vwf","id":"asset-vwf-cc447b53-f867-d269-1e0b-a9d6bc765210","name":"cc447b53-f867-d269-1e0b-a9d6bc765210","properties":{"DisplayName":"node-Finish","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/start_end.png"}],"morphTargets":false,"reflect":0,"shininess":1.128772,"side":0,"skinning":false,"specularColor":{"b":0,"g":0,"r":0},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.393700987100601,0,0,0,0,8.74191999916825e-17,0.393700987100601,0,0,-0.393700987100601,8.74191999916825e-17,0,0.490556001663208,4.7846999168396,0,1],"type":"3DR Object"},"random":{"c":1,"s0":0.985537244006991,"s1":0.569249778985977,"s2":0.482421754160896},"sequence":0,"source":"node-Finish","type":"link_existing/threejs"}},"extends":"asset.vwf","id":"asset-vwf-7577be93-1b73-80b6-469d-70604810dd65","name":"7577be93-1b73-80b6-469d-70604810dd65","properties":{"owner":"Rob","transform":[1,0,0,0,0,1,0,0,0,0,1,0,0.00605440139770508,-0.0123300552368164,0.0400000214576721,1]},"random":{"c":1,"s0":0.651371901156381,"s1":0.0982542089186609,"s2":0.536566209048033},"sequence":0,"source":"./vwfdatamanager.svc/datafile/XAPIGame/roads.json","type":"subDriver/threejs/asset/vnd.osgjs+json+compressed"},"fa5c9e96-f6a4-1c5b-4040-20285912c6c9":{"extends":"asset.vwf","id":"asset-vwf-fa5c9e96-f6a4-1c5b-4040-20285912c6c9","name":"fa5c9e96-f6a4-1c5b-4040-20285912c6c9","properties":{"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/buildings_group1.png"}],"morphTargets":false,"reflect":0,"shininess":0.16,"side":0,"skinning":false,"specularColor":{"b":0.9,"g":0.9,"r":0.9},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.391000002622604,0,0,0,0,0.391000002622604,0,0,0,0,0.379000008106232,0,-0.00605440139770508,0.0123300552368164,0.0286956299096346,1]},"random":{"c":1,"s0":0.565891590667889,"s1":0.311066881520674,"s2":0.26518156984821},"sequence":0,"source":"./vwfdatamanager.svc/datafile/XAPIGame/MazeCityBuildings.json","type":"subDriver/threejs/asset/vnd.osgjs+json+compressed"}},"extends":"sandboxGroup.vwf","id":"sandboxGroup-vwf-ff144e59-a5d8-d4b0-94ed-641a4d60d49","name":"ff144e59-a5d8-d4b0-94ed-641a4d60d49","properties":{"open":false,"owner":"Rob","transform":[1.60000002384186,0,0,0,0,1.60000002384186,0,0,0,0,1.60000002384186,0,0.460059851408005,-1.16632974147797,0.00599971832707524,1],"type":"Group"},"random":{"c":1,"s0":0.130991763900965,"s1":0.53304577502422,"s2":0.142360993660986},"sequence":0}},"events":{"avatarCreated":{"body":"\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    window.setTimeout(function()\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        _dView.setCamera('SandboxCamera-vwf-58faf29-3658-392-e779-44d7f701f192');\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }, 300);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                               ","parameters":["cid"," name"]},"clientConnected":{"body":"\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    _dView.setCamera('SandboxCamera-vwf-58faf29-3658-392-e779-44d7f701f192');\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    self2.playerName = name;\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    if (self2.playerName == 'anonymous')\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        alertify.prompt(\"Please tell me your name.\", function(ok, val)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            vwf_view.kernel.setProperty(self2.id, 'playerName', val);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            self2.postStart(val);\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        });\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    else\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        self2.postStart(self2.playerName);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                               ","parameters":["cid"," name"]},"clientDisconnected":{"body":"\n\tif(this.clients)\n\t{\n\t\tdelete this.clients.internal_val[id];\n\t\tthis.clients = this.clients.internal_val;\t\t\n\t}","parameters":["id","name"]},"disconnected":{"body":"\n    \n    alert('This client has been disconnected from server. The page must be reloaded.');\n    var user = _UserManager.GetCurrentUserID();\n    \n    try{vwf.deleteNode(user)} catch(e){};\n    document[document.PlayerNumber +'link'] = null;\n    document.PlayerNumber = null;\n    _UserManager.currentUsername = null;\n    window.onbeforeunload = null;\n    $(window).unbind();\n    window.location.reload();","parameters":[""]},"keyDown":{"body":" return self.keyDown(e,d","parameters":["e","d"]},"keyUp":{"body":" return self.keyUp(e,d","parameters":["e","d"]},"pointerClick":{"body":"return true","parameters":[""]},"pointerDown":{"body":"return true","parameters":[""]},"pointerMove":{"body":"return true","parameters":[""]},"pointerOut":{"body":"return true","parameters":[""]},"pointerOver":{"body":"return true","parameters":[""]},"pointerUp":{"body":"return true","parameters":[""]}},"extends":"http://vwf.example.com/navscene.vwf","id":"index-vwf","methods":{"AmLocal":{"body":"","parameters":[]},"CreatePlane":{"body":"\n    \n    var hw = width/2;\n    var hh = height/2;\n    \n    var planemesh = new MATH.Mesh();\n   \n    var planeobj = new MATH.Object();\n    planeobj.PickPriority = 0;\n    planeobj.setMesh(planemesh);\n    planemesh.setPositions([-hw,-hh,-.001, hw,-hh,-.001, hw,hh,-.001, -hw,hh,-.001]);\n    planemesh.setTangents([-hw,-hh,0, hw,-hh,0, hw,hh,0, -hw,hh,0]);\n    planemesh.setFaces([0,1,2,2,3,0]);\n    planemesh.setUV([0,0,250/4 ,0,250/4,250/4,0,250/4]);\n    findscene().addChild(planeobj);\n    planeobj.InvisibleToCPUPick = false;\n    return planeobj;\n","parameters":["width","height"]},"PM":{"body":"\n    if(window.PMReceived)\n    PMReceived(e);\n","parameters":["e"]},"broadcastCameraPosition":{"body":"\n    if(this.receivingCameraBroadcast)\n    {\n      \n        this.camera.transform = transform;\n    }\n","parameters":["transform"]},"cameraBroadcastEnd":{"body":"\n    if(this.client == this.moniker)\n    {\n        this.broadcastingCamera = false;\n        this.receivingCameraBroadcast = false;\n    }else\n    {\n        if(this.receivingCameraBroadcast)\n        {\n          alertify.alert((_UserManager.GetPlayernameForClientID(this.client) || 'The user') + \" has stopped sharing the camera view.\");\n           this.broadcastingCamera = false;\n          this.receivingCameraBroadcast = false;\n          this.cameramode = this.preCameraShareMode;\n        }\n       \n    }\n","parameters":[]},"cameraBroadcastStart":{"body":"\n    if(this.client == this.moniker)\n    {\n        \n        this.broadcastingCamera = true;\n        this.receivingCameraBroadcast = false;\n    }else\n    {\n        alertify.confirm(_UserManager.GetPlayernameForClientID(this.client) + \" would like to share the camera view with you. Accept?\",function(ok)\n        {\n            if(ok)\n            {\n            \n                this.broadcastingCamera = false;\n                this.receivingCameraBroadcast = true;\n                this.preCameraShareMode = this.cameramode;\n                this.cameramode = 'None';\n            \n            }\n        \n        }.bind(this));\n        \n    \n    }\n\n","parameters":[]},"deleteplayer":{"body":"","parameters":[]},"getBroadcasting":{"body":"\n    return this.broadcastingCamera;\n","parameters":[]},"getSkyMat":{"body":"\n\n    return this.skycube.material;\n\n","parameters":[]},"initialize":{"body":"\n\n   \n   this.setCameraMode('Orbit');\n   this.offset = [0,0,1];\n   this.center = [0,0,0];\n   this.flyspeed = 1;\n   this.activeCameraComp = false;\n   this.loaded = false;\n   this.zoom = 4;\n   this.x_rot = 0.15687500000000001;\n   this.y_rot = 0.5839999999999994;\n   //this.updateCamera();\n   this.players = [];\n   this.rel_x = 0;\n   this.rel_y = 0;\n   this.loaded= false;\n   this.leftdown= false;\n   this.middledown=false;\n   this.rightdown= false;\n   this.last_x = 0;\n   this.last_y = 0;\n   this.navmode = 'none';\n //  this.PickOptions = new MATH.CPUPickOptions();\n //  this.PickOptions.UserRenderBatches = true;\n  \n    $('#index-vwf').mousedown(function(e){this.localpointerDown(e);}.bind(this));\n    window.addEventListener(\"deviceorientation\", this.orientationEvent.bind(this), true);\n    \n    $('#index-vwf').mousewheel(function(e){e.deltaY *= -1; this.localpointerWheel(e);}.bind(this));\n    $('#index-vwf').mouseup(function(e){this.localpointerUp(e);}.bind(this));\n    $('#index-vwf').mouseleave(function(e)\n    {\n        if($(e.toElement).hasClass('glyph'))\n        {\n        \n        }\n        else\n        {\n        \n            this.localpointerUp(e);\n        }\n        \n    }.bind(this));\n    $('#index-vwf').mousemove(function(e){this.localpointerMove(e);}.bind(this));\n\n   this.updateCallbacks = [];\n   this.OwnedPrims = [];\n  \n   findcamera().fov = 70;\n   findcamera().updateProjectionMatrix();\n   var ground = new THREE.Mesh(new THREE.PlaneGeometry(256,256,10,10), new THREE.MeshPhongMaterial());\n   ground.receiveShadow = _SettingsManager.getKey('shadows');\n   ground.PickPriority = -1;\n   \n   \n   var grassTex = THREE.ImageUtils.loadTexture('textures/gridnew.png');\n   \n  \n   ground.material.map = grassTex;\n    grassTex.wrapS = THREE.RepeatWrapping;\n    grassTex.wrapT = THREE.RepeatWrapping;\n    grassTex.repeat.x = 64;\n    grassTex.repeat.y = 64;\n   grassTex.anisotropy  = _dRenderer.getMaxAnisotropy();\n   this.groundplane = ground;\n   \n   \n   findscene().add(ground);\n   \n   if(this.materialDef)\n   this.setTexture(this.materialDef);\n   var l = new THREE.DirectionalLight();\n   this.sun = l;\n   this.sun.name = 'Sun';\n   this.sun.castShadow = _SettingsManager.getKey('shadows');\n   this.sun.shadowCameraNear = 1;\n   this.sun.shadowCameraFar = 100;\n   //this.sun.shadowCameraVisible = true;\n   this.sun.shadowCameraBottom = -10;\n   this.sun.shadowCameraLeft = -10;\n   this.sun.shadowMapWidth = 1024;\n   this.sun.shadowMapHeight = 1024;\n   \n   this.sun.shadowCameraTop = 10;\n   this.sun.shadowCameraRight = 10;\n   findscene().add(l);\n   rebuildAllMaterials();\n   \n   this.sun.position.x = this.sunDirection[0];\n   this.sun.position.y = this.sunDirection[1];\n   this.sun.position.z = this.sunDirection[2];\n   this.sun.position.normalize();\n   this.sun.position.multiplyScalar(100);\n   this.sun.intensity = this.sunIntensity;\n   this.sun.shadowBias = -.005\n   window._dGround = this.groundplane;\n   this.groundplane.name = 'GroundPlane';\n   //this.groundplane.visible = false;\n   window._dSun = this.sun;\n   \n   this.sun.updateMatrixWorld(true);\n   this.CreateSky(vwf.getProperty(this.id,'skyTexture') || 'white');\n   /*findscene().setAmbientColor('rgb(200,200,200)');\n   \n   \n  \n   \n   \n   \n   findscene().setFogType(MATH.FOG_QUADRATIC);\n   findscene().setFogFar(360);\n   findscene().setFogNear(100);\n   findscene().setFogColor('#FFFFFF');\n   \n   */\n     if(this.id == 'Scene-vwf') return;\n      this.prerendercallback = this.prerender.bind(this);\n      this.glyphrendercallback = this.glyphRender.bind(this);\n      this.postprerendercallback = this.postprerender.bind(this);\n      _dView.bind('prerender',this.prerendercallback);\n      _dView.bind('postprerender',this.postprerendercallback);\n      _dView.bind('glyphRender',this.glyphrendercallback);\n      this.createNameTag();\n      this.updateCamera();\n","parameters":[]},"latencyTest":{"body":"\n    if(this.moniker == this.client)\n    {\n        var time = new Date(e.time);\n        var thistime = (new Date()) - time;\n        _Notifier.alert(\"The round trip time to the server was: \" + thistime +\"ms\");\n    }\n","parameters":["e"]},"newplayer":{"body":"\n    \n   \n    \n","parameters":["e"]},"playSound":{"body":"","parameters":[]},"receiveChat":{"body":"\n    if(window.ChatMessageReceived)\n      ChatMessageReceived(e);\n","parameters":["e"]},"setMusic":{"body":"","parameters":[]},"tick":{"body":"\n   \n    if(this.broadcastingCamera)\n    {\n        vwf_view.kernel.callMethod('index-vwf','broadcastCameraPosition',[this.camera.transform]);\n    }\n    if(this.receivingCameraBroadcast && this.cameramode != 'None')\n        this.receivingCameraBroadcast = false;\n    \n","parameters":[]}},"name":"","patches":"index.vwf","properties":{"DisplayName":null,"EditorData":{"fog":{"displayname":"Fog","type":"sectionTitle"},"fogColorR":{"displayname":"Fog Color","property":"fogColor","type":"color"},"fogDensity":{"displayname":"Fog Density","max":0.1,"min":0,"property":"fogDensity","step":0.001,"type":"slider"},"fogFar":{"displayname":"Fog Far","max":2000,"min":0,"property":"fogFar","step":1,"type":"slider"},"fogNear":{"displayname":"Fog Near","max":2000,"min":0,"property":"fogNear","step":1,"type":"slider"},"fogType":{"displayname":"Fog Type","labels":["None","Linear","Quad"],"property":"fogType","type":"choice","values":[null,"linear","exp"]},"fogvFAlloff":{"displayname":"Fog Falloff","max":10,"min":0.1,"property":"fogVFalloff","step":0.001,"type":"slider"},"fogvFAlloffStart":{"displayname":"Fog Falloff Start","max":100,"min":-100,"property":"fogVFalloffStart","step":0.1,"type":"slider"},"sky":{"displayname":"Sky","type":"sectionTitle"},"skyApexColor":{"displayname":"Sky Apex Color","property":"skyApexColor","type":"color"},"skyAtmosphereDensity":{"displayname":"Atmosphere Density","max":1,"min":0,"property":"skyAtmosphereDensity","step":0.01,"type":"slider"},"skyColorBlend":{"displayname":"Sky Color Blend","max":1,"min":0,"property":"skyColorBlend","step":0.01,"type":"slider"},"skyFogBlend":{"displayname":"Sky Fog Amount","max":1,"min":0,"property":"skyFogBlend","step":0.01,"type":"slider"},"skyHorizonColor":{"displayname":"Sky Horizon Color","property":"skyHorizonColor","type":"color"},"skyTexture":{"displayname":"skyTexture","labels":["CloudyNoon","Morning","Evening","Morning2","Storm","ThunderStorm","Night1","Night2","Bright","White","Black"],"property":"skyTexture","type":"choice","values":["cloudy_noon","early_morning","evening","morning","stormy","StormClouds","night1","night2","bright","white","black"]},"sun":{"displayname":"Sun","type":"sectionTitle"},"sunColor":{"displayname":"Sun Color","property":"sunColor","type":"color"},"sunIntensity":{"displayname":"Sun Intensity","max":5,"min":0,"property":"sunIntensity","step":0.1,"type":"slider"},"sunRot":{"displayname":"Sun Direction","property":"sunDirection","step":0.05,"type":"vector"},"sunambientColor":{"displayname":"ambient","property":"ambientColor","type":"color"}},"ambientColor":[0.35,0.35,0.35],"clients":{"z0KyOonKQ6NsxeP8Wm6q":{"cid":"z0KyOonKQ6NsxeP8Wm6q","name":"Rob"}},"fogColor":[1,1,1],"fogDensity":0.005,"fogFar":1000,"fogNear":100,"fogType":0,"fogVFalloff":1.3,"fogVFalloffStart":0,"navmode":"none","owner":"Rob","permission":{"Everyone":1},"placemarks":{"Origin":{"0":-6.93499994277954,"1":-367,"2":0},"startpoint":{"0":-4.45302486419678,"1":-1.26249170303345,"2":0.109999999403954}},"playBackup":{"children":{"./vwfdatamanager.svc/datafile/XAPIGame/city_col.dae1":{"extends":"asset.vwf","id":"asset-vwf-vwfdatamanager-svc-datafile-XAPIGame-city_col-dae1","name":"./vwfdatamanager.svc/datafile/XAPIGame/city_col.dae1","properties":{"owner":"Rob","transform":[24.7000026702881,0,0,0,0,-8.8588834046277e-9,24.7000026702881,0,0,-24.7000007629395,-8.8588834046277e-9,0,0.451000034809113,-1.11800026893616,-1.12199997901917,1],"visible":false},"random":{"c":1,"s0":0.189805781235918,"s1":0.983853878453374,"s2":0.648477415088564},"sequence":0,"source":"./vwfdatamanager.svc/datafile/XAPIGame/city_col.dae","type":"subDriver/threejs/asset/vnd.collada+xml"},"1c2fe29f-ff1a-1e09-278a-49aa1a7028fa":{"children":{"3bf88d08-b8c0-6812-a055-7039814d7877":{"extends":"uvmap.vwf","id":"uvmap-vwf-3bf88d08-b8c0-6812-a055-7039814d7877","name":"3bf88d08-b8c0-6812-a055-7039814d7877","properties":{"DisplayName":"uvmap3","NotProto":"NOT!","_length":2.19,"height":2.32,"mode":"plane","owner":"Rob","plane":"y","transform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"type":"modifier","uoffset":0.34,"voffset":-0.07},"random":{"c":1,"s0":0.0343576180748641,"s1":0.70666490867734,"s2":0.0313245826400816},"sequence":0,"source":"vwf/model/threejs/uvmap.js","type":"subDriver/threejs"},"e41967e5-205e-7296-ddc-644feecc2b43":{"extends":"SandboxParticleSystem.vwf","id":"SandboxParticleSystem-vwf-e41967e5-205e-7296-ddc-644feecc2b43","methods":{"makeRingSound":{"body":"\n\n\n\n\n\n\n\n\n                    this.audioAPI.stopSound(\"./vwfdatamanager.svc/datafile/XAPIGame/ring.mp3\");\n                          this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/ring.mp3\", false, 100);\n","parameters":[]},"reset":{"body":"\n\n\n\n\n\n\n              this.active = true;\n                  this.visible = false;\n","parameters":[]},"tick":{"body":"\n\n\n\n        if (this.Scene.children_by_name.GameCode.paused === true) return;\n\n            var localPlayer = this.transformAPI.globalToLocal(this.Scene.children_by_name.Player.transformAPI.getPosition());\n\n            if (Vec3.magnitude(localPlayer) < .5)\n            {\n                if (this.visible == false)\n                {\n                    this.active = false;\n                    this.Scene.children_by_name.GameCode.postWaypoint(this.parent.DisplayName); this.makeRingSound();\n                }\n                this.visible = true;\n            }\n","parameters":[]}},"name":"e41967e5-205e-7296-ddc-644feecc2b43","properties":{"DisplayName":"ParticleSystem4","active":false,"additive":true,"alphaTest":0.255,"counter":298728,"depthTest":false,"endColor":[0,0,0,0.6],"endSize":0.46,"image":"/adl/sandbox/1OimhGKL2jk8Fdh4//vwfDataManager.svc/datafile/XAPIGame/spark.jpg","maxAcceleration":[0,0,-0.001],"maxLifeTime":40,"maxOrientation":13.4,"maxVelocity":[-0.033,-0.037,0.012],"minAcceleration":[0,0,-0.001],"minLifeTime":38,"minOrientation":-17.9,"minVelocity":[0.027,0.03,0.012],"owner":"vergenzs","solver":"AnalyticShader","startColor":[0.254901960784314,0.4,0.980392156862745,0.45],"startSize":0.16,"transform":[-4.17195842317142e-8,-0.99999988079071,7.91509259935423e-15,0,0.999919056892395,-4.1716212706433e-8,-0.0127407042309642,0,0.0127406781539321,-5.31554189553418e-10,0.99991899728775,0,0.00687354803085327,-0.0125490427017212,0.730000078678131,1],"type":"ParticleSystem","visible":true},"random":{"c":1,"s0":0.960840939776972,"s1":0.824023353634402,"s2":0.6333122481592},"sequence":0}},"extends":"cylinder2.vwf","id":"cylinder2-vwf-1c2fe29f-ff1a-1e09-278a-49aa1a7028fa","name":"1c2fe29f-ff1a-1e09-278a-49aa1a7028fa","properties":{"DisplayName":"WayPoint2","GameType":"WayPoint","height":0.13,"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"a":1,"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/teleport.png"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.48,"rsegs":16,"size":[1,0.5,0.5],"tempid":"","texture":"checker.jpg","transform":[1,0,0,0,0,1,0,0,0,0,1,0,5.15153312683105,1.60107529163361,0.150000005960464,1],"type":"Primitive"},"random":{"c":1,"s0":0.168332272209227,"s1":0.443781930720434,"s2":0.811153281480074},"sequence":0,"source":"vwf/model/threejs/cylinder.js","type":"subDriver/threejs"},"344d4344-6759-ea7a-cb0a-f62a24864569":{"extends":"box2.vwf","id":"box2-vwf-344d4344-6759-ea7a-cb0a-f62a24864569","methods":{"makeGateSound":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                              this.audioAPI.stopSound(\"./vwfdatamanager.svc/datafile/XAPIGame.boochch.mp3\");\n                                                                                                                                  this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/boochch.mp3\", false, 100);\n","parameters":[]},"tick":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                if (this.Scene.children_by_name.GameCode.paused === true) return;\n\n                                                                                                                    if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < 1.5)\n                                                                                                                    {\n                                                                                                                        this.counter += 1;\n                                                                                                                        this.translation[2] = .5 + (Math.sin(this.counter / 3) + 1) / 2;\n                                                                                                                        if (this.translation[2] > .5 && this.translation[2] < .505)\n                                                                                                                            this.makeGateSound();\n                                                                                                                        if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < .35)\n                                                                                                                        {\n                                                                                                                            this.Scene.children_by_name.Player.Die();\n                                                                                                                            this.Scene.children_by_name.GameCode.postDeath(this.DisplayName);\n                                                                                                                        }\n                                                                                                                    }\n","parameters":[]}},"name":"344d4344-6759-ea7a-cb0a-f62a24864569","properties":{"DisplayName":"Trapdoor4","GameType":"TrapDoor","_length":0.12,"counter":35230,"materialDef":{"alpha":1,"ambient":{"b":0.588235294117647,"g":0.588235294117647,"r":0.588235294117647},"color":{"a":1,"b":0.588235294117647,"g":0.588235294117647,"r":0.588235294117647},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"/adl/sandbox/DnNE31e3uvYptRYw//vwfDataManager.svc/texture?UID=\\wests_textures\\paneling.png"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","size":[1,1,1],"tempid":"","texture":"checker.jpg","transform":[1,0,0,0,0,1,0,0,0,0,1,0,0.0325749665498734,-0.357597589492798,1.0299791097641,1],"type":"Primitive","width":0.98},"random":{"c":1,"s0":0.692058750195429,"s1":0.130665325559676,"s2":0.0264346851035953},"sequence":0,"source":"vwf/model/threejs/box.js","type":"subDriver/threejs"},"365b266-41ce-11b9-1872-e623ef131b5d":{"children":{"c20a7e2c-38c6-9034-1f88-d2bd4d671fc9":{"extends":"uvmap.vwf","id":"uvmap-vwf-c20a7e2c-38c6-9034-1f88-d2bd4d671fc9","name":"c20a7e2c-38c6-9034-1f88-d2bd4d671fc9","properties":{"DisplayName":"uvmap1","NotProto":"NOT!","_length":2.78,"height":2.73,"mode":"plane","owner":"Rob","plane":"y","transform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"type":"modifier","uoffset":0.34,"voffset":-0.07},"random":{"c":1,"s0":0.0115805226378143,"s1":0.223965629935265,"s2":0.206677667563781},"sequence":0,"source":"vwf/model/threejs/uvmap.js","type":"subDriver/threejs"}},"extends":"cylinder2.vwf","id":"cylinder2-vwf-365b266-41ce-11b9-1872-e623ef131b5d","name":"365b266-41ce-11b9-1872-e623ef131b5d","properties":{"DisplayName":"cylinder3","height":0.26,"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"a":1,"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/teleport.png"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.59,"rsegs":16,"size":[1,0.5,0.5],"tempid":"","texture":"checker.jpg","transform":[1,0,0,0,0,1,0,0,0,0,1,0,0.868994414806366,2.87499785423279,-0.21900001168251,1],"type":"Primitive"},"random":{"c":1,"s0":0.307763082440943,"s1":0.157772459322587,"s2":0.224498455645517},"sequence":0,"source":"vwf/model/threejs/cylinder.js","type":"subDriver/threejs"},"378d46c3-f460-4c1a-4ffd-8f152042aee7":{"extends":"box2.vwf","id":"box2-vwf-378d46c3-f460-4c1a-4ffd-8f152042aee7","methods":{"makeGateSound":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                              this.audioAPI.stopSound(\"./vwfdatamanager.svc/datafile/XAPIGame.boochch.mp3\");\n                                                                                                                                  this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/boochch.mp3\", false, 100);\n","parameters":[]},"tick":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                if (this.Scene.children_by_name.GameCode.paused === true) return;\n\n                                                                                                                    if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < 1.5)\n                                                                                                                    {\n                                                                                                                        this.counter += 1;\n                                                                                                                        this.translation[2] = .5 + (Math.sin(this.counter / 3) + 1) / 2;\n                                                                                                                        if (this.translation[2] > .5 && this.translation[2] < .505)\n                                                                                                                            this.makeGateSound();\n                                                                                                                        if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < .35)\n                                                                                                                        {\n                                                                                                                            this.Scene.children_by_name.Player.Die();\n                                                                                                                            this.Scene.children_by_name.GameCode.postDeath(this.DisplayName);\n                                                                                                                        }\n                                                                                                                    }\n","parameters":[]}},"name":"378d46c3-f460-4c1a-4ffd-8f152042aee7","properties":{"DisplayName":"Trapdoor1","GameType":"TrapDoor","_length":0.12,"counter":35259,"materialDef":{"alpha":1,"ambient":{"b":0.588235294117647,"g":0.588235294117647,"r":0.588235294117647},"color":{"a":1,"b":0.588235294117647,"g":0.588235294117647,"r":0.588235294117647},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"/adl/sandbox/DnNE31e3uvYptRYw//vwfDataManager.svc/texture?UID=\\wests_textures\\paneling.png"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","size":[1,1,1],"tempid":"","texture":"checker.jpg","transform":[0.0126013960689306,-0.999920606613159,0,0,0.999920606613159,0.0126013960689306,4.51961298247872e-12,0,0,0,1,0,-4.72816896438599,-0.365325063467026,0.851340770721436,1],"type":"Primitive","width":0.98},"random":{"c":1,"s0":0.355643406044692,"s1":0.97703396435827,"s2":0.537659915629774},"sequence":0,"source":"vwf/model/threejs/box.js","type":"subDriver/threejs"},"390bb5de-8b05-429a-191d-a18fe72fceda":{"extends":"box2.vwf","id":"box2-vwf-390bb5de-8b05-429a-191d-a18fe72fceda","methods":{"makeGateSound":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                              this.audioAPI.stopSound(\"./vwfdatamanager.svc/datafile/XAPIGame.boochch.mp3\");\n                                                                                                                                  this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/boochch.mp3\", false, 100);\n","parameters":[]},"tick":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                if (this.Scene.children_by_name.GameCode.paused === true) return;\n\n                                                                                                                    if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < 1.5)\n                                                                                                                    {\n                                                                                                                        this.counter += 1;\n                                                                                                                        this.translation[2] = .5 + (Math.sin(this.counter / 3) + 1) / 2;\n                                                                                                                        if (this.translation[2] > .5 && this.translation[2] < .505)\n                                                                                                                            this.makeGateSound();\n                                                                                                                        if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < .35)\n                                                                                                                        {\n                                                                                                                            this.Scene.children_by_name.Player.Die();\n                                                                                                                            this.Scene.children_by_name.GameCode.postDeath(this.DisplayName);\n                                                                                                                        }\n                                                                                                                    }\n","parameters":[]}},"name":"390bb5de-8b05-429a-191d-a18fe72fceda","properties":{"DisplayName":"Trapdoor3","GameType":"TrapDoor","_length":0.12,"counter":35192,"materialDef":{"alpha":1,"ambient":{"b":0.588235294117647,"g":0.588235294117647,"r":0.588235294117647},"color":{"a":1,"b":0.588235294117647,"g":0.588235294117647,"r":0.588235294117647},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"/adl/sandbox/DnNE31e3uvYptRYw//vwfDataManager.svc/texture?UID=\\wests_textures\\paneling.png"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","size":[1,1,1],"tempid":"","texture":"checker.jpg","transform":[1,0,0,0,0,1,0,0,0,0,1,0,0.0748804062604904,-1.93065321445465,0.97985452413559,1],"type":"Primitive","width":0.98},"random":{"c":1,"s0":0.656382188433781,"s1":0.308635629247874,"s2":0.429304979974404},"sequence":0,"source":"vwf/model/threejs/box.js","type":"subDriver/threejs"},"3b2df2e9-b9c8-2082-930f-eabf145f5273":{"children":{"371ce16d-b4aa-d944-6123-bfd76c8c2a89":{"extends":"rotator.vwf","id":"rotator-vwf-371ce16d-b4aa-d944-6123-bfd76c8c2a89","name":"371ce16d-b4aa-d944-6123-bfd76c8c2a89","properties":{"Active":true,"Amount":4,"DisplayName":"rotator1","Local":true,"owner":"Rob","type":"behavior"},"random":{"c":1,"s0":0.697554648621008,"s1":0.740025692153722,"s2":0.641901551513001},"sequence":0}},"extends":"cone2.vwf","id":"cone2-vwf-3b2df2e9-b9c8-2082-930f-eabf145f5273","name":"3b2df2e9-b9c8-2082-930f-eabf145f5273","properties":{"DisplayName":"cone1","height":0.69,"hsegs":1,"materialDef":{"alpha":0.48,"ambient":{"b":0.0745098039215686,"g":0.0745098039215686,"r":0.968627450980392},"color":{"a":1,"b":0.0745098039215686,"g":0.0745098039215686,"r":0.968627450980392},"emit":{"b":0,"g":0,"r":0},"layers":[],"morphTargets":false,"reflect":5.2,"shadeless":false,"shadow":true,"shininess":10,"side":2,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":9.6,"type":"phong"},"owner":"Rob","radius":0.33,"rsegs":3,"size":[0.5,1,0.5],"tempid":"","testprop":"value","texture":"checker.jpg","transform":[-0.918380320072174,0.342009246349335,-0.198973789811134,0,0.395427823066711,0.775464951992035,-0.492210626602173,0,-0.0140427984297276,-0.530722141265869,-0.847427666187286,0,-6.75800037384033,-0.968243896961212,1.36836218833923,1],"type":"Primitive"},"random":{"c":1,"s0":0.709777161711827,"s1":0.231308539630845,"s2":0.789308838779107},"sequence":0,"source":"vwf/model/threejs/cone.js","type":"subDriver/threejs"},"4c625e99-5c45-3385-821f-f51cc7e3f65a":{"children":{"4159012-95f5-ed00-f6cf-2f839a74bf33":{"extends":"uvmap.vwf","id":"uvmap-vwf-4159012-95f5-ed00-f6cf-2f839a74bf33","name":"4159012-95f5-ed00-f6cf-2f839a74bf33","properties":{"DisplayName":"uvmap3","NotProto":"NOT!","_length":2.19,"height":2.32,"mode":"plane","owner":"Rob","plane":"y","transform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"type":"modifier","uoffset":0.34,"voffset":-0.07},"random":{"c":1,"s0":0.0343576180748641,"s1":0.70666490867734,"s2":0.0313245826400816},"sequence":0,"source":"vwf/model/threejs/uvmap.js","type":"subDriver/threejs"},"85d5d65-3b96-3192-56ef-4761afeb025":{"extends":"SandboxParticleSystem.vwf","id":"SandboxParticleSystem-vwf-85d5d65-3b96-3192-56ef-4761afeb025","methods":{"makeRingSound":{"body":"\n\n\n\n\n\n\n\n\n                    this.audioAPI.stopSound(\"./vwfdatamanager.svc/datafile/XAPIGame/ring.mp3\");\n                          this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/ring.mp3\", false, 100);\n","parameters":[]},"reset":{"body":"\n\n\n\n\n\n\n              this.active = true;\n                  this.visible = false;\n","parameters":[]},"tick":{"body":"\n\n\n\n        if (this.Scene.children_by_name.GameCode.paused === true) return;\n\n            var localPlayer = this.transformAPI.globalToLocal(this.Scene.children_by_name.Player.transformAPI.getPosition());\n\n            if (Vec3.magnitude(localPlayer) < .5)\n            {\n                if (this.visible == false)\n                {\n                    this.active = false;\n                    this.Scene.children_by_name.GameCode.postWaypoint(this.parent.DisplayName); this.makeRingSound();\n                }\n                this.visible = true;\n            }\n","parameters":[]}},"name":"85d5d65-3b96-3192-56ef-4761afeb025","properties":{"DisplayName":"ParticleSystem4","active":true,"additive":true,"alphaTest":0.255,"counter":298728,"depthTest":false,"endColor":[0,0,0,0.6],"endSize":0.46,"image":"/adl/sandbox/1OimhGKL2jk8Fdh4//vwfDataManager.svc/datafile/XAPIGame/spark.jpg","maxAcceleration":[0,0,-0.001],"maxLifeTime":40,"maxOrientation":13.4,"maxVelocity":[-0.033,-0.037,0.012],"minAcceleration":[0,0,-0.001],"minLifeTime":38,"minOrientation":-17.9,"minVelocity":[0.027,0.03,0.012],"owner":"vergenzs","solver":"AnalyticShader","startColor":[0.254901960784314,0.4,0.980392156862745,0.45],"startSize":0.16,"transform":[-4.17195842317142e-8,-0.99999988079071,7.91509259935423e-15,0,0.999919056892395,-4.1716212706433e-8,-0.0127407042309642,0,0.0127406781539321,-5.31554189553418e-10,0.99991899728775,0,0.00687354803085327,-0.0125490427017212,0.730000078678131,1],"type":"ParticleSystem","visible":false},"random":{"c":1,"s0":0.960840939776972,"s1":0.824023353634402,"s2":0.6333122481592},"sequence":0}},"extends":"cylinder2.vwf","id":"cylinder2-vwf-4c625e99-5c45-3385-821f-f51cc7e3f65a","name":"4c625e99-5c45-3385-821f-f51cc7e3f65a","properties":{"DisplayName":"WayPoint1","GameType":"WayPoint","height":0.13,"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"a":1,"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/teleport.png"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.48,"rsegs":16,"size":[1,0.5,0.5],"tempid":"","texture":"checker.jpg","transform":[1,0,0,0,0,1,0,0,0,0,1,0,-4.74891090393066,1.6833735704422,0.150000005960464,1],"type":"Primitive"},"random":{"c":1,"s0":0.168332272209227,"s1":0.443781930720434,"s2":0.811153281480074},"sequence":0,"source":"vwf/model/threejs/cylinder.js","type":"subDriver/threejs"},"528b1838-cc3c-d7c-b8ee-17f0d5806c2c":{"extends":"http://vwf.example.com/behavior.vwf","id":"http-vwf-example-com-behavior-vwf-528b1838-cc3c-d7c-b8ee-17f0d5806c2c","methods":{"initialize":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","parameters":[]},"postDeath":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                            if (!_DataManager.getInstanceData().publishSettings) return;\n                                                                                                                                                                                                var worldId = \"http://vwf.adlnet.gov/xapi/\" + /\\w{16}/.exec(_DataManager.getCurrentSession())[0];\n                                                                                                                                                                                                var trapId = worldId + '/' + trapName;\n                                                                                                                                                                                                var agentId = {\n                                                                                                                                                                                                    'homePage': 'http://vwf.adlnet.gov',\n                                                                                                                                                                                                    'name': this.playerName\n                                                                                                                                                                                                };\n                                                                                                                                                                                                var statement = new ADL.XAPIStatement(\n                                                                                                                                                                                                    new ADL.XAPIStatement.Agent(agentId, agentId.name),\n                                                                                                                                                                                                    new ADL.XAPIStatement.Verb('http://vwf.adlnet.gov/xapi/IFestGame2014/verbs/killed_by', 'killed by'),\n                                                                                                                                                                                                    new ADL.XAPIStatement.Activity(trapId, trapName));\n\n                                                                                                                                                                                                statement.addParentActivity(new ADL.XAPIStatement.Activity(worldId, _DataManager.getInstanceData().title || 'tempPublish'));\n                                                                                                                                                                                                statement.context.registration = this.registration;\n\n                                                                                                                                                                                                statement.context.extensions = {\n                                                                                                                                                                                                    \"http://vwf.adlnet.gov/xapi/IFestGame2014\":\n                                                                                                                                                                                                    {\n                                                                                                                                                                                                        'GameType': this.Scene.children_by_name[trapName].GameType,\n                                                                                                                                                                                                        'timeAlive': this.Scene.children_by_name.Player.timer\n                                                                                                                                                                                                    }\n                                                                                                                                                                                                };\n                                                                                                                                                                                                \n                                                                                                                                                                                                this.xAPI.sendStatement(null, statement);\n","parameters":["trapName"]},"postQuit":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                          if (!_DataManager.getInstanceData().publishSettings) return;\n                                                                                                                                                                                              var worldId = \"http://vwf.adlnet.gov/xapi/\" + /\\w{16}/.exec(_DataManager.getCurrentSession())[0];\n                                                                                                                                                                                              var statement = new ADL.XAPIStatement(\n                                                                                                                                                                                              {\n                                                                                                                                                                                                  'homePage': 'http://vwf.adlnet.gov',\n                                                                                                                                                                                                  'name': this.playerName\n                                                                                                                                                                                              },\n                                                                                                                                                                                                  ADL.verbs.terminated,\n                                                                                                                                                                                                  new ADL.XAPIStatement.Activity(worldId, _DataManager.getInstanceData().title || 'tempPublish')\n                                                                                                                                                                                              );\n                                                                                                                                                                                              statement.generateId();\n                                                                                                                                                                                              statement.context = {};\n                                                                                                                                                                                              statement.context.registration = this.registration;\n                                                                                                                                                                                              console.log(statement);\n                                                                                                                                                                                              this.xAPI.sendStatement(null, statement);\n","parameters":[]},"postSpawn":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                          if (!_DataManager.getInstanceData().publishSettings) return;\n                                                                                                                                                                                              var worldId = \"http://vwf.adlnet.gov/xapi/\" + /\\w{16}/.exec(_DataManager.getCurrentSession())[0];\n\n                                                                                                                                                                                              var agentId = {\n                                                                                                                                                                                                  'homePage': 'http://vwf.adlnet.gov',\n                                                                                                                                                                                                  'name': this.playerName\n                                                                                                                                                                                              };\n                                                                                                                                                                                              var statement = new ADL.XAPIStatement(\n                                                                                                                                                                                                  new ADL.XAPIStatement.Agent(agentId, agentId.name),\n                                                                                                                                                                                                  new ADL.XAPIStatement.Verb('http://vwf.adlnet.gov/xapi/IFestGame2014/verbs/spawned_in', 'spawned in'),\n                                                                                                                                                                                                  new ADL.XAPIStatement.Activity(worldId, _DataManager.getInstanceData().title || 'tempPublish'));\n\n                                                                                                                                                                                              statement.context.registration = this.registration;\n\n                                                                                                                                                                                              console.log(statement);\n                                                                                                                                                                                              this.xAPI.sendStatement(null, statement);\n","parameters":["player"]},"postStart":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                          if (!_DataManager.getInstanceData().publishSettings) return;\n                                                                                                                                                                                              var worldId = \"http://vwf.adlnet.gov/xapi/\" + /\\w{16}/.exec(_DataManager.getCurrentSession())[0];\n                                                                                                                                                                                              var agentId = {\n                                                                                                                                                                                                  'homePage': 'http://vwf.adlnet.gov',\n                                                                                                                                                                                                  'name': player\n                                                                                                                                                                                              };\n\n                                                                                                                                                                                              var statement = new ADL.XAPIStatement(\n                                                                                                                                                                                                  new ADL.XAPIStatement.Agent(agentId, agentId.name),\n                                                                                                                                                                                                  ADL.verbs.attempted,\n                                                                                                                                                                                                  new ADL.XAPIStatement.Activity(worldId, _DataManager.getInstanceData().title || 'tempPublish'));\n                                                                                                                                                                                              statement.object.definition.moreInfo = window.location.href;\n\n                                                                                                                                                                                              statement.generateRegistration();\n\n                                                                                                                                                                                              this.registration = statement.context.registration;\n\n                                                                                                                                                                                              console.log(statement);\n                                                                                                                                                                                              this.xAPI.sendStatement(null, statement);\n","parameters":["player"]},"postSuccess":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                          if (!_DataManager.getInstanceData().publishSettings) return;\n                                                                                                                                                                                              var worldId = \"http://vwf.adlnet.gov/xapi/\" + /\\w{16}/.exec(_DataManager.getCurrentSession())[0];\n                                                                                                                                                                                              var agentId = {\n                                                                                                                                                                                                  'homePage': 'http://vwf.adlnet.gov',\n                                                                                                                                                                                                  'name': this.playerName\n                                                                                                                                                                                              };\n\n                                                                                                                                                                                              var statement = new ADL.XAPIStatement(\n                                                                                                                                                                                                  new ADL.XAPIStatement.Agent(agentId, agentId.name),\n                                                                                                                                                                                                  ADL.verbs.completed,\n                                                                                                                                                                                                  new ADL.XAPIStatement.Activity(worldId, _DataManager.getInstanceData().title || 'tempPublish'));\n\n                                                                                                                                                                                              statement.object.definition.moreInfo = window.location.href;\n\n                                                                                                                                                                                              statement.context = {\n                                                                                                                                                                                                  'registration': this.registration,\n                                                                                                                                                                                                  'extensions':\n                                                                                                                                                                                                  {\n                                                                                                                                                                                                      \"http://vwf.adlnet.gov/xapi/IFestGame2014\":\n                                                                                                                                                                                                      {\n                                                                                                                                                                                                          'timeAlive': this.Scene.children_by_name.Player.timer\n                                                                                                                                                                                                      }\n                                                                                                                                                                                                  }\n                                                                                                                                                                                              };\n                                                                                                                                                                                              \n                                                                                                                                                                                              this.xAPI.sendStatement(null, statement);\n","parameters":[]},"postWaypoint":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                          if (!_DataManager.getInstanceData().publishSettings) return;\n\n                                                                                                                                                                                              var worldId = \"http://vwf.adlnet.gov/xapi/\" + /\\w{16}/.exec(_DataManager.getCurrentSession())[0];\n                                                                                                                                                                                              var waypointId = worldId + '/' + waypointName;\n                                                                                                                                                                                              var agentId = {\n                                                                                                                                                                                                  'homePage': 'http://vwf.adlnet.gov',\n                                                                                                                                                                                                  'name': this.playerName\n                                                                                                                                                                                              };\n                                                                                                                                                                                              var statement = new ADL.XAPIStatement(\n                                                                                                                                                                                                  new ADL.XAPIStatement.Agent(agentId, agentId.name),\n                                                                                                                                                                                                  new ADL.XAPIStatement.Verb('http://vwf.adlnet.gov/xapi/IFestGame2014/verbs/reached', 'reached'),\n                                                                                                                                                                                                  new ADL.XAPIStatement.Activity(waypointId, waypointName));\n                                                                                                                                                                                                  \n                                                                                                                                                                                              statement.addParentActivity(new ADL.XAPIStatement.Activity(worldId, _DataManager.getInstanceData().title || 'tempPublish'));\n                                                                                                                                                                                              statement.context.registration = this.registration;\n                                                                                                                                                                                              statement.context.extensions = {\n                                                                                                                                                                                                  \"http://vwf.adlnet.gov/xapi/IFestGame2014\":\n                                                                                                                                                                                                  {\n                                                                                                                                                                                                      'timeAlive': this.Scene.children_by_name.Player.timer\n                                                                                                                                                                                                  }\n                                                                                                                                                                                              };\n                                                                                                                                                                                              this.xAPI.sendStatement(null, statement);\n","parameters":["waypointName"]},"ready":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                      this.xAPI.configure(\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                          {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              endpoint: 'https://lrs.adlnet.gov/xapi/',\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              user: 'IFestGame',\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              password: 'UQw9Sw*FcZlM'\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                          });\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                          this.xAPI.testConfig();\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                          var id = this.id;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                          var self2 = this;\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                          _dView.setCamera('SandboxCamera-vwf-58faf29-3658-392-e779-44d7f701f192');\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                          this.Scene.bind('avatarCreated', function(cid, name)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                          {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              window.setTimeout(function()\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  _dView.setCamera('SandboxCamera-vwf-58faf29-3658-392-e779-44d7f701f192');\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              }, 300);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                          });\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                          this.Scene.bind('clientConnected', function(cid, name)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                          {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              _dView.setCamera('SandboxCamera-vwf-58faf29-3658-392-e779-44d7f701f192');\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              self2.playerName = name;\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              if (self2.playerName == 'anonymous')\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  alertify.prompt(\"Please tell me your name.\", function(ok, val)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      vwf_view.kernel.setProperty(self2.id, 'playerName', val);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      self2.postStart(val);\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  });\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              }\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              else\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  self2.postStart(self2.playerName);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              }\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                          });\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                          var settings = _DataManager.getInstanceData();\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                          if (!settings.publishSettings)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                          {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              $(document.head).append('<script type=\"text/javascript\" src=\"./vwfdatamanager.svc/datafile/XAPIGame/gamegui.js\" ></script>')\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                          }\n","parameters":[]},"reset":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            var myself = this;\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                function walk(node)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    if (!node || node == myself || node == myself.Scene.children_by_name.Player) return;\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    if (node.reset)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        node.reset();\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    var children = node.children;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    for (var i = 0; i < children.length; i++)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        if (children[i])\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            walk(children[i]);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                var children = this.parent.children;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                for (var i = 0; i < children.length; i++)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    walk(children[i]);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                this.postSpawn();\n","parameters":[]}},"name":"528b1838-cc3c-d7c-b8ee-17f0d5806c2c","properties":{"DisplayName":"GameCode","NotProto":"","owner":"Rob","paused":false,"playerName":"Rob","registration":"b8cb7ddb-a081-baf8-ccb8-cdd9674db892","type":"behavior"},"random":{"c":1,"s0":0.61410125461407,"s1":0.146318237995729,"s2":0.355505408486351},"sequence":0},"57a66669-539-e627-73b-5a87c02bd688":{"children":{"c51f8e7f-6e15-b0b0-e161-7e041a5b5c9e":{"extends":"uvmap.vwf","id":"uvmap-vwf-c51f8e7f-6e15-b0b0-e161-7e041a5b5c9e","name":"c51f8e7f-6e15-b0b0-e161-7e041a5b5c9e","properties":{"DisplayName":"uvmap1","NotProto":"NOT!","_length":2.78,"height":2.73,"mode":"plane","owner":"Rob","plane":"y","transform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"type":"modifier","uoffset":0.34,"voffset":-0.07},"random":{"c":1,"s0":0.0115805226378143,"s1":0.223965629935265,"s2":0.206677667563781},"sequence":0,"source":"vwf/model/threejs/uvmap.js","type":"subDriver/threejs"},"fd05649d-f109-ef76-b8ea-396e783d8a20":{"extends":"hoverlabel.vwf","id":"hoverlabel-vwf-fd05649d-f109-ef76-b8ea-396e783d8a20","name":"fd05649d-f109-ef76-b8ea-396e783d8a20","properties":{"DisplayName":"hoverlabel1","color":[0.933333333333333,0,1],"offset3D":[0,0,0.9],"owner":"Rob","text":"Start!","textsize":12,"type":"behavior"},"random":{"c":1,"s0":0.0182904226239771,"s1":0.415411794790998,"s2":0.657714408589527},"sequence":0}},"extends":"cylinder2.vwf","id":"cylinder2-vwf-57a66669-539-e627-73b-5a87c02bd688","name":"57a66669-539-e627-73b-5a87c02bd688","properties":{"DisplayName":"cylinder1","height":0.26,"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"a":1,"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/teleport.png"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.59,"rsegs":16,"size":[1,0.5,0.5],"tempid":"","texture":"checker.jpg","transform":[1,0,0,0,0,1,0,0,0,0,1,0,-7.55100393295288,-0.891001880168915,-0.0930000022053719,1],"type":"Primitive"},"random":{"c":1,"s0":0.307763082440943,"s1":0.157772459322587,"s2":0.224498455645517},"sequence":0,"source":"vwf/model/threejs/cylinder.js","type":"subDriver/threejs"},"58faf29-3658-392-e779-44d7f701f192":{"extends":"SandboxCamera.vwf","id":"SandboxCamera-vwf-58faf29-3658-392-e779-44d7f701f192","name":"58faf29-3658-392-e779-44d7f701f192","properties":{"DisplayName":"OverheadCam","far":1000,"fov":74,"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":5.3,"scaley":6.1,"src":"/adl/sandbox/DnNE31e3uvYptRYw//vwfDataManager.svc/texture?UID=brick.jpg"}],"morphTargets":false,"reflect":0.1,"shininess":0.2,"side":0,"skinning":false,"specularColor":{"b":0.0666666666666667,"g":0.0666666666666667,"r":0.0666666666666667},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[1,0,0,0,0,-1.30786332874777e-7,-0.99999988079071,0,0,0.99999988079071,-1.30786332874777e-7,0,0.0114222439005971,-1.15595650672913,11.9199934005737,1]},"random":{"c":1,"s0":0.293749240227044,"s1":0.289425936760381,"s2":0.0649766458664089},"sequence":0,"source":"vwf/model/threejs/camera.js","type":"subDriver/threejs"},"64eecc-310e-7c6e-b55b-172c2e3d7693":{"children":{"bf979a46-13f1-9055-48c4-1682a98c1852":{"extends":"SandboxParticleSystem.vwf","id":"SandboxParticleSystem-vwf-bf979a46-13f1-9055-48c4-1682a98c1852","methods":{"makeFlameSound":{"body":"\n\n      this.audioAPI.stopSound(\"./vwfdatamanager.svc/datafile/XAPIGame/flame.mp3\");\n            this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/flame.mp3\", false, 100);\n","parameters":[]},"tick":{"body":"\n\n     if (this.Scene.children_by_name.GameCode.paused === true) return;\n\n         var localPlayer = this.transformAPI.globalToLocal(this.Scene.children_by_name.Player.transformAPI.getPosition());\n\n                                                                                if (Math.abs(localPlayer[0]) < 1.5 && Math.abs(localPlayer[1]) < 1.5 && localPlayer[2] > -1 && localPlayer[2] < 6)\n                                                                                {\n                                                                                    this.counter++;\n                                                                                    if (Math.sin(this.counter / 10) > 0)\n                                                                                    {\n                                                                                        if (this.visible == false)\n                                                                                            this.makeFlameSound();\n                                                                                        this.visible = true;\n                                                                                    }\n                                                                                    else\n                                                                                        this.visible = false;\n                                                                                }\n                                                                                else\n                                                                                    this.visible = false;\n\n                                                                                if (Math.abs(localPlayer[0]) < .4 && Math.abs(localPlayer[1]) < .4 && localPlayer[2] > -.2 && localPlayer[2] < 3.5 && this.visible === true)\n                                                                                {\n                                                                                    this.Scene.children_by_name.GameCode.postDeath(this.parent.DisplayName);\n                                                                                    this.Scene.children_by_name.Player.Die();\n                                                                           }\n","parameters":[]}},"name":"bf979a46-13f1-9055-48c4-1682a98c1852","properties":{"DisplayName":"ParticleSystem1","additive":true,"counter":293654,"depthTest":false,"endColor":[0,0,0,0.6],"endSize":0.46,"image":"/adl/sandbox/DnNE31e3uvYptRYw//vwfDataManager.svc/texture?UID=fire.png","maxAcceleration":[0,0,-0.001],"maxLifeTime":91,"maxOrientation":13.4,"maxVelocity":[-0.007,-0.007,0.084],"minAcceleration":[0,0,-0.001],"minLifeTime":48,"minOrientation":-17.9,"minVelocity":[0.004,0.004,0.064],"owner":"vergenzs","solver":"AnalyticShader","startSize":0.18,"transform":[1,0,0,0,0,1,0,0,0,0,1,0,0.0159216336905956,0.0170001182705164,-0.0970721542835236,1],"type":"ParticleSystem","visible":false},"random":{"c":1,"s0":0.757248948095366,"s1":0.142225413117558,"s2":0.262138801626861},"sequence":0}},"extends":"cone2.vwf","id":"cone2-vwf-64eecc-310e-7c6e-b55b-172c2e3d7693","name":"64eecc-310e-7c6e-b55b-172c2e3d7693","properties":{"DisplayName":"FlameThrower1","GameType":"FlameThrower","height":0.16,"materialDef":{"alpha":1,"ambient":{"b":0.0352941176470588,"g":0.0352941176470588,"r":0.580392156862745},"color":{"a":1,"b":0.0352941176470588,"g":0.0352941176470588,"r":0.580392156862745},"emit":{"b":0,"g":0,"r":1},"layers":[],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.1,"size":[0.5,1,0.5],"tempid":"","texture":"checker.jpg","transform":[1,0,0,0,0,0,1,0,0,-1,-3.58659435484299e-10,0,-1.21543562412262,0.295672595500946,0.5,1],"type":"Primitive"},"random":{"c":1,"s0":0.353226070059463,"s1":0.606439127353951,"s2":0.885167080210522},"sequence":0,"source":"vwf/model/threejs/cone.js","type":"subDriver/threejs"},"6c78a4ad-7ecb-85d5-ec0f-bfffba70e9f8":{"extends":"box2.vwf","id":"box2-vwf-6c78a4ad-7ecb-85d5-ec0f-bfffba70e9f8","methods":{"makeGateSound":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                              this.audioAPI.stopSound(\"./vwfdatamanager.svc/datafile/XAPIGame.boochch.mp3\");\n                                                                                                                                  this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/boochch.mp3\", false, 100);\n","parameters":[]},"tick":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                if (this.Scene.children_by_name.GameCode.paused === true) return;\n\n                                                                                                                    if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < 1.5)\n                                                                                                                    {\n                                                                                                                        this.counter += 1;\n                                                                                                                        this.translation[2] = .5 + (Math.sin(this.counter / 3) + 1) / 2;\n                                                                                                                        if (this.translation[2] > .5 && this.translation[2] < .505)\n                                                                                                                            this.makeGateSound();\n                                                                                                                        if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < .35)\n                                                                                                                        {\n                                                                                                                            this.Scene.children_by_name.Player.Die();\n                                                                                                                            this.Scene.children_by_name.GameCode.postDeath(this.DisplayName);\n                                                                                                                        }\n                                                                                                                    }\n","parameters":[]}},"name":"6c78a4ad-7ecb-85d5-ec0f-bfffba70e9f8","properties":{"DisplayName":"Trapdoor5","GameType":"TrapDoor","_length":0.12,"counter":35195,"materialDef":{"alpha":1,"ambient":{"b":0.588235294117647,"g":0.588235294117647,"r":0.588235294117647},"color":{"a":1,"b":0.588235294117647,"g":0.588235294117647,"r":0.588235294117647},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"/adl/sandbox/DnNE31e3uvYptRYw//vwfDataManager.svc/texture?UID=\\wests_textures\\paneling.png"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","size":[1,1,1],"tempid":"","texture":"checker.jpg","transform":[1,0,0,0,0,1,0,0,0,0,1,0,2.84588694572449,-4.33408451080322,1.40950918197632,1],"type":"Primitive","width":0.98},"random":{"c":1,"s0":0.827133798506111,"s1":0.32800598978065,"s2":0.900512624066323},"sequence":0,"source":"vwf/model/threejs/box.js","type":"subDriver/threejs"},"96f9477d-eb75-be43-ee09-e575a6b3ecd":{"children":{"94d998a3-3443-8cf2-9444-31103067f5b5":{"children":{"a528b048-f154-edfa-c503-bd7dae4bc40":{"extends":"asset.vwf","id":"asset-vwf-a528b048-f154-edfa-c503-bd7dae4bc40","name":"a528b048-f154-edfa-c503-bd7dae4bc40","properties":{"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/policecar.png"}],"morphTargets":false,"reflect":0,"shininess":1,"side":0,"skinning":false,"specularColor":{"b":1,"g":1,"r":1},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[6.73521308169889e-11,-0.399939090013504,0.00698096305131912,0,1.26354260387984e-10,0.00696351053193212,0.398939222097397,0,-0.400000005960464,-6.51311574118019e-11,1.2782709613024e-10,0,0,0,-0.334999978542328,1]},"random":{"c":1,"s0":0.953633794793859,"s1":0.951581143541262,"s2":0.0818706699647009},"sequence":0,"source":"./vwfdatamanager.svc/datafile/XAPIGame/PoliceCar.json","type":"subDriver/threejs/asset/vnd.osgjs+json+compressed"}},"extends":"sphere2.vwf","id":"sphere2-vwf-94d998a3-3443-8cf2-9444-31103067f5b5","name":"94d998a3-3443-8cf2-9444-31103067f5b5","properties":{"DisplayName":"Ship","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"a":1,"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"checker.jpg"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.23,"size":[0.5,1,1],"tempid":"","texture":"checker.jpg","transform":[0,-1,0,0,1,0,0,0,0,0,1,0,0,0,0,1],"type":"Primitive","visible":false},"random":{"c":1,"s0":0.216963760089129,"s1":0.302025123033673,"s2":0.709411301417276},"sequence":0,"source":"vwf/model/threejs/sphere.js","type":"subDriver/threejs"}},"extends":"sphere2.vwf","id":"sphere2-vwf-96f9477d-eb75-be43-ee09-e575a6b3ecd","methods":{"doMove":{"body":"\n\n\n\n\n\n\n\n\n\n\n                      this.transformAPI.move(x, y, z);\n                          this.children_by_name.Ship.transformAPI.lookat([x*100,y*100,0],'','X','Z');\n","parameters":["x","y","z"]},"reset":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                        if(this.startingLocation)\n                                                            {\n                                                                this.transformAPI.setPosition(this.startingLocation);   \n                                                            }\n","parameters":[]},"tick":{"body":"\n\n\n\n\n\n\n\n\n\n\n                      if (this.Scene.children_by_name.GameCode.paused === true) return;\n                          //This function was created for you by the system. \n                          //The tick function is called 20 times every second. \n                          // Write code here to animate over time\n                          var toPlayer = Vec3.subtract(this.Scene.children_by_name.Player.transformAPI.getPosition(), this.transformAPI.getPosition(), []);\n                          var hits = this.Scene.traceAPI.rayCast(this.transformAPI.getPosition(), toPlayer,\n                          {\n                              ignore: [this.id]\n                          });\n                          if (!this.sign)\n                              this.sign = function(num)\n                              {\n                                  return num > 0 ? 1 : -1;\n                          }\n\n                          if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < .74)\n                          {\n\n                              if (hits.node == this.Scene.children_by_name.Player)\n                              {\n                                  this.Scene.children_by_name.Player.Die();\n                                  this.Scene.children_by_name.GameCode.postDeath(this.DisplayName);\n                              }\n                          }\n                          else if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < 4)\n                          {\n                              var max = Math.max(Math.abs(toPlayer[0]), Math.abs(toPlayer[1]), Math.abs(toPlayer[2]));\n                              if (max == Math.abs(toPlayer[0]))\n                                  if (this.tryMove([this.sign(toPlayer[0]) / 10, 0, 0]))\n                                      this.doMove(this.sign(toPlayer[0]) / 10, 0, 0);\n                                  else if (this.tryMove([0, this.sign(toPlayer[1]) / 10, 0]))\n                                  this.doMove(0, this.sign(toPlayer[1]) / 10, 0);\n                              if (max == Math.abs(toPlayer[1]))\n                                  if (this.tryMove([0, this.sign(toPlayer[1]) / 10, 0]))\n                                     this.doMove(0, this.sign(toPlayer[1]) / 10, 0);\n                                  else if (this.tryMove([this.sign(toPlayer[0]) / 10, 0, 0]))\n                                  this.doMove(this.sign(toPlayer[0]) / 10, 0, 0);\n\n                          }\n","parameters":[]},"tryMove":{"body":"\n\n\n      if (Vec3.magnitude(dir) == 0) return false;\n\n          var transform = this.translation.internal_val;\n          var newpos = Vec3.add(transform, dir, []);\n          var hits = _SceneManager.SphereCast(newpos, .3,\n          {\n              OneHitPerMesh: true,\n              ignore: [_dSky, _Editor.findviewnode(this.id),_Editor.findviewnode(\"sandboxGroup-vwf-ff144e59-a5d8-d4b0-94ed-641a4d60d49\")]\n          });\n\n          if (hits && hits.length)\n          {\n\n              return false;\n          }\n          return true;\n","parameters":["dir"]}},"name":"96f9477d-eb75-be43-ee09-e575a6b3ecd","properties":{"DisplayName":"Enemy3","GameType":"Enemy","materialDef":{"alpha":1,"ambient":{"b":0.0745098039215686,"g":0.0745098039215686,"r":0.941176470588235},"color":{"a":1,"b":0.0745098039215686,"g":0.0745098039215686,"r":0.941176470588235},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"checker.jpg"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.42,"size":[0.5,1,1],"startingLocation":[-2.97893338765174,-0.0687791012158125,0.55],"tempid":"","texture":"checker.jpg","transform":[-0.999991834163666,-0.00401435419917107,0,0,0.00401435419917107,-0.999991834163666,0,0,0,0,1,0,-0.378933846950531,-0.46877908706665,0.550000011920929,1],"type":"Primitive","visible":false},"random":{"c":1,"s0":0.201469623949379,"s1":0.204106712946668,"s2":0.828892245423049},"sequence":0,"source":"vwf/model/threejs/sphere.js","type":"subDriver/threejs"},"Rob":{"events":{"Message":{"body":"if(vwf.client() != vwf.moniker()) return; setupPmWindow(this.PlayerNumber)    ","parameters":[""]},"ShowProfile":{"body":"if(vwf.client() != vwf.moniker()) return; _UserManager.showProfile(_DataManager.GetProfileForUser(this.PlayerNumber))    ","parameters":[""]}},"extends":"character.vwf","id":"character-vwf-Rob","name":"Rob","properties":{"PlayerNumber":"Rob","activeCycle":[],"castShadows":true,"cycles":{"jump":{"current":0,"length":36,"loop":false,"speed":1.25,"start":70},"run":{"current":0,"length":36,"loop":true,"speed":1.25,"start":70},"runningjump":{"current":0,"length":48,"loop":false,"speed":1.25,"start":109},"stand":{"current":0,"length":0,"loop":true,"speed":1.25,"start":1},"strafeleft":{"current":0,"length":16,"loop":true,"speed":-1.5,"start":124},"straferight":{"current":0,"length":16,"loop":true,"speed":1.5,"start":108},"walk":{"current":0,"length":27,"loop":true,"speed":1,"start":6},"walkback":{"current":0,"length":30,"loop":true,"speed":-1.25,"start":0}},"isDynamic":true,"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"depthtest":true,"emit":{"b":0.254901960784314,"g":0.254901960784314,"r":0.270588235294118},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./avatars/VWS_B_Male3-2.jpg"}],"morphTargets":false,"reflect":0,"shininess":0,"side":0,"skinning":true,"specularColor":{"b":0.2,"g":0.2,"r":0.2},"specularLevel":1,"type":"phong"},"owner":"Rob","ownerClientID":"vcmvqeABTkcFAzjYWm6j","profile":{"Avatar":"usmale.dae","Email":"robert.chadwick.ctr@adlnet.gov","Homepage":"","Location":"asdf","Name":"Rob Chadwick","Organization":"","Salt":"361c7d4f-a442-2df3-7ef8-1030ad9b4941","Skype":"","TempPassword":{"Password":"54f9870b52c211448fb751d21870cf2e197072a8f44dd5c05592781e949ee8c6","Time":"2014-02-07T00:30:49.974Z"},"Twitter":"","Username":"Rob","avatarModel":"./avatars/VWS_Business_Male3.DAE","avatarTexture":"./avatars/VWS_B_Male3-2.jpg","inventoryKey":"32hqb3rv"},"receiveShadows":true,"standing":0,"standingOnID":null,"standingOnOffset":null,"transform":[1,0,0,0,0,1,0,0,0,0,1,0,-6.93499994277954,-367,0,1]},"random":{"c":1,"s0":0.889201917219907,"s1":0.745096263475716,"s2":0.368910285877064},"sequence":0,"source":"./avatars/VWS_Business_Male3.DAE","type":"subDriver/threejs/asset/vnd.collada+xml"},"a431cffb-98e2-d59f-34df-1d0f3a6d6667":{"extends":"box2.vwf","id":"box2-vwf-a431cffb-98e2-d59f-34df-1d0f3a6d6667","methods":{"makeGateSound":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                              this.audioAPI.stopSound(\"./vwfdatamanager.svc/datafile/XAPIGame.boochch.mp3\");\n                                                                                                                                  this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/boochch.mp3\", false, 100);\n","parameters":[]},"tick":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                if (this.Scene.children_by_name.GameCode.paused === true) return;\n\n                                                                                                                    if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < 1.5)\n                                                                                                                    {\n                                                                                                                        this.counter += 1;\n                                                                                                                        this.translation[2] = .5 + (Math.sin(this.counter / 3) + 1) / 2;\n                                                                                                                        if (this.translation[2] > .5 && this.translation[2] < .505)\n                                                                                                                            this.makeGateSound();\n                                                                                                                        if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < .35)\n                                                                                                                        {\n                                                                                                                            this.Scene.children_by_name.Player.Die();\n                                                                                                                            this.Scene.children_by_name.GameCode.postDeath(this.DisplayName);\n                                                                                                                        }\n                                                                                                                    }\n","parameters":[]}},"name":"a431cffb-98e2-d59f-34df-1d0f3a6d6667","properties":{"DisplayName":"Trapdoor6","GameType":"TrapDoor","_length":0.12,"counter":35246,"materialDef":{"alpha":1,"ambient":{"b":0.588235294117647,"g":0.588235294117647,"r":0.588235294117647},"color":{"a":1,"b":0.588235294117647,"g":0.588235294117647,"r":0.588235294117647},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"/adl/sandbox/DnNE31e3uvYptRYw//vwfDataManager.svc/texture?UID=\\wests_textures\\paneling.png"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","size":[1,1,1],"tempid":"","texture":"checker.jpg","transform":[0,1,0,0,-1,0,0,0,0,0,1,0,-1.27102506160736,-6.35964107513428,0.611508905887604,1],"type":"Primitive","width":0.98},"random":{"c":1,"s0":0.546015350380912,"s1":0.336878753267229,"s2":0.108388144988567},"sequence":0,"source":"vwf/model/threejs/box.js","type":"subDriver/threejs"},"a6255330-383-c0d5-24af-a513db6d8d53":{"children":{"7091eed4-69b6-ca8d-f7e6-f09f8a5d7b54":{"extends":"rotator.vwf","id":"rotator-vwf-7091eed4-69b6-ca8d-f7e6-f09f8a5d7b54","name":"7091eed4-69b6-ca8d-f7e6-f09f8a5d7b54","properties":{"Active":true,"Axis":"Y","DisplayName":"rotator3","Local":true,"owner":"vergenzs","type":"behavior"},"random":{"c":1,"s0":0.510572395287454,"s1":0.997213826747611,"s2":0.242300516460091},"sequence":0},"cea11968-b205-ddfa-a35c-a7c0fd4c3c91":{"extends":"SandboxParticleSystem.vwf","id":"SandboxParticleSystem-vwf-cea11968-b205-ddfa-a35c-a7c0fd4c3c91","methods":{"makeFlameSound":{"body":"\n\n\n        this.audioAPI.stopSound(\"./vwfdatamanager.svc/datafile/XAPIGame/flame.mp3\");\n              this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/flame.mp3\", false, 100);\n","parameters":[]},"tick":{"body":"\n\n\n      if (this.Scene.children_by_name.GameCode.paused === true) return;\n\n          var localPlayer = this.transformAPI.globalToLocal(this.Scene.children_by_name.Player.transformAPI.getPosition());\n\n          if (Math.abs(localPlayer[0]) < .1 && Math.abs(localPlayer[1]) < .1 && localPlayer[2] > -.2 && localPlayer[2] < 3 && this.visible === true)\n          {\n              this.Scene.children_by_name.GameCode.postDeath(this.parent.DisplayName);\n              this.Scene.children_by_name.Player.Die();\n          }\n","parameters":[]}},"name":"cea11968-b205-ddfa-a35c-a7c0fd4c3c91","properties":{"DisplayName":"ParticleSystem1","additive":true,"alphaTest":0,"counter":294588,"depthTest":false,"emitterSize":[1,1,0],"emitterType":"sphere","endColor":[0.0588235294117647,0.0588235294117647,1,0.6],"endSize":0.19,"image":"/adl/sandbox/DnNE31e3uvYptRYw//vwfDataManager.svc/datafile/XAPIGame/spark.jpg","maxAcceleration":[0,0,0],"maxLifeTime":23,"maxOrientation":-30,"maxVelocity":[0,0,0.084],"minAcceleration":[0,0,0],"minLifeTime":23,"minOrientation":-30,"minVelocity":[0,0,0.064],"owner":"vergenzs","solver":"AnalyticShader","startColor":[0.490196078431373,0,0.949019607843137,1],"startSize":0.18,"textureTiles":1,"transform":[1,0,0,0,0,1,0,0,0,0,1,0,0.0159216336905956,0.0170001182705164,-0.0970721542835236,1],"type":"ParticleSystem","visible":true},"random":{"c":1,"s0":0.14793998748064,"s1":0.581802782602608,"s2":0.25210086372681},"sequence":0}},"extends":"cone2.vwf","id":"cone2-vwf-a6255330-383-c0d5-24af-a513db6d8d53","name":"a6255330-383-c0d5-24af-a513db6d8d53","properties":{"DisplayName":"Laser1","GameType":"Laser","height":0.53,"materialDef":{"alpha":1,"ambient":{"b":1,"g":0.0392156862745098,"r":0.345098039215686},"blendMode":1,"color":{"a":1,"b":1,"g":0.0392156862745098,"r":0.345098039215686},"emit":{"b":0.968627450980392,"g":0.0392156862745098,"r":0.176470588235294},"layers":[],"metal":false,"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.1,"size":[0.5,1,0.5],"tempid":"","texture":"checker.jpg","transform":[-0.909850716590881,-0.41419643163681,0,0,0,0,0.999373078346252,0,-0.41404390335083,0.91018807888031,0,0,-8.700026512146,-5.62078142166138,0.5,1],"type":"Primitive"},"random":{"c":1,"s0":0.845104526961222,"s1":0.0813493386376649,"s2":0.370791564462706},"sequence":0,"source":"vwf/model/threejs/cone.js","type":"subDriver/threejs"},"c241ca4f-c718-5080-3803-24953f133566":{"children":{"3cf629-b599-3fb0-2452-92d47874f8e4":{"children":{"973c9f-7f6a-ad56-ab1c-c9f043a59cd3":{"extends":"asset.vwf","id":"asset-vwf-973c9f-7f6a-ad56-ab1c-c9f043a59cd3","name":"973c9f-7f6a-ad56-ab1c-c9f043a59cd3","properties":{"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/policecar.png"}],"morphTargets":false,"reflect":0,"shininess":1,"side":0,"skinning":false,"specularColor":{"b":1,"g":1,"r":1},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[6.73521308169889e-11,-0.399939090013504,0.00698096305131912,0,1.26354260387984e-10,0.00696351053193212,0.398939222097397,0,-0.400000005960464,-6.51311574118019e-11,1.2782709613024e-10,0,0,0,-0.334999978542328,1]},"random":{"c":1,"s0":0.953633794793859,"s1":0.951581143541262,"s2":0.0818706699647009},"sequence":0,"source":"./vwfdatamanager.svc/datafile/XAPIGame/PoliceCar.json","type":"subDriver/threejs/asset/vnd.osgjs+json+compressed"}},"extends":"sphere2.vwf","id":"sphere2-vwf-3cf629-b599-3fb0-2452-92d47874f8e4","name":"3cf629-b599-3fb0-2452-92d47874f8e4","properties":{"DisplayName":"Ship","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"a":1,"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"checker.jpg"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.23,"size":[0.5,1,1],"tempid":"","texture":"checker.jpg","transform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"type":"Primitive","visible":false},"random":{"c":1,"s0":0.216963760089129,"s1":0.302025123033673,"s2":0.709411301417276},"sequence":0,"source":"vwf/model/threejs/sphere.js","type":"subDriver/threejs"}},"extends":"sphere2.vwf","id":"sphere2-vwf-c241ca4f-c718-5080-3803-24953f133566","methods":{"doMove":{"body":"\n\n\n\n\n\n\n\n\n\n\n                      this.transformAPI.move(x, y, z);\n                          this.children_by_name.Ship.transformAPI.lookat([x*100,y*100,0],'','X','Z');\n","parameters":["x","y","z"]},"reset":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                        if(this.startingLocation)\n                                                            {\n                                                                this.transformAPI.setPosition(this.startingLocation);   \n                                                            }\n","parameters":[]},"tick":{"body":"\n\n\n\n\n\n\n\n\n\n\n                      if (this.Scene.children_by_name.GameCode.paused === true) return;\n                          //This function was created for you by the system. \n                          //The tick function is called 20 times every second. \n                          // Write code here to animate over time\n                          var toPlayer = Vec3.subtract(this.Scene.children_by_name.Player.transformAPI.getPosition(), this.transformAPI.getPosition(), []);\n                          var hits = this.Scene.traceAPI.rayCast(this.transformAPI.getPosition(), toPlayer,\n                          {\n                              ignore: [this.id]\n                          });\n                          if (!this.sign)\n                              this.sign = function(num)\n                              {\n                                  return num > 0 ? 1 : -1;\n                          }\n\n                          if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < .74)\n                          {\n\n                              if (hits.node == this.Scene.children_by_name.Player)\n                              {\n                                  this.Scene.children_by_name.Player.Die();\n                                  this.Scene.children_by_name.GameCode.postDeath(this.DisplayName);\n                              }\n                          }\n                          else if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < 4)\n                          {\n                              var max = Math.max(Math.abs(toPlayer[0]), Math.abs(toPlayer[1]), Math.abs(toPlayer[2]));\n                              if (max == Math.abs(toPlayer[0]))\n                                  if (this.tryMove([this.sign(toPlayer[0]) / 10, 0, 0]))\n                                      this.doMove(this.sign(toPlayer[0]) / 10, 0, 0);\n                                  else if (this.tryMove([0, this.sign(toPlayer[1]) / 10, 0]))\n                                  this.doMove(0, this.sign(toPlayer[1]) / 10, 0);\n                              if (max == Math.abs(toPlayer[1]))\n                                  if (this.tryMove([0, this.sign(toPlayer[1]) / 10, 0]))\n                                     this.doMove(0, this.sign(toPlayer[1]) / 10, 0);\n                                  else if (this.tryMove([this.sign(toPlayer[0]) / 10, 0, 0]))\n                                  this.doMove(this.sign(toPlayer[0]) / 10, 0, 0);\n\n                          }\n","parameters":[]},"tryMove":{"body":"\n\n\n      if (Vec3.magnitude(dir) == 0) return false;\n\n          var transform = this.translation.internal_val;\n          var newpos = Vec3.add(transform, dir, []);\n          var hits = _SceneManager.SphereCast(newpos, .3,\n          {\n              OneHitPerMesh: true,\n              ignore: [_dSky, _Editor.findviewnode(this.id),_Editor.findviewnode(\"sandboxGroup-vwf-ff144e59-a5d8-d4b0-94ed-641a4d60d49\")]\n          });\n\n          if (hits && hits.length)\n          {\n\n              return false;\n          }\n          return true;\n","parameters":["dir"]}},"name":"c241ca4f-c718-5080-3803-24953f133566","properties":{"DisplayName":"Enemy1","GameType":"Enemy","materialDef":{"alpha":1,"ambient":{"b":0.0745098039215686,"g":0.0745098039215686,"r":0.941176470588235},"color":{"a":1,"b":0.0745098039215686,"g":0.0745098039215686,"r":0.941176470588235},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"checker.jpg"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.42,"size":[0.5,1,1],"startingLocation":[-6.01717875956872,-9.00344265519803,0.55],"tempid":"","texture":"checker.jpg","transform":[-0.999991834163666,-0.00401435419917107,0,0,0.00401435419917107,-0.999991834163666,0,0,0,0,1,0,-0.517181992530823,-9.00344276428223,0.550000011920929,1],"type":"Primitive","visible":false},"random":{"c":1,"s0":0.201469623949379,"s1":0.204106712946668,"s2":0.828892245423049},"sequence":0,"source":"vwf/model/threejs/sphere.js","type":"subDriver/threejs"},"camera":{"extends":"http://vwf.example.com/camera.vwf","id":"http-vwf-example-com-camera-vwf-camera","name":"camera","random":{"c":1,"s0":0.337520210305229,"s1":0.824679231503978,"s2":0.505634118570015},"sequence":0},"d7ab6422-9b04-f46f-9247-620e3217770e":{"children":{"15a0b433-725a-7c58-a53a-d3a52296efd9":{"children":{"3ee14198-1420-926a-e5c6-22d85be97c00":{"extends":"asset.vwf","id":"asset-vwf-3ee14198-1420-926a-e5c6-22d85be97c00","name":"3ee14198-1420-926a-e5c6-22d85be97c00","properties":{"DisplayName":"truck","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/paneltruck.png"}],"morphTargets":false,"reflect":0,"shininess":1,"side":0,"skinning":false,"specularColor":{"b":1,"g":1,"r":1},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.00516455061733723,0.39996662735939,0,0,2.01628069795845e-9,-2.60347403358008e-11,0.400000005960464,0,0.39996662735939,-0.00516455061733723,-2.0164496739028e-9,0,0,0,-0.176000073552132,1]},"random":{"c":1,"s0":0.601201624143869,"s1":0.0353553316090256,"s2":0.457793089793995},"sequence":0,"source":"./vwfdatamanager.svc/datafile/XAPIGame/GamePanelTruck.json","type":"subDriver/threejs/asset/vnd.osgjs+json+compressed"}},"extends":"box2.vwf","id":"box2-vwf-15a0b433-725a-7c58-a53a-d3a52296efd9","name":"15a0b433-725a-7c58-a53a-d3a52296efd9","properties":{"DisplayName":"Ship","_length":0,"height":0.06,"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"a":1,"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"checker.jpg"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","size":[1,1,1],"tempid":"","texture":"checker.jpg","transform":[0.999999523162842,0.000256664381595328,0.00102998921647668,0,-0.000256664527114481,1.00000011920929,0,0,-0.00102998910006136,-2.64361631252541e-7,0.999999463558197,0,-0.00300443265587091,-0.077000118792057,-0.309000015258789,1],"type":"Primitive","visible":true,"width":0.1},"random":{"c":1,"s0":0.0230230980087072,"s1":0.0933316189330071,"s2":0.181355822365731},"sequence":0,"source":"vwf/model/threejs/box.js","type":"subDriver/threejs"},"1e8f40f1-7ad6-f731-62d0-65bccbc91286":{"extends":"SandboxCamera.vwf","id":"SandboxCamera-vwf-1e8f40f1-7ad6-f731-62d0-65bccbc91286","name":"1e8f40f1-7ad6-f731-62d0-65bccbc91286","properties":{"DisplayName":"ChaseCam","fov":74,"owner":"Rob","transform":[1,0,0,0,0,0.866025567054749,-0.500000059604645,0,0,0.500000059604645,0.866025567054749,0,-0.138764381408691,-1.15506315231323,1.22517144680023,1]},"random":{"c":1,"s0":0.66005057701841,"s1":0.261992189334705,"s2":0.890604599611834},"sequence":0,"source":"vwf/model/threejs/camera.js","type":"subDriver/threejs"},"24623952-8037-e5d2-7651-8bc5b9a26b5a":{"extends":"SandboxCamera.vwf","id":"SandboxCamera-vwf-24623952-8037-e5d2-7651-8bc5b9a26b5a","name":"24623952-8037-e5d2-7651-8bc5b9a26b5a","properties":{"DisplayName":"TopCam","far":1000,"fov":81,"owner":"Rob","transform":[1,0,0,0,0,0.147118866443634,-0.989118695259094,0,0,0.989118695259094,0.147118866443634,0,-0.00588685320690274,-0.589396893978119,2.67401576042175,1]},"random":{"c":1,"s0":0.334513067733496,"s1":0.52267289115116,"s2":0.855998533079401},"sequence":0,"source":"vwf/model/threejs/camera.js","type":"subDriver/threejs"},"6b6e6aa3-bab7-9e12-16e1-3e54f035c875":{"extends":"SandboxParticleSystem.vwf","id":"SandboxParticleSystem-vwf-6b6e6aa3-bab7-9e12-16e1-3e54f035c875","methods":{"hide":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      this.visible = false;\n","parameters":[]}},"name":"6b6e6aa3-bab7-9e12-16e1-3e54f035c875","properties":{"DisplayName":"ParticleSystem1","additive":true,"damping":0.71,"depthTest":false,"endColor":[0,0,0,0.19],"endSize":0.37,"gravity":0.01,"image":"/adl/sandbox/p7jjNfdWCRtxqLAE//vwfDataManager.svc/texture?UID=fire.jpg","mamSpin":3.3,"maxAcceleration":[0,0,0],"maxLifeTime":33,"maxOrientation":15.7,"maxRate":10000000.001,"maxVelocity":[-1,-1,-0.00169999999999817],"minAcceleration":[0,0,0],"minLifeTime":33,"minOrientation":-22.5,"minSpin":-9.3,"minVelocity":[1,1,0.1],"owner":"Rob","solver":"Analytic","startSize":0.86,"transform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"type":"ParticleSystem","velocityMode":"spherical","visible":false},"random":{"c":1,"s0":0.750982497818768,"s1":0.964711369713768,"s2":0.593375997850671},"sequence":0}},"extends":"sphere2.vwf","id":"sphere2-vwf-d7ab6422-9b04-f46f-9247-620e3217770e","methods":{"Die":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                              this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/explode.mp3\", false, 100);\n\n                                                                                                                                                                                  this.Scene.children_by_name.GameCode.paused = true;\n                                                                                                                                                                                  this.children_by_name.ParticleSystem1.visible = true;\n                                                                                                                                                                                  this.children_by_name.ParticleSystem1.future(.5).hide();\n                                                                                                                                                                                  this.children_by_name.ParticleSystem1.maxVelocity[2] += .0001;\n                                                                                                                                                                                 \n                                                                                                                                                                                  this.children_by_name.Ship.visible = false;\n                                                                                                                                                                                  this.future(2).reset();\n                                                                                                                                                                                  alertify.error('You died!', function() {\n\n                                                                                                                                                                                  }.bind(this));\n","parameters":[]},"ready":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                    this.Scene.unbind('keyDown', this.keydownfunc);\n                                                        this.Scene.unbind('keyUp', this.keyupfunc);\n\n                                                        var self = this;\n                                                        this.keydownfunc = function(keyData)\n                                                        {\n\n                                                            self.lastKeyDown = keyData.key.char;\n                                                            if (keyData.key.char == 'W')\n                                                                self.movement = Vec3.add(self.movement.internal_val, [0, .3, 0], []);\n                                                            if (keyData.key.char == 'S')\n                                                                self.movement = Vec3.add(self.movement.internal_val, [0, -0.3, 0], []);\n                                                            if (keyData.key.char == 'A')\n                                                                self.movement = Vec3.add(self.movement.internal_val, [-.3, 0, 0], []);\n                                                            if (keyData.key.char == 'D')\n                                                                self.movement = Vec3.add(self.movement.internal_val, [.3, 0, 0], []);\n\n                                                            console.log(self.movement.internal_val);\n                                                        };\n\n                                                        this.keyupfunc = function(keyData)\n                                                        {\n                                                            //if (keyData.key && keyData.key.char == self.lastKeyDown)\n                                                            //    self.movement = [0, 0, 0];\n                                                            if (keyData.key.char == 'W')\n                                                                self.movement = Vec3.add(self.movement.internal_val, [0, -.3, 0], []);\n                                                            if (keyData.key.char == 'S')\n                                                                self.movement = Vec3.add(self.movement.internal_val, [0, .3, 0], []);\n                                                            if (keyData.key.char == 'A')\n                                                                self.movement = Vec3.add(self.movement.internal_val, [.3, 0, 0], []);\n                                                            if (keyData.key.char == 'D')\n                                                                self.movement = Vec3.add(self.movement.internal_val, [-.3, 0, 0], []);\n                                                        };\n\n                                                        this.Scene.bind('keyDown', this.keydownfunc);\n                                                        this.Scene.bind('keyUp', this.keyupfunc);\n                                                        self.movement = [0, 0, 0];\n                                                        //This function was created for you by the system. \n                                                        //The scene is now completely loaded. This will fire on each client when the client joins, so it`s not a great place to create objects\n","parameters":[]},"reset":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                    this.Scene.children_by_name.GameCode.paused = false;\n                                                        var origin = [-7.31, -1.263, .1];\n                                                        this.transformAPI.setPosition(origin[0], origin[1], origin[2] + .5);\n                                                        this.children_by_name.ParticleSystem1.visible = false;\n\n                                                        this.timer = 0;\n                                                        this.children_by_name.Ship.visible = true;\n                                                        this.Scene.children_by_name.GameCode.reset();\n","parameters":[]},"tick":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                        if (this.Scene.children_by_name.GameCode.paused === true) return;\n                                                                                                            //This function was created for you by the system. \n                                                                                                            //The tick function is called 20 times every second. \n                                                                                                            // Write code here to animate over time\n                                                                                                           \n                                                                                                            var hits = this.tryMove(this.movement);\n\n                                                                                                            if (Vec3.magnitude(this.movement.internal_val) > .0001)\n                                                                                                                this.children_by_name.Ship.transformAPI.lookat(Vec3.scale(\n                                                                                                                [this.movement[0], this.movement[1], 0], 1000, []), '', 'X', 'Z');\n\n                                                                                                            var offset = Vec3.clone(this.movement.internal_val);\n                                                                                                            var count = 0;\n                                                                                                            while (hits && Vec3.magnitude(offset) > .001 && count < 10)\n                                                                                                            {\n                                                                                                                count++;\n                                                                                                                offset = Vec3.scale(offset, .5, []);\n                                                                                                                hits = this.tryMove(offset);\n                                                                                                            }\n                                                                                                            if (!hits)\n                                                                                                                this.transformAPI.move(offset[0], offset[1], offset[2]);\n                                                                                                            else\n                                                                                                            {\n\n                                                                                                            }\n                                                                                                            this.timer += 1.0 / 30.0;\n","parameters":[]},"tryMove":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                              if (Vec3.magnitude(dir) == 0) return false;\n\n                                  var transform = this.translation.internal_val;\n                                  var newpos = Vec3.add(transform, dir, []);\n                                  var hits = _SceneManager.SphereCast(newpos, .27,\n                                  {\n                                      OneHitPerMesh: false,\n                                      ignore: [_dSky, _Editor.findviewnode(this.id),_Editor.findviewnode(\"sandboxGroup-vwf-ff144e59-a5d8-d4b0-94ed-641a4d60d49\")]\n                                  });\n\n                                  if (hits && hits.length)\n                                  {\n                                      return hits;\n                                  }\n                                  return false;\n","parameters":["dir"]}},"name":"d7ab6422-9b04-f46f-9247-620e3217770e","properties":{"DisplayName":"Player","materialDef":{"alpha":1,"ambient":{"b":1,"g":0,"r":0.0823529411764706},"color":{"a":1,"b":1,"g":0,"r":0.0823529411764706},"emit":{"b":0,"g":0,"r":0},"layers":[],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"movement":[0,0,0],"owner":"Rob","radius":0.3,"size":[0.5,1,1],"tempid":"","texture":"checker.jpg","time":0,"timer":30.6666666666673,"transform":[1,0,0,0,0,1,0,0,0,0,1,0,7.21773672103882,-1.69835042953491,0.600000023841858,1],"type":"Primitive","visible":false},"random":{"c":1,"s0":0.489484123885632,"s1":0.787186275236309,"s2":0.766554398229346},"sequence":0,"source":"vwf/model/threejs/sphere.js","type":"subDriver/threejs"},"df9935e2-56fa-59c0-5a00-3306185e5bd8":{"children":{"6d482e8-f3cf-eeee-ce28-77c685817e46":{"children":{"d7355484-de05-9a75-373c-bccd741374d7":{"extends":"rotator.vwf","id":"rotator-vwf-d7355484-de05-9a75-373c-bccd741374d7","name":"d7355484-de05-9a75-373c-bccd741374d7","properties":{"Active":true,"DisplayName":"rotator1","Local":true,"owner":"Rob","type":"behavior"},"random":{"c":1,"s0":0.374866498634219,"s1":0.831964534241706,"s2":0.533414667937905},"sequence":0}},"extends":"cone2.vwf","id":"cone2-vwf-6d482e8-f3cf-eeee-ce28-77c685817e46","name":"6d482e8-f3cf-eeee-ce28-77c685817e46","properties":{"DisplayName":"cone1","height":0.69,"materialDef":{"alpha":0.39,"ambient":{"b":1,"g":0,"r":0.0823529411764706},"color":{"a":1,"b":1,"g":0,"r":0.0823529411764706},"emit":{"b":0,"g":0,"r":0},"layers":[],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":10,"side":1,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":10,"type":"phong"},"owner":"Rob","radius":0.33,"rsegs":3,"size":[0.5,1,0.5],"tempid":"","texture":"checker.jpg","transform":[-0.999822497367859,0.0190628953278065,0.00379594741389155,0,0.0141385234892368,0.847340404987335,-0.530879199504852,0,-0.0133369704708457,-0.530719518661499,-0.847441852092743,0,-2.98023228317845e-9,0.0317564494907856,1.36736214160919,1],"type":"Primitive"},"random":{"c":1,"s0":0.673546148231253,"s1":0.329978154040873,"s2":0.257451710291207},"sequence":0,"source":"vwf/model/threejs/cone.js","type":"subDriver/threejs"},"f280a341-263e-dd03-9dcc-9beb6d0a4243":{"extends":"hoverlabel.vwf","id":"hoverlabel-vwf-f280a341-263e-dd03-9dcc-9beb6d0a4243","name":"f280a341-263e-dd03-9dcc-9beb6d0a4243","properties":{"DisplayName":"hoverlabel1","color":[1,0,0.635294117647059],"offset3D":[0,0,0.9],"owner":"Rob","text":"Goal!","textsize":16,"type":"behavior"},"random":{"c":1,"s0":0.235764436423779,"s1":0.838487991364673,"s2":0.67600059369579},"sequence":0}},"extends":"cylinder2.vwf","id":"cylinder2-vwf-df9935e2-56fa-59c0-5a00-3306185e5bd8","methods":{"playWinSound":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            this.audioAPI.stopSound(\"./vwfdatamanager.svc/datafile/XAPIGame/win.mp3\");\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/win.mp3\", false, 100);\n","parameters":[]},"tick":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                        if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < 1.8)\n                                            {\n                                                // alertify.alert(\"You Win!\");\n                                                this.Scene.children_by_name.GameCode.postSuccess();\n                                                this.Scene.children_by_name.Player.reset();\n                                                this.playWinSound();\n\n                                            }\n","parameters":[]}},"name":"df9935e2-56fa-59c0-5a00-3306185e5bd8","properties":{"DisplayName":"cylinder1","height":0.26,"materialDef":{"alpha":1,"ambient":{"b":0.0901960784313725,"g":0.670588235294118,"r":0},"color":{"a":1,"b":0.0901960784313725,"g":0.670588235294118,"r":0},"emit":{"b":0,"g":0,"r":0},"layers":[],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.46,"rsegs":8,"size":[1,0.5,0.5],"tempid":"","texture":"checker.jpg","transform":[1,0,0,0,0,1,0,0,0,0,1,0,1.17999863624573,6.44899749755859,-0.146000027656555,1],"type":"Primitive"},"random":{"c":1,"s0":0.723132537910715,"s1":0.637780156685039,"s2":0.0355265494436026},"sequence":0,"source":"vwf/model/threejs/cylinder.js","type":"subDriver/threejs"},"e4593d8a-d6f5-76fd-7ccc-fe791da4fe18":{"extends":"http://vwf.example.com/label.vwf","id":"http-vwf-example-com-label-vwf-e4593d8a-d6f5-76fd-7ccc-fe791da4fe18","methods":{"tick":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                        //This function was created for you by the system. \n                                                                                                            //The tick function is called 20 times every second. \n                                                                                                            // Write code here to animate over time\n                                                                                                            this.text = \"TIME: \" +this.Scene.children_by_name.Player.timer.toFixed(2);\n","parameters":[]}},"name":"e4593d8a-d6f5-76fd-7ccc-fe791da4fe18","properties":{"DisplayName":"Label1","font_color":[0.749019607843137,0.568627450980392,0.929411764705882],"font_size":60,"height":76,"left":0,"owner":"Rob","text":"TIME: 30.67","text_align":"center","top":0,"transform":[1,0,0,0,0,1,0,0,0,0,1,0,626,65,0,1],"width":417},"random":{"c":1,"s0":0.0831439236644655,"s1":0.970436420757324,"s2":0.431639270158485},"sequence":0},"e618642-3104-d3f3-c1bd-eb5fb9af73":{"extends":"box2.vwf","id":"box2-vwf-e618642-3104-d3f3-c1bd-eb5fb9af73","methods":{"makeGateSound":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                              this.audioAPI.stopSound(\"./vwfdatamanager.svc/datafile/XAPIGame.boochch.mp3\");\n                                                                                                                                  this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/boochch.mp3\", false, 100);\n","parameters":[]},"tick":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                if (this.Scene.children_by_name.GameCode.paused === true) return;\n\n                                                                                                                    if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < 1.5)\n                                                                                                                    {\n                                                                                                                        this.counter += 1;\n                                                                                                                        this.translation[2] = .5 + (Math.sin(this.counter / 3) + 1) / 2;\n                                                                                                                        if (this.translation[2] > .5 && this.translation[2] < .505)\n                                                                                                                            this.makeGateSound();\n                                                                                                                        if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < .35)\n                                                                                                                        {\n                                                                                                                            this.Scene.children_by_name.Player.Die();\n                                                                                                                            this.Scene.children_by_name.GameCode.postDeath(this.DisplayName);\n                                                                                                                        }\n                                                                                                                    }\n","parameters":[]}},"name":"e618642-3104-d3f3-c1bd-eb5fb9af73","properties":{"DisplayName":"Trapdoor2","GameType":"TrapDoor","_length":0.12,"counter":35200,"materialDef":{"alpha":1,"ambient":{"b":0.588235294117647,"g":0.588235294117647,"r":0.588235294117647},"color":{"a":1,"b":0.588235294117647,"g":0.588235294117647,"r":0.588235294117647},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"/adl/sandbox/DnNE31e3uvYptRYw//vwfDataManager.svc/texture?UID=\\wests_textures\\paneling.png"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","size":[1,1,1],"tempid":"","texture":"checker.jpg","transform":[0,-1,0,0,1,0,0,0,0,0,1,0,-2.97893333435059,-1.77871131896973,1.24636650085449,1],"type":"Primitive","width":0.98},"random":{"c":1,"s0":0.852317988174036,"s1":0.0502081117592752,"s2":0.154817074770108},"sequence":0,"source":"vwf/model/threejs/box.js","type":"subDriver/threejs"},"f13abda1-c443-2742-64bb-12cd16c3ba21":{"children":{"19d8e8fd-7a11-3867-1210-57ca4e93a32d":{"children":{"b3d9881e-1783-6397-a3c5-cc69c072c230":{"extends":"asset.vwf","id":"asset-vwf-b3d9881e-1783-6397-a3c5-cc69c072c230","name":"b3d9881e-1783-6397-a3c5-cc69c072c230","properties":{"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/policecar.png"}],"morphTargets":false,"reflect":0,"shininess":1,"side":0,"skinning":false,"specularColor":{"b":1,"g":1,"r":1},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[6.73521308169889e-11,-0.399939090013504,0.00698096305131912,0,1.26354260387984e-10,0.00696351053193212,0.398939222097397,0,-0.400000005960464,-6.51311574118019e-11,1.2782709613024e-10,0,0,0,-0.334999978542328,1]},"random":{"c":1,"s0":0.953633794793859,"s1":0.951581143541262,"s2":0.0818706699647009},"sequence":0,"source":"./vwfdatamanager.svc/datafile/XAPIGame/PoliceCar.json","type":"subDriver/threejs/asset/vnd.osgjs+json+compressed"}},"extends":"sphere2.vwf","id":"sphere2-vwf-19d8e8fd-7a11-3867-1210-57ca4e93a32d","name":"19d8e8fd-7a11-3867-1210-57ca4e93a32d","properties":{"DisplayName":"Ship","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"a":1,"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"checker.jpg"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.23,"size":[0.5,1,1],"tempid":"","texture":"checker.jpg","transform":[0,-1,0,0,1,0,0,0,0,0,1,0,0,0,0,1],"type":"Primitive","visible":false},"random":{"c":1,"s0":0.216963760089129,"s1":0.302025123033673,"s2":0.709411301417276},"sequence":0,"source":"vwf/model/threejs/sphere.js","type":"subDriver/threejs"}},"extends":"sphere2.vwf","id":"sphere2-vwf-f13abda1-c443-2742-64bb-12cd16c3ba21","methods":{"doMove":{"body":"\n\n\n\n\n\n\n\n\n\n\n                      this.transformAPI.move(x, y, z);\n                          this.children_by_name.Ship.transformAPI.lookat([x*100,y*100,0],'','X','Z');\n","parameters":["x","y","z"]},"reset":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                        if(this.startingLocation)\n                                                            {\n                                                                this.transformAPI.setPosition(this.startingLocation);   \n                                                            }\n","parameters":[]},"tick":{"body":"\n\n\n\n\n\n\n\n\n\n\n                      if (this.Scene.children_by_name.GameCode.paused === true) return;\n                          //This function was created for you by the system. \n                          //The tick function is called 20 times every second. \n                          // Write code here to animate over time\n                          var toPlayer = Vec3.subtract(this.Scene.children_by_name.Player.transformAPI.getPosition(), this.transformAPI.getPosition(), []);\n                          var hits = this.Scene.traceAPI.rayCast(this.transformAPI.getPosition(), toPlayer,\n                          {\n                              ignore: [this.id]\n                          });\n                          if (!this.sign)\n                              this.sign = function(num)\n                              {\n                                  return num > 0 ? 1 : -1;\n                          }\n\n                          if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < .74)\n                          {\n\n                              if (hits.node == this.Scene.children_by_name.Player)\n                              {\n                                  this.Scene.children_by_name.Player.Die();\n                                  this.Scene.children_by_name.GameCode.postDeath(this.DisplayName);\n                              }\n                          }\n                          else if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < 4)\n                          {\n                              var max = Math.max(Math.abs(toPlayer[0]), Math.abs(toPlayer[1]), Math.abs(toPlayer[2]));\n                              if (max == Math.abs(toPlayer[0]))\n                                  if (this.tryMove([this.sign(toPlayer[0]) / 10, 0, 0]))\n                                      this.doMove(this.sign(toPlayer[0]) / 10, 0, 0);\n                                  else if (this.tryMove([0, this.sign(toPlayer[1]) / 10, 0]))\n                                  this.doMove(0, this.sign(toPlayer[1]) / 10, 0);\n                              if (max == Math.abs(toPlayer[1]))\n                                  if (this.tryMove([0, this.sign(toPlayer[1]) / 10, 0]))\n                                     this.doMove(0, this.sign(toPlayer[1]) / 10, 0);\n                                  else if (this.tryMove([this.sign(toPlayer[0]) / 10, 0, 0]))\n                                  this.doMove(this.sign(toPlayer[0]) / 10, 0, 0);\n\n                          }\n","parameters":[]},"tryMove":{"body":"\n\n\n      if (Vec3.magnitude(dir) == 0) return false;\n\n          var transform = this.translation.internal_val;\n          var newpos = Vec3.add(transform, dir, []);\n          var hits = _SceneManager.SphereCast(newpos, .3,\n          {\n              OneHitPerMesh: true,\n              ignore: [_dSky, _Editor.findviewnode(this.id),_Editor.findviewnode(\"sandboxGroup-vwf-ff144e59-a5d8-d4b0-94ed-641a4d60d49\")]\n          });\n\n          if (hits && hits.length)\n          {\n\n              return false;\n          }\n          return true;\n","parameters":["dir"]}},"name":"f13abda1-c443-2742-64bb-12cd16c3ba21","properties":{"DisplayName":"Enemy2","GameType":"Enemy","materialDef":{"alpha":1,"ambient":{"b":0.0745098039215686,"g":0.0745098039215686,"r":0.941176470588235},"color":{"a":1,"b":0.0745098039215686,"g":0.0745098039215686,"r":0.941176470588235},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"checker.jpg"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.42,"size":[0.5,1,1],"startingLocation":[2.14784720658628,-7.25541373502815,0.55],"tempid":"","texture":"checker.jpg","transform":[-0.999991834163666,-0.00401435419917107,0,0,0.00401435419917107,-0.999991834163666,0,0,0,0,1,0,-0.652153074741364,-7.55541324615479,0.550000011920929,1],"type":"Primitive","visible":false},"random":{"c":1,"s0":0.201469623949379,"s1":0.204106712946668,"s2":0.828892245423049},"sequence":0,"source":"vwf/model/threejs/sphere.js","type":"subDriver/threejs"},"ff144e59-a5d8-d4b0-94ed-641a4d60d49":{"children":{"7577be93-1b73-80b6-469d-70604810dd65":{"children":{"27878cb4-4739-f2d4-e22f-83c5b4d558":{"extends":"asset.vwf","id":"asset-vwf-27878cb4-4739-f2d4-e22f-83c5b4d558","name":"27878cb4-4739-f2d4-e22f-83c5b4d558","properties":{"DisplayName":"node-Curbs","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/curb.png"}],"morphTargets":false,"reflect":0,"shininess":0.6,"side":0,"skinning":false,"specularColor":{"b":0,"g":0,"r":0},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.393700987100601,0,0,0,0,8.74191999916825e-17,0.393700987100601,0,0,-0.393700987100601,8.74191999916825e-17,0,0,0,0,1],"type":"3DR Object"},"random":{"c":1,"s0":0.289539704332128,"s1":0.291034385561943,"s2":0.87710920907557},"sequence":0,"source":"node-Curbs","type":"link_existing/threejs"},"406373a-419-8bdf-d9a3-d2c2e630c2f3":{"extends":"asset.vwf","id":"asset-vwf-406373a-419-8bdf-d9a3-d2c2e630c2f3","name":"406373a-419-8bdf-d9a3-d2c2e630c2f3","properties":{"DisplayName":"node-ConcreteBackdrop","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/concrete_pad.png"}],"morphTargets":false,"reflect":0,"shininess":0,"side":0,"skinning":false,"specularColor":{"b":0,"g":0,"r":0},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.393700987100601,0,0,0,0,8.74191999916825e-17,0.393700987100601,0,0,-0.393700987100601,8.74191999916825e-17,0,0,0,0,1],"type":"3DR Object"},"random":{"c":1,"s0":0.393710754346102,"s1":0.0822572635952383,"s2":0.314054609509185},"sequence":0,"source":"node-ConcreteBackdrop","type":"link_existing/threejs"},"544ee70-69e7-7402-a049-1b01af125b59":{"extends":"asset.vwf","id":"asset-vwf-544ee70-69e7-7402-a049-1b01af125b59","name":"544ee70-69e7-7402-a049-1b01af125b59","properties":{"DisplayName":"node-Intersections","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/main_intersections.png"}],"morphTargets":false,"reflect":0,"shininess":0.2,"side":0,"skinning":false,"specularColor":{"b":0,"g":0,"r":0},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.393700987100601,0,0,0,0,8.74191999916825e-17,0.393700987100601,0,0,-0.393700987100601,8.74191999916825e-17,0,0,0,0,1],"type":"3DR Object"},"random":{"c":1,"s0":0.668747626710683,"s1":0.546453263843432,"s2":0.918419106630608},"sequence":0,"source":"node-Intersections","type":"link_existing/threejs"},"7c894861-767a-ce68-2e70-e1fdd8cfce71":{"extends":"asset.vwf","id":"asset-vwf-7c894861-767a-ce68-2e70-e1fdd8cfce71","name":"7c894861-767a-ce68-2e70-e1fdd8cfce71","properties":{"DisplayName":"node-Roads","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/main_road.png"}],"morphTargets":false,"reflect":0,"shininess":0.2,"side":0,"skinning":false,"specularColor":{"b":0.9,"g":0.9,"r":0.9},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.393700987100601,0,0,0,0,8.74191999916825e-17,0.393700987100601,0,0,-0.393700987100601,8.74191999916825e-17,0,0,0,0,1],"type":"3DR Object"},"random":{"c":1,"s0":0.188105322187766,"s1":0.0735020318534225,"s2":0.931469126837328},"sequence":0,"source":"node-Roads","type":"link_existing/threejs"},"8341f8fc-6014-3900-b3ca-356ef2cf7854":{"extends":"asset.vwf","id":"asset-vwf-8341f8fc-6014-3900-b3ca-356ef2cf7854","name":"8341f8fc-6014-3900-b3ca-356ef2cf7854","properties":{"DisplayName":"node-Curbs2","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/curb.png"}],"morphTargets":false,"reflect":0,"shininess":0.6,"side":0,"skinning":false,"specularColor":{"b":0,"g":0,"r":0},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.393700987100601,0,0,0,0,8.74191999916825e-17,0.393700987100601,0,0,-0.393700987100601,8.74191999916825e-17,0,0,0,0,1],"type":"3DR Object"},"random":{"c":1,"s0":0.671664703870192,"s1":0.906491779955104,"s2":0.765995352528989},"sequence":0,"source":"node-Curbs2","type":"link_existing/threejs"},"bc9cd1fd-f073-3b1f-42ca-65063e518f0":{"extends":"asset.vwf","id":"asset-vwf-bc9cd1fd-f073-3b1f-42ca-65063e518f0","name":"bc9cd1fd-f073-3b1f-42ca-65063e518f0","properties":{"DisplayName":"node-Start","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/start_end.png"}],"morphTargets":false,"reflect":0,"shininess":1.128772,"side":0,"skinning":false,"specularColor":{"b":0,"g":0,"r":0},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.393700987100601,0,0,0,0,8.74191999916825e-17,0.393700987100601,0,0,-0.393700987100601,8.74191999916825e-17,0,0,0,0,1],"type":"3DR Object"},"random":{"c":1,"s0":0.0898619326762855,"s1":0.483161891112104,"s2":0.7960892082192},"sequence":0,"source":"node-Start","type":"link_existing/threejs"},"cc447b53-f867-d269-1e0b-a9d6bc765210":{"extends":"asset.vwf","id":"asset-vwf-cc447b53-f867-d269-1e0b-a9d6bc765210","name":"cc447b53-f867-d269-1e0b-a9d6bc765210","properties":{"DisplayName":"node-Finish","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/start_end.png"}],"morphTargets":false,"reflect":0,"shininess":1.128772,"side":0,"skinning":false,"specularColor":{"b":0,"g":0,"r":0},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.393700987100601,0,0,0,0,8.74191999916825e-17,0.393700987100601,0,0,-0.393700987100601,8.74191999916825e-17,0,0.490556001663208,4.7846999168396,0,1],"type":"3DR Object"},"random":{"c":1,"s0":0.985537244006991,"s1":0.569249778985977,"s2":0.482421754160896},"sequence":0,"source":"node-Finish","type":"link_existing/threejs"}},"extends":"asset.vwf","id":"asset-vwf-7577be93-1b73-80b6-469d-70604810dd65","name":"7577be93-1b73-80b6-469d-70604810dd65","properties":{"owner":"Rob","transform":[1,0,0,0,0,1,0,0,0,0,1,0,0.00605440139770508,-0.0123300552368164,0.0400000214576721,1]},"random":{"c":1,"s0":0.651371901156381,"s1":0.0982542089186609,"s2":0.536566209048033},"sequence":0,"source":"./vwfdatamanager.svc/datafile/XAPIGame/roads.json","type":"subDriver/threejs/asset/vnd.osgjs+json+compressed"},"fa5c9e96-f6a4-1c5b-4040-20285912c6c9":{"extends":"asset.vwf","id":"asset-vwf-fa5c9e96-f6a4-1c5b-4040-20285912c6c9","name":"fa5c9e96-f6a4-1c5b-4040-20285912c6c9","properties":{"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/buildings_group1.png"}],"morphTargets":false,"reflect":0,"shininess":0.16,"side":0,"skinning":false,"specularColor":{"b":0.9,"g":0.9,"r":0.9},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.391000002622604,0,0,0,0,0.391000002622604,0,0,0,0,0.379000008106232,0,-0.00605440139770508,0.0123300552368164,0.0286956299096346,1]},"random":{"c":1,"s0":0.565891590667889,"s1":0.311066881520674,"s2":0.26518156984821},"sequence":0,"source":"./vwfdatamanager.svc/datafile/XAPIGame/MazeCityBuildings.json","type":"subDriver/threejs/asset/vnd.osgjs+json+compressed"}},"extends":"sandboxGroup.vwf","id":"sandboxGroup-vwf-ff144e59-a5d8-d4b0-94ed-641a4d60d49","name":"ff144e59-a5d8-d4b0-94ed-641a4d60d49","properties":{"open":false,"owner":"Rob","transform":[1.60000002384186,0,0,0,0,1.60000002384186,0,0,0,0,1.60000002384186,0,0.460059851408005,-1.16632974147797,0.00599971832707524,1],"type":"Group"},"random":{"c":1,"s0":0.130991763900965,"s1":0.53304577502422,"s2":0.142360993660986},"sequence":0}},"events":{"avatarCreated":{"body":"\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              window.setTimeout(function()\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  _dView.setCamera('SandboxCamera-vwf-58faf29-3658-392-e779-44d7f701f192');\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              }, 300);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                         ","parameters":["cid"," name"]},"clientConnected":{"body":"\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              _dView.setCamera('SandboxCamera-vwf-58faf29-3658-392-e779-44d7f701f192');\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              self2.playerName = name;\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              if (self2.playerName == 'anonymous')\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  alertify.prompt(\"Please tell me your name.\", function(ok, val)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      vwf_view.kernel.setProperty(self2.id, 'playerName', val);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      self2.postStart(val);\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  });\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              }\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              else\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  self2.postStart(self2.playerName);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              }\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                         ","parameters":["cid"," name"]},"clientDisconnected":{"body":"\n\tif(this.clients)\n\t{\n\t\tdelete this.clients.internal_val[id];\n\t\tthis.clients = this.clients.internal_val;\t\t\n\t}","parameters":["id","name"]},"disconnected":{"body":"\n    \n    alert('This client has been disconnected from server. The page must be reloaded.');\n    var user = _UserManager.GetCurrentUserID();\n    \n    try{vwf.deleteNode(user)} catch(e){};\n    document[document.PlayerNumber +'link'] = null;\n    document.PlayerNumber = null;\n    _UserManager.currentUsername = null;\n    window.onbeforeunload = null;\n    $(window).unbind();\n    window.location.reload();","parameters":[""]},"keyDown":{"body":" return self.keyDown(e,d","parameters":["e","d"]},"keyUp":{"body":" return self.keyUp(e,d","parameters":["e","d"]},"pointerClick":{"body":"return true","parameters":[""]},"pointerDown":{"body":"return true","parameters":[""]},"pointerMove":{"body":"return true","parameters":[""]},"pointerOut":{"body":"return true","parameters":[""]},"pointerOver":{"body":"return true","parameters":[""]},"pointerUp":{"body":"return true","parameters":[""]}},"extends":"http://vwf.example.com/navscene.vwf","id":"index-vwf","methods":{"AmLocal":{"body":"","parameters":[]},"CreatePlane":{"body":"\n    \n    var hw = width/2;\n    var hh = height/2;\n    \n    var planemesh = new MATH.Mesh();\n   \n    var planeobj = new MATH.Object();\n    planeobj.PickPriority = 0;\n    planeobj.setMesh(planemesh);\n    planemesh.setPositions([-hw,-hh,-.001, hw,-hh,-.001, hw,hh,-.001, -hw,hh,-.001]);\n    planemesh.setTangents([-hw,-hh,0, hw,-hh,0, hw,hh,0, -hw,hh,0]);\n    planemesh.setFaces([0,1,2,2,3,0]);\n    planemesh.setUV([0,0,250/4 ,0,250/4,250/4,0,250/4]);\n    findscene().addChild(planeobj);\n    planeobj.InvisibleToCPUPick = false;\n    return planeobj;\n","parameters":["width","height"]},"PM":{"body":"\n    if(window.PMReceived)\n    PMReceived(e);\n","parameters":["e"]},"broadcastCameraPosition":{"body":"\n    if(this.receivingCameraBroadcast)\n    {\n      \n        this.camera.transform = transform;\n    }\n","parameters":["transform"]},"cameraBroadcastEnd":{"body":"\n    if(this.client == this.moniker)\n    {\n        this.broadcastingCamera = false;\n        this.receivingCameraBroadcast = false;\n    }else\n    {\n        if(this.receivingCameraBroadcast)\n        {\n          alertify.alert((_UserManager.GetPlayernameForClientID(this.client) || 'The user') + \" has stopped sharing the camera view.\");\n           this.broadcastingCamera = false;\n          this.receivingCameraBroadcast = false;\n          this.cameramode = this.preCameraShareMode;\n        }\n       \n    }\n","parameters":[]},"cameraBroadcastStart":{"body":"\n    if(this.client == this.moniker)\n    {\n        \n        this.broadcastingCamera = true;\n        this.receivingCameraBroadcast = false;\n    }else\n    {\n        alertify.confirm(_UserManager.GetPlayernameForClientID(this.client) + \" would like to share the camera view with you. Accept?\",function(ok)\n        {\n            if(ok)\n            {\n            \n                this.broadcastingCamera = false;\n                this.receivingCameraBroadcast = true;\n                this.preCameraShareMode = this.cameramode;\n                this.cameramode = 'None';\n            \n            }\n        \n        }.bind(this));\n        \n    \n    }\n\n","parameters":[]},"deleteplayer":{"body":"","parameters":[]},"getBroadcasting":{"body":"\n    return this.broadcastingCamera;\n","parameters":[]},"getSkyMat":{"body":"\n\n    return this.skycube.material;\n\n","parameters":[]},"initialize":{"body":"\n\n   \n   this.setCameraMode('Orbit');\n   this.offset = [0,0,1];\n   this.center = [0,0,0];\n   this.flyspeed = 1;\n   this.activeCameraComp = false;\n   this.loaded = false;\n   this.zoom = 4;\n   this.x_rot = 0.15687500000000001;\n   this.y_rot = 0.5839999999999994;\n   //this.updateCamera();\n   this.players = [];\n   this.rel_x = 0;\n   this.rel_y = 0;\n   this.loaded= false;\n   this.leftdown= false;\n   this.middledown=false;\n   this.rightdown= false;\n   this.last_x = 0;\n   this.last_y = 0;\n   this.navmode = 'none';\n //  this.PickOptions = new MATH.CPUPickOptions();\n //  this.PickOptions.UserRenderBatches = true;\n  \n    $('#index-vwf').mousedown(function(e){this.localpointerDown(e);}.bind(this));\n    window.addEventListener(\"deviceorientation\", this.orientationEvent.bind(this), true);\n    \n    $('#index-vwf').mousewheel(function(e){e.deltaY *= -1; this.localpointerWheel(e);}.bind(this));\n    $('#index-vwf').mouseup(function(e){this.localpointerUp(e);}.bind(this));\n    $('#index-vwf').mouseleave(function(e)\n    {\n        if($(e.toElement).hasClass('glyph'))\n        {\n        \n        }\n        else\n        {\n        \n            this.localpointerUp(e);\n        }\n        \n    }.bind(this));\n    $('#index-vwf').mousemove(function(e){this.localpointerMove(e);}.bind(this));\n\n   this.updateCallbacks = [];\n   this.OwnedPrims = [];\n  \n   findcamera().fov = 70;\n   findcamera().updateProjectionMatrix();\n   var ground = new THREE.Mesh(new THREE.PlaneGeometry(256,256,10,10), new THREE.MeshPhongMaterial());\n   ground.receiveShadow = _SettingsManager.getKey('shadows');\n   ground.PickPriority = -1;\n   \n   \n   var grassTex = THREE.ImageUtils.loadTexture('textures/gridnew.png');\n   \n  \n   ground.material.map = grassTex;\n    grassTex.wrapS = THREE.RepeatWrapping;\n    grassTex.wrapT = THREE.RepeatWrapping;\n    grassTex.repeat.x = 64;\n    grassTex.repeat.y = 64;\n   grassTex.anisotropy  = _dRenderer.getMaxAnisotropy();\n   this.groundplane = ground;\n   \n   \n   findscene().add(ground);\n   \n   if(this.materialDef)\n   this.setTexture(this.materialDef);\n   var l = new THREE.DirectionalLight();\n   this.sun = l;\n   this.sun.name = 'Sun';\n   this.sun.castShadow = _SettingsManager.getKey('shadows');\n   this.sun.shadowCameraNear = 1;\n   this.sun.shadowCameraFar = 100;\n   //this.sun.shadowCameraVisible = true;\n   this.sun.shadowCameraBottom = -10;\n   this.sun.shadowCameraLeft = -10;\n   this.sun.shadowMapWidth = 1024;\n   this.sun.shadowMapHeight = 1024;\n   \n   this.sun.shadowCameraTop = 10;\n   this.sun.shadowCameraRight = 10;\n   findscene().add(l);\n   rebuildAllMaterials();\n   \n   this.sun.position.x = this.sunDirection[0];\n   this.sun.position.y = this.sunDirection[1];\n   this.sun.position.z = this.sunDirection[2];\n   this.sun.position.normalize();\n   this.sun.position.multiplyScalar(100);\n   this.sun.intensity = this.sunIntensity;\n   this.sun.shadowBias = -.005\n   window._dGround = this.groundplane;\n   this.groundplane.name = 'GroundPlane';\n   //this.groundplane.visible = false;\n   window._dSun = this.sun;\n   \n   this.sun.updateMatrixWorld(true);\n   this.CreateSky(vwf.getProperty(this.id,'skyTexture') || 'white');\n   /*findscene().setAmbientColor('rgb(200,200,200)');\n   \n   \n  \n   \n   \n   \n   findscene().setFogType(MATH.FOG_QUADRATIC);\n   findscene().setFogFar(360);\n   findscene().setFogNear(100);\n   findscene().setFogColor('#FFFFFF');\n   \n   */\n     if(this.id == 'Scene-vwf') return;\n      this.prerendercallback = this.prerender.bind(this);\n      this.glyphrendercallback = this.glyphRender.bind(this);\n      this.postprerendercallback = this.postprerender.bind(this);\n      _dView.bind('prerender',this.prerendercallback);\n      _dView.bind('postprerender',this.postprerendercallback);\n      _dView.bind('glyphRender',this.glyphrendercallback);\n      this.createNameTag();\n      this.updateCamera();\n","parameters":[]},"latencyTest":{"body":"\n    if(this.moniker == this.client)\n    {\n        var time = new Date(e.time);\n        var thistime = (new Date()) - time;\n        _Notifier.alert(\"The round trip time to the server was: \" + thistime +\"ms\");\n    }\n","parameters":["e"]},"newplayer":{"body":"\n    \n   \n    \n","parameters":["e"]},"playSound":{"body":"","parameters":[]},"receiveChat":{"body":"\n    if(window.ChatMessageReceived)\n      ChatMessageReceived(e);\n","parameters":["e"]},"setMusic":{"body":"","parameters":[]},"tick":{"body":"\n   \n    if(this.broadcastingCamera)\n    {\n        vwf_view.kernel.callMethod('index-vwf','broadcastCameraPosition',[this.camera.transform]);\n    }\n    if(this.receivingCameraBroadcast && this.cameramode != 'None')\n        this.receivingCameraBroadcast = false;\n    \n","parameters":[]}},"name":"","patches":"index.vwf","properties":{"DisplayName":null,"EditorData":{"fog":{"displayname":"Fog","type":"sectionTitle"},"fogColorR":{"displayname":"Fog Color","property":"fogColor","type":"color"},"fogDensity":{"displayname":"Fog Density","max":0.1,"min":0,"property":"fogDensity","step":0.001,"type":"slider"},"fogFar":{"displayname":"Fog Far","max":2000,"min":0,"property":"fogFar","step":1,"type":"slider"},"fogNear":{"displayname":"Fog Near","max":2000,"min":0,"property":"fogNear","step":1,"type":"slider"},"fogType":{"displayname":"Fog Type","labels":["None","Linear","Quad"],"property":"fogType","type":"choice","values":[null,"linear","exp"]},"fogvFAlloff":{"displayname":"Fog Falloff","max":10,"min":0.1,"property":"fogVFalloff","step":0.001,"type":"slider"},"fogvFAlloffStart":{"displayname":"Fog Falloff Start","max":100,"min":-100,"property":"fogVFalloffStart","step":0.1,"type":"slider"},"sky":{"displayname":"Sky","type":"sectionTitle"},"skyApexColor":{"displayname":"Sky Apex Color","property":"skyApexColor","type":"color"},"skyAtmosphereDensity":{"displayname":"Atmosphere Density","max":1,"min":0,"property":"skyAtmosphereDensity","step":0.01,"type":"slider"},"skyColorBlend":{"displayname":"Sky Color Blend","max":1,"min":0,"property":"skyColorBlend","step":0.01,"type":"slider"},"skyFogBlend":{"displayname":"Sky Fog Amount","max":1,"min":0,"property":"skyFogBlend","step":0.01,"type":"slider"},"skyHorizonColor":{"displayname":"Sky Horizon Color","property":"skyHorizonColor","type":"color"},"skyTexture":{"displayname":"skyTexture","labels":["CloudyNoon","Morning","Evening","Morning2","Storm","ThunderStorm","Night1","Night2","Bright","White","Black"],"property":"skyTexture","type":"choice","values":["cloudy_noon","early_morning","evening","morning","stormy","StormClouds","night1","night2","bright","white","black"]},"sun":{"displayname":"Sun","type":"sectionTitle"},"sunColor":{"displayname":"Sun Color","property":"sunColor","type":"color"},"sunIntensity":{"displayname":"Sun Intensity","max":5,"min":0,"property":"sunIntensity","step":0.1,"type":"slider"},"sunRot":{"displayname":"Sun Direction","property":"sunDirection","step":0.05,"type":"vector"},"sunambientColor":{"displayname":"ambient","property":"ambientColor","type":"color"}},"ambientColor":[0.35,0.35,0.35],"clients":{"vcmvqeABTkcFAzjYWm6j":{"cid":"vcmvqeABTkcFAzjYWm6j","name":"Rob"}},"fogColor":[1,1,1],"fogDensity":0.005,"fogFar":1000,"fogNear":100,"fogType":0,"fogVFalloff":1.3,"fogVFalloffStart":0,"navmode":"none","owner":"Rob","permission":{"Everyone":1},"placemarks":{"Origin":{"0":-6.93499994277954,"1":-367,"2":0},"startpoint":{"0":-4.45302486419678,"1":-1.26249170303345,"2":0.109999999403954}},"playBackup":{"children":{"./vwfdatamanager.svc/datafile/XAPIGame/city_col.dae1":{"extends":"asset.vwf","id":"asset-vwf-vwfdatamanager-svc-datafile-XAPIGame-city_col-dae1","name":"./vwfdatamanager.svc/datafile/XAPIGame/city_col.dae1","properties":{"owner":"Rob","transform":[24.7000026702881,0,0,0,0,-8.8588834046277e-9,24.7000026702881,0,0,-24.7000007629395,-8.8588834046277e-9,0,0.451000034809113,-1.11800026893616,-1.12199997901917,1],"visible":false},"random":{"c":1,"s0":0.189805781235918,"s1":0.983853878453374,"s2":0.648477415088564},"sequence":0,"source":"./vwfdatamanager.svc/datafile/XAPIGame/city_col.dae","type":"subDriver/threejs/asset/vnd.collada+xml"},"1c2fe29f-ff1a-1e09-278a-49aa1a7028fa":{"children":{"3bf88d08-b8c0-6812-a055-7039814d7877":{"extends":"uvmap.vwf","id":"uvmap-vwf-3bf88d08-b8c0-6812-a055-7039814d7877","name":"3bf88d08-b8c0-6812-a055-7039814d7877","properties":{"DisplayName":"uvmap3","NotProto":"NOT!","_length":2.19,"height":2.32,"mode":"plane","owner":"Rob","plane":"y","transform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"type":"modifier","uoffset":0.34,"voffset":-0.07},"random":{"c":1,"s0":0.0343576180748641,"s1":0.70666490867734,"s2":0.0313245826400816},"sequence":0,"source":"vwf/model/threejs/uvmap.js","type":"subDriver/threejs"},"e41967e5-205e-7296-ddc-644feecc2b43":{"extends":"SandboxParticleSystem.vwf","id":"SandboxParticleSystem-vwf-e41967e5-205e-7296-ddc-644feecc2b43","methods":{"makeRingSound":{"body":"\n\n\n\n\n\n\n\n                  this.audioAPI.stopSound(\"./vwfdatamanager.svc/datafile/XAPIGame/ring.mp3\");\n                        this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/ring.mp3\", false, 100);\n","parameters":[]},"reset":{"body":"\n\n\n\n\n\n            this.active = true;\n                this.visible = false;\n","parameters":[]},"tick":{"body":"\n\n\n      if (this.Scene.children_by_name.GameCode.paused === true) return;\n\n          var localPlayer = this.transformAPI.globalToLocal(this.Scene.children_by_name.Player.transformAPI.getPosition());\n\n          if (Vec3.magnitude(localPlayer) < .5)\n          {\n              if (this.visible == false)\n              {\n                  this.active = false;\n                  this.Scene.children_by_name.GameCode.postWaypoint(this.parent.DisplayName); this.makeRingSound();\n              }\n              this.visible = true;\n          }\n","parameters":[]}},"name":"e41967e5-205e-7296-ddc-644feecc2b43","properties":{"DisplayName":"ParticleSystem4","active":true,"additive":true,"alphaTest":0.255,"counter":298728,"depthTest":false,"endColor":[0,0,0,0.6],"endSize":0.46,"image":"/adl/sandbox/1OimhGKL2jk8Fdh4//vwfDataManager.svc/datafile/XAPIGame/spark.jpg","maxAcceleration":[0,0,-0.001],"maxLifeTime":40,"maxOrientation":13.4,"maxVelocity":[-0.033,-0.037,0.012],"minAcceleration":[0,0,-0.001],"minLifeTime":38,"minOrientation":-17.9,"minVelocity":[0.027,0.03,0.012],"owner":"vergenzs","solver":"AnalyticShader","startColor":[0.254901960784314,0.4,0.980392156862745,0.45],"startSize":0.16,"transform":[-4.17195842317142e-8,-0.99999988079071,7.91509259935423e-15,0,0.999919056892395,-4.1716212706433e-8,-0.0127407042309642,0,0.0127406781539321,-5.31554189553418e-10,0.99991899728775,0,0.00687354803085327,-0.0125490427017212,0.730000078678131,1],"type":"ParticleSystem","visible":false},"random":{"c":1,"s0":0.960840939776972,"s1":0.824023353634402,"s2":0.6333122481592},"sequence":0}},"extends":"cylinder2.vwf","id":"cylinder2-vwf-1c2fe29f-ff1a-1e09-278a-49aa1a7028fa","name":"1c2fe29f-ff1a-1e09-278a-49aa1a7028fa","properties":{"DisplayName":"WayPoint2","GameType":"WayPoint","height":0.13,"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"a":1,"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/teleport.png"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.48,"rsegs":16,"size":[1,0.5,0.5],"tempid":"","texture":"checker.jpg","transform":[1,0,0,0,0,1,0,0,0,0,1,0,5.15153312683105,1.60107529163361,0.150000005960464,1],"type":"Primitive"},"random":{"c":1,"s0":0.168332272209227,"s1":0.443781930720434,"s2":0.811153281480074},"sequence":0,"source":"vwf/model/threejs/cylinder.js","type":"subDriver/threejs"},"344d4344-6759-ea7a-cb0a-f62a24864569":{"extends":"box2.vwf","id":"box2-vwf-344d4344-6759-ea7a-cb0a-f62a24864569","methods":{"makeGateSound":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                            this.audioAPI.stopSound(\"./vwfdatamanager.svc/datafile/XAPIGame.boochch.mp3\");\n                                                                                                                                this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/boochch.mp3\", false, 100);\n","parameters":[]},"tick":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                              if (this.Scene.children_by_name.GameCode.paused === true) return;\n\n                                                                                                                  if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < 1.5)\n                                                                                                                  {\n                                                                                                                      this.counter += 1;\n                                                                                                                      this.translation[2] = .5 + (Math.sin(this.counter / 3) + 1) / 2;\n                                                                                                                      if (this.translation[2] > .5 && this.translation[2] < .505)\n                                                                                                                          this.makeGateSound();\n                                                                                                                      if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < .35)\n                                                                                                                      {\n                                                                                                                          this.Scene.children_by_name.Player.Die();\n                                                                                                                          this.Scene.children_by_name.GameCode.postDeath(this.DisplayName);\n                                                                                                                      }\n                                                                                                                  }\n","parameters":[]}},"name":"344d4344-6759-ea7a-cb0a-f62a24864569","properties":{"DisplayName":"Trapdoor4","GameType":"TrapDoor","_length":0.12,"counter":35178,"materialDef":{"alpha":1,"ambient":{"b":0.588235294117647,"g":0.588235294117647,"r":0.588235294117647},"color":{"a":1,"b":0.588235294117647,"g":0.588235294117647,"r":0.588235294117647},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"/adl/sandbox/DnNE31e3uvYptRYw//vwfDataManager.svc/texture?UID=\\wests_textures\\paneling.png"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","size":[1,1,1],"tempid":"","texture":"checker.jpg","transform":[1,0,0,0,0,1,0,0,0,0,1,0,0.0325749665498734,-0.357597589492798,0.5,1],"type":"Primitive","width":0.98},"random":{"c":1,"s0":0.692058750195429,"s1":0.130665325559676,"s2":0.0264346851035953},"sequence":0,"source":"vwf/model/threejs/box.js","type":"subDriver/threejs"},"365b266-41ce-11b9-1872-e623ef131b5d":{"children":{"c20a7e2c-38c6-9034-1f88-d2bd4d671fc9":{"extends":"uvmap.vwf","id":"uvmap-vwf-c20a7e2c-38c6-9034-1f88-d2bd4d671fc9","name":"c20a7e2c-38c6-9034-1f88-d2bd4d671fc9","properties":{"DisplayName":"uvmap1","NotProto":"NOT!","_length":2.78,"height":2.73,"mode":"plane","owner":"Rob","plane":"y","transform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"type":"modifier","uoffset":0.34,"voffset":-0.07},"random":{"c":1,"s0":0.0115805226378143,"s1":0.223965629935265,"s2":0.206677667563781},"sequence":0,"source":"vwf/model/threejs/uvmap.js","type":"subDriver/threejs"}},"extends":"cylinder2.vwf","id":"cylinder2-vwf-365b266-41ce-11b9-1872-e623ef131b5d","name":"365b266-41ce-11b9-1872-e623ef131b5d","properties":{"DisplayName":"cylinder3","height":0.26,"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"a":1,"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/teleport.png"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.59,"rsegs":16,"size":[1,0.5,0.5],"tempid":"","texture":"checker.jpg","transform":[1,0,0,0,0,1,0,0,0,0,1,0,0.868994414806366,2.87499785423279,-0.21900001168251,1],"type":"Primitive"},"random":{"c":1,"s0":0.307763082440943,"s1":0.157772459322587,"s2":0.224498455645517},"sequence":0,"source":"vwf/model/threejs/cylinder.js","type":"subDriver/threejs"},"378d46c3-f460-4c1a-4ffd-8f152042aee7":{"extends":"box2.vwf","id":"box2-vwf-378d46c3-f460-4c1a-4ffd-8f152042aee7","methods":{"makeGateSound":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                            this.audioAPI.stopSound(\"./vwfdatamanager.svc/datafile/XAPIGame.boochch.mp3\");\n                                                                                                                                this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/boochch.mp3\", false, 100);\n","parameters":[]},"tick":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                              if (this.Scene.children_by_name.GameCode.paused === true) return;\n\n                                                                                                                  if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < 1.5)\n                                                                                                                  {\n                                                                                                                      this.counter += 1;\n                                                                                                                      this.translation[2] = .5 + (Math.sin(this.counter / 3) + 1) / 2;\n                                                                                                                      if (this.translation[2] > .5 && this.translation[2] < .505)\n                                                                                                                          this.makeGateSound();\n                                                                                                                      if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < .35)\n                                                                                                                      {\n                                                                                                                          this.Scene.children_by_name.Player.Die();\n                                                                                                                          this.Scene.children_by_name.GameCode.postDeath(this.DisplayName);\n                                                                                                                      }\n                                                                                                                  }\n","parameters":[]}},"name":"378d46c3-f460-4c1a-4ffd-8f152042aee7","properties":{"DisplayName":"Trapdoor1","GameType":"TrapDoor","_length":0.12,"counter":35178,"materialDef":{"alpha":1,"ambient":{"b":0.588235294117647,"g":0.588235294117647,"r":0.588235294117647},"color":{"a":1,"b":0.588235294117647,"g":0.588235294117647,"r":0.588235294117647},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"/adl/sandbox/DnNE31e3uvYptRYw//vwfDataManager.svc/texture?UID=\\wests_textures\\paneling.png"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","size":[1,1,1],"tempid":"","texture":"checker.jpg","transform":[0.0126013960689306,-0.999920606613159,0,0,0.999920606613159,0.0126013960689306,4.51961298247872e-12,0,0,0,1,0,-4.72816896438599,-0.365325063467026,0.5,1],"type":"Primitive","width":0.98},"random":{"c":1,"s0":0.355643406044692,"s1":0.97703396435827,"s2":0.537659915629774},"sequence":0,"source":"vwf/model/threejs/box.js","type":"subDriver/threejs"},"390bb5de-8b05-429a-191d-a18fe72fceda":{"extends":"box2.vwf","id":"box2-vwf-390bb5de-8b05-429a-191d-a18fe72fceda","methods":{"makeGateSound":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                            this.audioAPI.stopSound(\"./vwfdatamanager.svc/datafile/XAPIGame.boochch.mp3\");\n                                                                                                                                this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/boochch.mp3\", false, 100);\n","parameters":[]},"tick":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                              if (this.Scene.children_by_name.GameCode.paused === true) return;\n\n                                                                                                                  if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < 1.5)\n                                                                                                                  {\n                                                                                                                      this.counter += 1;\n                                                                                                                      this.translation[2] = .5 + (Math.sin(this.counter / 3) + 1) / 2;\n                                                                                                                      if (this.translation[2] > .5 && this.translation[2] < .505)\n                                                                                                                          this.makeGateSound();\n                                                                                                                      if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < .35)\n                                                                                                                      {\n                                                                                                                          this.Scene.children_by_name.Player.Die();\n                                                                                                                          this.Scene.children_by_name.GameCode.postDeath(this.DisplayName);\n                                                                                                                      }\n                                                                                                                  }\n","parameters":[]}},"name":"390bb5de-8b05-429a-191d-a18fe72fceda","properties":{"DisplayName":"Trapdoor3","GameType":"TrapDoor","_length":0.12,"counter":35178,"materialDef":{"alpha":1,"ambient":{"b":0.588235294117647,"g":0.588235294117647,"r":0.588235294117647},"color":{"a":1,"b":0.588235294117647,"g":0.588235294117647,"r":0.588235294117647},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"/adl/sandbox/DnNE31e3uvYptRYw//vwfDataManager.svc/texture?UID=\\wests_textures\\paneling.png"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","size":[1,1,1],"tempid":"","texture":"checker.jpg","transform":[1,0,0,0,0,1,0,0,0,0,1,0,0.0748804062604904,-1.93065321445465,0.5,1],"type":"Primitive","width":0.98},"random":{"c":1,"s0":0.656382188433781,"s1":0.308635629247874,"s2":0.429304979974404},"sequence":0,"source":"vwf/model/threejs/box.js","type":"subDriver/threejs"},"3b2df2e9-b9c8-2082-930f-eabf145f5273":{"children":{"371ce16d-b4aa-d944-6123-bfd76c8c2a89":{"extends":"rotator.vwf","id":"rotator-vwf-371ce16d-b4aa-d944-6123-bfd76c8c2a89","name":"371ce16d-b4aa-d944-6123-bfd76c8c2a89","properties":{"Active":true,"Amount":4,"DisplayName":"rotator1","Local":true,"owner":"Rob","type":"behavior"},"random":{"c":1,"s0":0.697554648621008,"s1":0.740025692153722,"s2":0.641901551513001},"sequence":0}},"extends":"cone2.vwf","id":"cone2-vwf-3b2df2e9-b9c8-2082-930f-eabf145f5273","name":"3b2df2e9-b9c8-2082-930f-eabf145f5273","properties":{"DisplayName":"cone1","height":0.69,"hsegs":1,"materialDef":{"alpha":0.48,"ambient":{"b":0.0745098039215686,"g":0.0745098039215686,"r":0.968627450980392},"color":{"a":1,"b":0.0745098039215686,"g":0.0745098039215686,"r":0.968627450980392},"emit":{"b":0,"g":0,"r":0},"layers":[],"morphTargets":false,"reflect":5.2,"shadeless":false,"shadow":true,"shininess":10,"side":2,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":9.6,"type":"phong"},"owner":"Rob","radius":0.33,"rsegs":3,"size":[0.5,1,0.5],"tempid":"","testprop":"value","texture":"checker.jpg","transform":[0.740303933620453,0.564160227775574,-0.365588277578354,0,0.672113001346588,-0.632487773895264,0.384974122047424,0,-0.0140427984297276,-0.530722141265869,-0.847427666187286,0,-6.75800037384033,-0.968243896961212,1.36836218833923,1],"type":"Primitive"},"random":{"c":1,"s0":0.709777161711827,"s1":0.231308539630845,"s2":0.789308838779107},"sequence":0,"source":"vwf/model/threejs/cone.js","type":"subDriver/threejs"},"4c625e99-5c45-3385-821f-f51cc7e3f65a":{"children":{"4159012-95f5-ed00-f6cf-2f839a74bf33":{"extends":"uvmap.vwf","id":"uvmap-vwf-4159012-95f5-ed00-f6cf-2f839a74bf33","name":"4159012-95f5-ed00-f6cf-2f839a74bf33","properties":{"DisplayName":"uvmap3","NotProto":"NOT!","_length":2.19,"height":2.32,"mode":"plane","owner":"Rob","plane":"y","transform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"type":"modifier","uoffset":0.34,"voffset":-0.07},"random":{"c":1,"s0":0.0343576180748641,"s1":0.70666490867734,"s2":0.0313245826400816},"sequence":0,"source":"vwf/model/threejs/uvmap.js","type":"subDriver/threejs"},"85d5d65-3b96-3192-56ef-4761afeb025":{"extends":"SandboxParticleSystem.vwf","id":"SandboxParticleSystem-vwf-85d5d65-3b96-3192-56ef-4761afeb025","methods":{"makeRingSound":{"body":"\n\n\n\n\n\n\n\n                  this.audioAPI.stopSound(\"./vwfdatamanager.svc/datafile/XAPIGame/ring.mp3\");\n                        this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/ring.mp3\", false, 100);\n","parameters":[]},"reset":{"body":"\n\n\n\n\n\n            this.active = true;\n                this.visible = false;\n","parameters":[]},"tick":{"body":"\n\n\n      if (this.Scene.children_by_name.GameCode.paused === true) return;\n\n          var localPlayer = this.transformAPI.globalToLocal(this.Scene.children_by_name.Player.transformAPI.getPosition());\n\n          if (Vec3.magnitude(localPlayer) < .5)\n          {\n              if (this.visible == false)\n              {\n                  this.active = false;\n                  this.Scene.children_by_name.GameCode.postWaypoint(this.parent.DisplayName); this.makeRingSound();\n              }\n              this.visible = true;\n          }\n","parameters":[]}},"name":"85d5d65-3b96-3192-56ef-4761afeb025","properties":{"DisplayName":"ParticleSystem4","active":true,"additive":true,"alphaTest":0.255,"counter":298728,"depthTest":false,"endColor":[0,0,0,0.6],"endSize":0.46,"image":"/adl/sandbox/1OimhGKL2jk8Fdh4//vwfDataManager.svc/datafile/XAPIGame/spark.jpg","maxAcceleration":[0,0,-0.001],"maxLifeTime":40,"maxOrientation":13.4,"maxVelocity":[-0.033,-0.037,0.012],"minAcceleration":[0,0,-0.001],"minLifeTime":38,"minOrientation":-17.9,"minVelocity":[0.027,0.03,0.012],"owner":"vergenzs","solver":"AnalyticShader","startColor":[0.254901960784314,0.4,0.980392156862745,0.45],"startSize":0.16,"transform":[-4.17195842317142e-8,-0.99999988079071,7.91509259935423e-15,0,0.999919056892395,-4.1716212706433e-8,-0.0127407042309642,0,0.0127406781539321,-5.31554189553418e-10,0.99991899728775,0,0.00687354803085327,-0.0125490427017212,0.730000078678131,1],"type":"ParticleSystem","visible":false},"random":{"c":1,"s0":0.960840939776972,"s1":0.824023353634402,"s2":0.6333122481592},"sequence":0}},"extends":"cylinder2.vwf","id":"cylinder2-vwf-4c625e99-5c45-3385-821f-f51cc7e3f65a","name":"4c625e99-5c45-3385-821f-f51cc7e3f65a","properties":{"DisplayName":"WayPoint1","GameType":"WayPoint","height":0.13,"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"a":1,"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/teleport.png"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.48,"rsegs":16,"size":[1,0.5,0.5],"tempid":"","texture":"checker.jpg","transform":[1,0,0,0,0,1,0,0,0,0,1,0,-4.74891090393066,1.6833735704422,0.150000005960464,1],"type":"Primitive"},"random":{"c":1,"s0":0.168332272209227,"s1":0.443781930720434,"s2":0.811153281480074},"sequence":0,"source":"vwf/model/threejs/cylinder.js","type":"subDriver/threejs"},"528b1838-cc3c-d7c-b8ee-17f0d5806c2c":{"extends":"http://vwf.example.com/behavior.vwf","id":"http-vwf-example-com-behavior-vwf-528b1838-cc3c-d7c-b8ee-17f0d5806c2c","methods":{"initialize":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","parameters":[]},"postDeath":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                          if (!_DataManager.getInstanceData().publishSettings) return;\n                                                                                                                                                                                              var worldId = \"http://vwf.adlnet.gov/xapi/\" + /\\w{16}/.exec(_DataManager.getCurrentSession())[0];\n                                                                                                                                                                                              var trapId = worldId + '/' + trapName;\n                                                                                                                                                                                              var agentId = {\n                                                                                                                                                                                                  'homePage': 'http://vwf.adlnet.gov',\n                                                                                                                                                                                                  'name': this.playerName\n                                                                                                                                                                                              };\n                                                                                                                                                                                              var statement = new ADL.XAPIStatement(\n                                                                                                                                                                                                  new ADL.XAPIStatement.Agent(agentId, agentId.name),\n                                                                                                                                                                                                  new ADL.XAPIStatement.Verb('http://vwf.adlnet.gov/xapi/IFestGame2014/verbs/killed_by', 'killed by'),\n                                                                                                                                                                                                  new ADL.XAPIStatement.Activity(trapId, trapName));\n\n                                                                                                                                                                                              statement.addParentActivity(new ADL.XAPIStatement.Activity(worldId, _DataManager.getInstanceData().title || 'tempPublish'));\n                                                                                                                                                                                              statement.context.registration = this.registration;\n\n                                                                                                                                                                                              statement.context.extensions = {\n                                                                                                                                                                                                  \"http://vwf.adlnet.gov/xapi/IFestGame2014\":\n                                                                                                                                                                                                  {\n                                                                                                                                                                                                      'GameType': this.Scene.children_by_name[trapName].GameType,\n                                                                                                                                                                                                      'timeAlive': this.Scene.children_by_name.Player.timer\n                                                                                                                                                                                                  }\n                                                                                                                                                                                              };\n                                                                                                                                                                                              \n                                                                                                                                                                                              this.xAPI.sendStatement(null, statement);\n","parameters":["trapName"]},"postQuit":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                        if (!_DataManager.getInstanceData().publishSettings) return;\n                                                                                                                                                                                            var worldId = \"http://vwf.adlnet.gov/xapi/\" + /\\w{16}/.exec(_DataManager.getCurrentSession())[0];\n                                                                                                                                                                                            var statement = new ADL.XAPIStatement(\n                                                                                                                                                                                            {\n                                                                                                                                                                                                'homePage': 'http://vwf.adlnet.gov',\n                                                                                                                                                                                                'name': this.playerName\n                                                                                                                                                                                            },\n                                                                                                                                                                                                ADL.verbs.terminated,\n                                                                                                                                                                                                new ADL.XAPIStatement.Activity(worldId, _DataManager.getInstanceData().title || 'tempPublish')\n                                                                                                                                                                                            );\n                                                                                                                                                                                            statement.generateId();\n                                                                                                                                                                                            statement.context = {};\n                                                                                                                                                                                            statement.context.registration = this.registration;\n                                                                                                                                                                                            console.log(statement);\n                                                                                                                                                                                            this.xAPI.sendStatement(null, statement);\n","parameters":[]},"postSpawn":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                        if (!_DataManager.getInstanceData().publishSettings) return;\n                                                                                                                                                                                            var worldId = \"http://vwf.adlnet.gov/xapi/\" + /\\w{16}/.exec(_DataManager.getCurrentSession())[0];\n\n                                                                                                                                                                                            var agentId = {\n                                                                                                                                                                                                'homePage': 'http://vwf.adlnet.gov',\n                                                                                                                                                                                                'name': this.playerName\n                                                                                                                                                                                            };\n                                                                                                                                                                                            var statement = new ADL.XAPIStatement(\n                                                                                                                                                                                                new ADL.XAPIStatement.Agent(agentId, agentId.name),\n                                                                                                                                                                                                new ADL.XAPIStatement.Verb('http://vwf.adlnet.gov/xapi/IFestGame2014/verbs/spawned_in', 'spawned in'),\n                                                                                                                                                                                                new ADL.XAPIStatement.Activity(worldId, _DataManager.getInstanceData().title || 'tempPublish'));\n\n                                                                                                                                                                                            statement.context.registration = this.registration;\n\n                                                                                                                                                                                            console.log(statement);\n                                                                                                                                                                                            this.xAPI.sendStatement(null, statement);\n","parameters":["player"]},"postStart":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                        if (!_DataManager.getInstanceData().publishSettings) return;\n                                                                                                                                                                                            var worldId = \"http://vwf.adlnet.gov/xapi/\" + /\\w{16}/.exec(_DataManager.getCurrentSession())[0];\n                                                                                                                                                                                            var agentId = {\n                                                                                                                                                                                                'homePage': 'http://vwf.adlnet.gov',\n                                                                                                                                                                                                'name': player\n                                                                                                                                                                                            };\n\n                                                                                                                                                                                            var statement = new ADL.XAPIStatement(\n                                                                                                                                                                                                new ADL.XAPIStatement.Agent(agentId, agentId.name),\n                                                                                                                                                                                                ADL.verbs.attempted,\n                                                                                                                                                                                                new ADL.XAPIStatement.Activity(worldId, _DataManager.getInstanceData().title || 'tempPublish'));\n                                                                                                                                                                                            statement.object.definition.moreInfo = window.location.href;\n\n                                                                                                                                                                                            statement.generateRegistration();\n\n                                                                                                                                                                                            this.registration = statement.context.registration;\n\n                                                                                                                                                                                            console.log(statement);\n                                                                                                                                                                                            this.xAPI.sendStatement(null, statement);\n","parameters":["player"]},"postSuccess":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                        if (!_DataManager.getInstanceData().publishSettings) return;\n                                                                                                                                                                                            var worldId = \"http://vwf.adlnet.gov/xapi/\" + /\\w{16}/.exec(_DataManager.getCurrentSession())[0];\n                                                                                                                                                                                            var agentId = {\n                                                                                                                                                                                                'homePage': 'http://vwf.adlnet.gov',\n                                                                                                                                                                                                'name': this.playerName\n                                                                                                                                                                                            };\n\n                                                                                                                                                                                            var statement = new ADL.XAPIStatement(\n                                                                                                                                                                                                new ADL.XAPIStatement.Agent(agentId, agentId.name),\n                                                                                                                                                                                                ADL.verbs.completed,\n                                                                                                                                                                                                new ADL.XAPIStatement.Activity(worldId, _DataManager.getInstanceData().title || 'tempPublish'));\n\n                                                                                                                                                                                            statement.object.definition.moreInfo = window.location.href;\n\n                                                                                                                                                                                            statement.context = {\n                                                                                                                                                                                                'registration': this.registration,\n                                                                                                                                                                                                'extensions':\n                                                                                                                                                                                                {\n                                                                                                                                                                                                    \"http://vwf.adlnet.gov/xapi/IFestGame2014\":\n                                                                                                                                                                                                    {\n                                                                                                                                                                                                        'timeAlive': this.Scene.children_by_name.Player.timer\n                                                                                                                                                                                                    }\n                                                                                                                                                                                                }\n                                                                                                                                                                                            };\n                                                                                                                                                                                            \n                                                                                                                                                                                            this.xAPI.sendStatement(null, statement);\n","parameters":[]},"postWaypoint":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                        if (!_DataManager.getInstanceData().publishSettings) return;\n\n                                                                                                                                                                                            var worldId = \"http://vwf.adlnet.gov/xapi/\" + /\\w{16}/.exec(_DataManager.getCurrentSession())[0];\n                                                                                                                                                                                            var waypointId = worldId + '/' + waypointName;\n                                                                                                                                                                                            var agentId = {\n                                                                                                                                                                                                'homePage': 'http://vwf.adlnet.gov',\n                                                                                                                                                                                                'name': this.playerName\n                                                                                                                                                                                            };\n                                                                                                                                                                                            var statement = new ADL.XAPIStatement(\n                                                                                                                                                                                                new ADL.XAPIStatement.Agent(agentId, agentId.name),\n                                                                                                                                                                                                new ADL.XAPIStatement.Verb('http://vwf.adlnet.gov/xapi/IFestGame2014/verbs/reached', 'reached'),\n                                                                                                                                                                                                new ADL.XAPIStatement.Activity(waypointId, waypointName));\n                                                                                                                                                                                                \n                                                                                                                                                                                            statement.addParentActivity(new ADL.XAPIStatement.Activity(worldId, _DataManager.getInstanceData().title || 'tempPublish'));\n                                                                                                                                                                                            statement.context.registration = this.registration;\n                                                                                                                                                                                            statement.context.extensions = {\n                                                                                                                                                                                                \"http://vwf.adlnet.gov/xapi/IFestGame2014\":\n                                                                                                                                                                                                {\n                                                                                                                                                                                                    'timeAlive': this.Scene.children_by_name.Player.timer\n                                                                                                                                                                                                }\n                                                                                                                                                                                            };\n                                                                                                                                                                                            this.xAPI.sendStatement(null, statement);\n","parameters":["waypointName"]},"ready":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                    this.xAPI.configure(\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                        {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            endpoint: 'https://lrs.adlnet.gov/xapi/',\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            user: 'IFestGame',\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            password: 'UQw9Sw*FcZlM'\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                        });\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                        this.xAPI.testConfig();\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                        var id = this.id;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                        var self2 = this;\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                        _dView.setCamera('SandboxCamera-vwf-58faf29-3658-392-e779-44d7f701f192');\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                        this.Scene.bind('avatarCreated', function(cid, name)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                        {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            window.setTimeout(function()\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                _dView.setCamera('SandboxCamera-vwf-58faf29-3658-392-e779-44d7f701f192');\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }, 300);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                        });\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                        this.Scene.bind('clientConnected', function(cid, name)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                        {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            _dView.setCamera('SandboxCamera-vwf-58faf29-3658-392-e779-44d7f701f192');\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            self2.playerName = name;\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            if (self2.playerName == 'anonymous')\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                alertify.prompt(\"Please tell me your name.\", function(ok, val)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    vwf_view.kernel.setProperty(self2.id, 'playerName', val);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    self2.postStart(val);\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                });\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            else\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                self2.postStart(self2.playerName);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                        });\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                        var settings = _DataManager.getInstanceData();\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                        if (!settings.publishSettings)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                        {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            $(document.head).append('<script type=\"text/javascript\" src=\"./vwfdatamanager.svc/datafile/XAPIGame/gamegui.js\" ></script>')\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }\n","parameters":[]},"reset":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                          var myself = this;\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              function walk(node)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  if (!node || node == myself || node == myself.Scene.children_by_name.Player) return;\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  if (node.reset)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      node.reset();\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  var children = node.children;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  for (var i = 0; i < children.length; i++)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      if (children[i])\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          walk(children[i]);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  }\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              }\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              var children = this.parent.children;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              for (var i = 0; i < children.length; i++)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  walk(children[i]);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              }\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                              this.postSpawn();\n","parameters":[]}},"name":"528b1838-cc3c-d7c-b8ee-17f0d5806c2c","properties":{"DisplayName":"GameCode","NotProto":"","owner":"Rob","paused":false,"playerName":"Rob","registration":"b8cb7ddb-a081-baf8-ccb8-cdd9674db892","type":"behavior"},"random":{"c":1,"s0":0.61410125461407,"s1":0.146318237995729,"s2":0.355505408486351},"sequence":0},"57a66669-539-e627-73b-5a87c02bd688":{"children":{"c51f8e7f-6e15-b0b0-e161-7e041a5b5c9e":{"extends":"uvmap.vwf","id":"uvmap-vwf-c51f8e7f-6e15-b0b0-e161-7e041a5b5c9e","name":"c51f8e7f-6e15-b0b0-e161-7e041a5b5c9e","properties":{"DisplayName":"uvmap1","NotProto":"NOT!","_length":2.78,"height":2.73,"mode":"plane","owner":"Rob","plane":"y","transform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"type":"modifier","uoffset":0.34,"voffset":-0.07},"random":{"c":1,"s0":0.0115805226378143,"s1":0.223965629935265,"s2":0.206677667563781},"sequence":0,"source":"vwf/model/threejs/uvmap.js","type":"subDriver/threejs"},"fd05649d-f109-ef76-b8ea-396e783d8a20":{"extends":"hoverlabel.vwf","id":"hoverlabel-vwf-fd05649d-f109-ef76-b8ea-396e783d8a20","name":"fd05649d-f109-ef76-b8ea-396e783d8a20","properties":{"DisplayName":"hoverlabel1","color":[0.933333333333333,0,1],"offset3D":[0,0,0.9],"owner":"Rob","text":"Start!","textsize":12,"type":"behavior"},"random":{"c":1,"s0":0.0182904226239771,"s1":0.415411794790998,"s2":0.657714408589527},"sequence":0}},"extends":"cylinder2.vwf","id":"cylinder2-vwf-57a66669-539-e627-73b-5a87c02bd688","name":"57a66669-539-e627-73b-5a87c02bd688","properties":{"DisplayName":"cylinder1","height":0.26,"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"a":1,"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/teleport.png"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.59,"rsegs":16,"size":[1,0.5,0.5],"tempid":"","texture":"checker.jpg","transform":[1,0,0,0,0,1,0,0,0,0,1,0,-7.55100393295288,-0.891001880168915,-0.0930000022053719,1],"type":"Primitive"},"random":{"c":1,"s0":0.307763082440943,"s1":0.157772459322587,"s2":0.224498455645517},"sequence":0,"source":"vwf/model/threejs/cylinder.js","type":"subDriver/threejs"},"58faf29-3658-392-e779-44d7f701f192":{"extends":"SandboxCamera.vwf","id":"SandboxCamera-vwf-58faf29-3658-392-e779-44d7f701f192","name":"58faf29-3658-392-e779-44d7f701f192","properties":{"DisplayName":"OverheadCam","far":1000,"fov":74,"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":5.3,"scaley":6.1,"src":"/adl/sandbox/DnNE31e3uvYptRYw//vwfDataManager.svc/texture?UID=brick.jpg"}],"morphTargets":false,"reflect":0.1,"shininess":0.2,"side":0,"skinning":false,"specularColor":{"b":0.0666666666666667,"g":0.0666666666666667,"r":0.0666666666666667},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[1,0,0,0,0,-1.30786332874777e-7,-0.99999988079071,0,0,0.99999988079071,-1.30786332874777e-7,0,0.0114222439005971,-1.15595650672913,11.9199934005737,1]},"random":{"c":1,"s0":0.293749240227044,"s1":0.289425936760381,"s2":0.0649766458664089},"sequence":0,"source":"vwf/model/threejs/camera.js","type":"subDriver/threejs"},"64eecc-310e-7c6e-b55b-172c2e3d7693":{"children":{"bf979a46-13f1-9055-48c4-1682a98c1852":{"extends":"SandboxParticleSystem.vwf","id":"SandboxParticleSystem-vwf-bf979a46-13f1-9055-48c4-1682a98c1852","methods":{"makeFlameSound":{"body":"\n    this.audioAPI.stopSound(\"./vwfdatamanager.svc/datafile/XAPIGame/flame.mp3\");\n          this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/flame.mp3\", false, 100);\n","parameters":[]},"tick":{"body":"\n   if (this.Scene.children_by_name.GameCode.paused === true) return;\n\n       var localPlayer = this.transformAPI.globalToLocal(this.Scene.children_by_name.Player.transformAPI.getPosition());\n\n                                                                              if (Math.abs(localPlayer[0]) < 1.5 && Math.abs(localPlayer[1]) < 1.5 && localPlayer[2] > -1 && localPlayer[2] < 6)\n                                                                              {\n                                                                                  this.counter++;\n                                                                                  if (Math.sin(this.counter / 10) > 0)\n                                                                                  {\n                                                                                      if (this.visible == false)\n                                                                                          this.makeFlameSound();\n                                                                                      this.visible = true;\n                                                                                  }\n                                                                                  else\n                                                                                      this.visible = false;\n                                                                              }\n                                                                              else\n                                                                                  this.visible = false;\n\n                                                                              if (Math.abs(localPlayer[0]) < .4 && Math.abs(localPlayer[1]) < .4 && localPlayer[2] > -.2 && localPlayer[2] < 3.5 && this.visible === true)\n                                                                              {\n                                                                                  this.Scene.children_by_name.GameCode.postDeath(this.parent.DisplayName);\n                                                                                  this.Scene.children_by_name.Player.Die();\n                                                                         }\n","parameters":[]}},"name":"bf979a46-13f1-9055-48c4-1682a98c1852","properties":{"DisplayName":"ParticleSystem1","additive":true,"counter":293654,"depthTest":false,"endColor":[0,0,0,0.6],"endSize":0.46,"image":"/adl/sandbox/DnNE31e3uvYptRYw//vwfDataManager.svc/texture?UID=fire.png","maxAcceleration":[0,0,-0.001],"maxLifeTime":91,"maxOrientation":13.4,"maxVelocity":[-0.007,-0.007,0.084],"minAcceleration":[0,0,-0.001],"minLifeTime":48,"minOrientation":-17.9,"minVelocity":[0.004,0.004,0.064],"owner":"vergenzs","solver":"AnalyticShader","startSize":0.18,"transform":[1,0,0,0,0,1,0,0,0,0,1,0,0.0159216336905956,0.0170001182705164,-0.0970721542835236,1],"type":"ParticleSystem","visible":false},"random":{"c":1,"s0":0.757248948095366,"s1":0.142225413117558,"s2":0.262138801626861},"sequence":0}},"extends":"cone2.vwf","id":"cone2-vwf-64eecc-310e-7c6e-b55b-172c2e3d7693","name":"64eecc-310e-7c6e-b55b-172c2e3d7693","properties":{"DisplayName":"FlameThrower1","GameType":"FlameThrower","height":0.16,"materialDef":{"alpha":1,"ambient":{"b":0.0352941176470588,"g":0.0352941176470588,"r":0.580392156862745},"color":{"a":1,"b":0.0352941176470588,"g":0.0352941176470588,"r":0.580392156862745},"emit":{"b":0,"g":0,"r":1},"layers":[],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.1,"size":[0.5,1,0.5],"tempid":"","texture":"checker.jpg","transform":[1,0,0,0,0,0,1,0,0,-1,-3.58659435484299e-10,0,-1.21543562412262,0.295672595500946,0.5,1],"type":"Primitive"},"random":{"c":1,"s0":0.353226070059463,"s1":0.606439127353951,"s2":0.885167080210522},"sequence":0,"source":"vwf/model/threejs/cone.js","type":"subDriver/threejs"},"6c78a4ad-7ecb-85d5-ec0f-bfffba70e9f8":{"extends":"box2.vwf","id":"box2-vwf-6c78a4ad-7ecb-85d5-ec0f-bfffba70e9f8","methods":{"makeGateSound":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                            this.audioAPI.stopSound(\"./vwfdatamanager.svc/datafile/XAPIGame.boochch.mp3\");\n                                                                                                                                this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/boochch.mp3\", false, 100);\n","parameters":[]},"tick":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                              if (this.Scene.children_by_name.GameCode.paused === true) return;\n\n                                                                                                                  if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < 1.5)\n                                                                                                                  {\n                                                                                                                      this.counter += 1;\n                                                                                                                      this.translation[2] = .5 + (Math.sin(this.counter / 3) + 1) / 2;\n                                                                                                                      if (this.translation[2] > .5 && this.translation[2] < .505)\n                                                                                                                          this.makeGateSound();\n                                                                                                                      if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < .35)\n                                                                                                                      {\n                                                                                                                          this.Scene.children_by_name.Player.Die();\n                                                                                                                          this.Scene.children_by_name.GameCode.postDeath(this.DisplayName);\n                                                                                                                      }\n                                                                                                                  }\n","parameters":[]}},"name":"6c78a4ad-7ecb-85d5-ec0f-bfffba70e9f8","properties":{"DisplayName":"Trapdoor5","GameType":"TrapDoor","_length":0.12,"counter":35178,"materialDef":{"alpha":1,"ambient":{"b":0.588235294117647,"g":0.588235294117647,"r":0.588235294117647},"color":{"a":1,"b":0.588235294117647,"g":0.588235294117647,"r":0.588235294117647},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"/adl/sandbox/DnNE31e3uvYptRYw//vwfDataManager.svc/texture?UID=\\wests_textures\\paneling.png"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","size":[1,1,1],"tempid":"","texture":"checker.jpg","transform":[1,0,0,0,0,1,0,0,0,0,1,0,2.84588694572449,-4.33408451080322,0.5,1],"type":"Primitive","width":0.98},"random":{"c":1,"s0":0.827133798506111,"s1":0.32800598978065,"s2":0.900512624066323},"sequence":0,"source":"vwf/model/threejs/box.js","type":"subDriver/threejs"},"96f9477d-eb75-be43-ee09-e575a6b3ecd":{"children":{"94d998a3-3443-8cf2-9444-31103067f5b5":{"children":{"a528b048-f154-edfa-c503-bd7dae4bc40":{"extends":"asset.vwf","id":"asset-vwf-a528b048-f154-edfa-c503-bd7dae4bc40","name":"a528b048-f154-edfa-c503-bd7dae4bc40","properties":{"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/policecar.png"}],"morphTargets":false,"reflect":0,"shininess":1,"side":0,"skinning":false,"specularColor":{"b":1,"g":1,"r":1},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[6.73521308169889e-11,-0.399939090013504,0.00698096305131912,0,1.26354260387984e-10,0.00696351053193212,0.398939222097397,0,-0.400000005960464,-6.51311574118019e-11,1.2782709613024e-10,0,0,0,-0.334999978542328,1]},"random":{"c":1,"s0":0.953633794793859,"s1":0.951581143541262,"s2":0.0818706699647009},"sequence":0,"source":"./vwfdatamanager.svc/datafile/XAPIGame/PoliceCar.json","type":"subDriver/threejs/asset/vnd.osgjs+json+compressed"}},"extends":"sphere2.vwf","id":"sphere2-vwf-94d998a3-3443-8cf2-9444-31103067f5b5","name":"94d998a3-3443-8cf2-9444-31103067f5b5","properties":{"DisplayName":"Ship","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"a":1,"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"checker.jpg"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.23,"size":[0.5,1,1],"tempid":"","texture":"checker.jpg","transform":[-1,0,0,0,0,-1,0,0,0,0,1,0,0,0,0,1],"type":"Primitive","visible":false},"random":{"c":1,"s0":0.216963760089129,"s1":0.302025123033673,"s2":0.709411301417276},"sequence":0,"source":"vwf/model/threejs/sphere.js","type":"subDriver/threejs"}},"extends":"sphere2.vwf","id":"sphere2-vwf-96f9477d-eb75-be43-ee09-e575a6b3ecd","methods":{"doMove":{"body":"\n\n\n\n\n\n\n\n\n\n                    this.transformAPI.move(x, y, z);\n                        this.children_by_name.Ship.transformAPI.lookat([x*100,y*100,0],'','X','Z');\n","parameters":["x","y","z"]},"reset":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                      if(this.startingLocation)\n                                                          {\n                                                              this.transformAPI.setPosition(this.startingLocation);   \n                                                          }\n","parameters":[]},"tick":{"body":"\n\n\n\n\n\n\n\n\n\n                    if (this.Scene.children_by_name.GameCode.paused === true) return;\n                        //This function was created for you by the system. \n                        //The tick function is called 20 times every second. \n                        // Write code here to animate over time\n                        var toPlayer = Vec3.subtract(this.Scene.children_by_name.Player.transformAPI.getPosition(), this.transformAPI.getPosition(), []);\n                        var hits = this.Scene.traceAPI.rayCast(this.transformAPI.getPosition(), toPlayer,\n                        {\n                            ignore: [this.id]\n                        });\n                        if (!this.sign)\n                            this.sign = function(num)\n                            {\n                                return num > 0 ? 1 : -1;\n                        }\n\n                        if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < .74)\n                        {\n\n                            if (hits.node == this.Scene.children_by_name.Player)\n                            {\n                                this.Scene.children_by_name.Player.Die();\n                                this.Scene.children_by_name.GameCode.postDeath(this.DisplayName);\n                            }\n                        }\n                        else if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < 4)\n                        {\n                            var max = Math.max(Math.abs(toPlayer[0]), Math.abs(toPlayer[1]), Math.abs(toPlayer[2]));\n                            if (max == Math.abs(toPlayer[0]))\n                                if (this.tryMove([this.sign(toPlayer[0]) / 10, 0, 0]))\n                                    this.doMove(this.sign(toPlayer[0]) / 10, 0, 0);\n                                else if (this.tryMove([0, this.sign(toPlayer[1]) / 10, 0]))\n                                this.doMove(0, this.sign(toPlayer[1]) / 10, 0);\n                            if (max == Math.abs(toPlayer[1]))\n                                if (this.tryMove([0, this.sign(toPlayer[1]) / 10, 0]))\n                                   this.doMove(0, this.sign(toPlayer[1]) / 10, 0);\n                                else if (this.tryMove([this.sign(toPlayer[0]) / 10, 0, 0]))\n                                this.doMove(this.sign(toPlayer[0]) / 10, 0, 0);\n\n                        }\n","parameters":[]},"tryMove":{"body":"\n\n    if (Vec3.magnitude(dir) == 0) return false;\n\n        var transform = this.translation.internal_val;\n        var newpos = Vec3.add(transform, dir, []);\n        var hits = _SceneManager.SphereCast(newpos, .3,\n        {\n            OneHitPerMesh: true,\n            ignore: [_dSky, _Editor.findviewnode(this.id),_Editor.findviewnode(\"sandboxGroup-vwf-ff144e59-a5d8-d4b0-94ed-641a4d60d49\")]\n        });\n\n        if (hits && hits.length)\n        {\n\n            return false;\n        }\n        return true;\n","parameters":["dir"]}},"name":"96f9477d-eb75-be43-ee09-e575a6b3ecd","properties":{"DisplayName":"Enemy3","GameType":"Enemy","materialDef":{"alpha":1,"ambient":{"b":0.0745098039215686,"g":0.0745098039215686,"r":0.941176470588235},"color":{"a":1,"b":0.0745098039215686,"g":0.0745098039215686,"r":0.941176470588235},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"checker.jpg"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.42,"size":[0.5,1,1],"startingLocation":[-2.97893338765174,-0.0687791012158125,0.55],"tempid":"","texture":"checker.jpg","transform":[-0.999991834163666,-0.00401435419917107,0,0,0.00401435419917107,-0.999991834163666,0,0,0,0,1,0,-2.97893333435059,-0.0687791034579277,0.550000011920929,1],"type":"Primitive","visible":false},"random":{"c":1,"s0":0.201469623949379,"s1":0.204106712946668,"s2":0.828892245423049},"sequence":0,"source":"vwf/model/threejs/sphere.js","type":"subDriver/threejs"},"Rob":{"events":{"Message":{"body":"if(vwf.client() != vwf.moniker()) return; setupPmWindow(this.PlayerNumber)    ","parameters":[""]},"ShowProfile":{"body":"if(vwf.client() != vwf.moniker()) return; _UserManager.showProfile(_DataManager.GetProfileForUser(this.PlayerNumber))    ","parameters":[""]}},"extends":"character.vwf","id":"character-vwf-Rob","name":"Rob","properties":{"PlayerNumber":"Rob","activeCycle":[],"castShadows":true,"cycles":{"jump":{"current":0,"length":36,"loop":false,"speed":1.25,"start":70},"run":{"current":0,"length":36,"loop":true,"speed":1.25,"start":70},"runningjump":{"current":0,"length":48,"loop":false,"speed":1.25,"start":109},"stand":{"current":0,"length":0,"loop":true,"speed":1.25,"start":1},"strafeleft":{"current":0,"length":16,"loop":true,"speed":-1.5,"start":124},"straferight":{"current":0,"length":16,"loop":true,"speed":1.5,"start":108},"walk":{"current":0,"length":27,"loop":true,"speed":1,"start":6},"walkback":{"current":0,"length":30,"loop":true,"speed":-1.25,"start":0}},"isDynamic":true,"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"depthtest":true,"emit":{"b":0.254901960784314,"g":0.254901960784314,"r":0.270588235294118},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./avatars/VWS_B_Male3-2.jpg"}],"morphTargets":false,"reflect":0,"shininess":0,"side":0,"skinning":true,"specularColor":{"b":0.2,"g":0.2,"r":0.2},"specularLevel":1,"type":"phong"},"owner":"Rob","ownerClientID":"E_qbwJf98F7DCEg9Wm6h","profile":{"Avatar":"usmale.dae","Email":"robert.chadwick.ctr@adlnet.gov","Homepage":"","Location":"asdf","Name":"Rob Chadwick","Organization":"","Salt":"361c7d4f-a442-2df3-7ef8-1030ad9b4941","Skype":"","TempPassword":{"Password":"54f9870b52c211448fb751d21870cf2e197072a8f44dd5c05592781e949ee8c6","Time":"2014-02-07T00:30:49.974Z"},"Twitter":"","Username":"Rob","avatarModel":"./avatars/VWS_Business_Male3.DAE","avatarTexture":"./avatars/VWS_B_Male3-2.jpg","inventoryKey":"32hqb3rv"},"receiveShadows":true,"standing":0,"standingOnID":null,"standingOnOffset":null,"transform":[1,0,0,0,0,1,0,0,0,0,1,0,-6.93499994277954,-367,0,1]},"random":{"c":1,"s0":0.498628140660003,"s1":0.83200447075069,"s2":0.230337722692639},"sequence":0,"source":"./avatars/VWS_Business_Male3.DAE","type":"subDriver/threejs/asset/vnd.collada+xml"},"a431cffb-98e2-d59f-34df-1d0f3a6d6667":{"extends":"box2.vwf","id":"box2-vwf-a431cffb-98e2-d59f-34df-1d0f3a6d6667","methods":{"makeGateSound":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                            this.audioAPI.stopSound(\"./vwfdatamanager.svc/datafile/XAPIGame.boochch.mp3\");\n                                                                                                                                this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/boochch.mp3\", false, 100);\n","parameters":[]},"tick":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                              if (this.Scene.children_by_name.GameCode.paused === true) return;\n\n                                                                                                                  if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < 1.5)\n                                                                                                                  {\n                                                                                                                      this.counter += 1;\n                                                                                                                      this.translation[2] = .5 + (Math.sin(this.counter / 3) + 1) / 2;\n                                                                                                                      if (this.translation[2] > .5 && this.translation[2] < .505)\n                                                                                                                          this.makeGateSound();\n                                                                                                                      if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < .35)\n                                                                                                                      {\n                                                                                                                          this.Scene.children_by_name.Player.Die();\n                                                                                                                          this.Scene.children_by_name.GameCode.postDeath(this.DisplayName);\n                                                                                                                      }\n                                                                                                                  }\n","parameters":[]}},"name":"a431cffb-98e2-d59f-34df-1d0f3a6d6667","properties":{"DisplayName":"Trapdoor6","GameType":"TrapDoor","_length":0.12,"counter":35178,"materialDef":{"alpha":1,"ambient":{"b":0.588235294117647,"g":0.588235294117647,"r":0.588235294117647},"color":{"a":1,"b":0.588235294117647,"g":0.588235294117647,"r":0.588235294117647},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"/adl/sandbox/DnNE31e3uvYptRYw//vwfDataManager.svc/texture?UID=\\wests_textures\\paneling.png"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","size":[1,1,1],"tempid":"","texture":"checker.jpg","transform":[0,1,0,0,-1,0,0,0,0,0,1,0,-1.27102506160736,-6.35964107513428,0.5,1],"type":"Primitive","width":0.98},"random":{"c":1,"s0":0.546015350380912,"s1":0.336878753267229,"s2":0.108388144988567},"sequence":0,"source":"vwf/model/threejs/box.js","type":"subDriver/threejs"},"a6255330-383-c0d5-24af-a513db6d8d53":{"children":{"7091eed4-69b6-ca8d-f7e6-f09f8a5d7b54":{"extends":"rotator.vwf","id":"rotator-vwf-7091eed4-69b6-ca8d-f7e6-f09f8a5d7b54","name":"7091eed4-69b6-ca8d-f7e6-f09f8a5d7b54","properties":{"Active":true,"Axis":"Y","DisplayName":"rotator3","Local":true,"owner":"vergenzs","type":"behavior"},"random":{"c":1,"s0":0.510572395287454,"s1":0.997213826747611,"s2":0.242300516460091},"sequence":0},"cea11968-b205-ddfa-a35c-a7c0fd4c3c91":{"extends":"SandboxParticleSystem.vwf","id":"SandboxParticleSystem-vwf-cea11968-b205-ddfa-a35c-a7c0fd4c3c91","methods":{"makeFlameSound":{"body":"\n\n      this.audioAPI.stopSound(\"./vwfdatamanager.svc/datafile/XAPIGame/flame.mp3\");\n            this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/flame.mp3\", false, 100);\n","parameters":[]},"tick":{"body":"\n\n    if (this.Scene.children_by_name.GameCode.paused === true) return;\n\n        var localPlayer = this.transformAPI.globalToLocal(this.Scene.children_by_name.Player.transformAPI.getPosition());\n\n        if (Math.abs(localPlayer[0]) < .1 && Math.abs(localPlayer[1]) < .1 && localPlayer[2] > -.2 && localPlayer[2] < 3 && this.visible === true)\n        {\n            this.Scene.children_by_name.GameCode.postDeath(this.parent.DisplayName);\n            this.Scene.children_by_name.Player.Die();\n        }\n","parameters":[]}},"name":"cea11968-b205-ddfa-a35c-a7c0fd4c3c91","properties":{"DisplayName":"ParticleSystem1","additive":true,"alphaTest":0,"counter":294588,"depthTest":false,"emitterSize":[1,1,0],"emitterType":"sphere","endColor":[0.0588235294117647,0.0588235294117647,1,0.6],"endSize":0.19,"image":"/adl/sandbox/DnNE31e3uvYptRYw//vwfDataManager.svc/datafile/XAPIGame/spark.jpg","maxAcceleration":[0,0,0],"maxLifeTime":23,"maxOrientation":-30,"maxVelocity":[0,0,0.084],"minAcceleration":[0,0,0],"minLifeTime":23,"minOrientation":-30,"minVelocity":[0,0,0.064],"owner":"vergenzs","solver":"AnalyticShader","startColor":[0.490196078431373,0,0.949019607843137,1],"startSize":0.18,"textureTiles":1,"transform":[1,0,0,0,0,1,0,0,0,0,1,0,0.0159216336905956,0.0170001182705164,-0.0970721542835236,1],"type":"ParticleSystem","visible":true},"random":{"c":1,"s0":0.14793998748064,"s1":0.581802782602608,"s2":0.25210086372681},"sequence":0}},"extends":"cone2.vwf","id":"cone2-vwf-a6255330-383-c0d5-24af-a513db6d8d53","name":"a6255330-383-c0d5-24af-a513db6d8d53","properties":{"DisplayName":"Laser1","GameType":"Laser","height":0.53,"materialDef":{"alpha":1,"ambient":{"b":1,"g":0.0392156862745098,"r":0.345098039215686},"blendMode":1,"color":{"a":1,"b":1,"g":0.0392156862745098,"r":0.345098039215686},"emit":{"b":0.968627450980392,"g":0.0392156862745098,"r":0.176470588235294},"layers":[],"metal":false,"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.1,"size":[0.5,1,0.5],"tempid":"","texture":"checker.jpg","transform":[0,1,0,0,0,0,0.999373078346252,0,0.999629378318787,0,0,0,-8.700026512146,-5.62078142166138,0.5,1],"type":"Primitive"},"random":{"c":1,"s0":0.845104526961222,"s1":0.0813493386376649,"s2":0.370791564462706},"sequence":0,"source":"vwf/model/threejs/cone.js","type":"subDriver/threejs"},"c241ca4f-c718-5080-3803-24953f133566":{"children":{"3cf629-b599-3fb0-2452-92d47874f8e4":{"children":{"973c9f-7f6a-ad56-ab1c-c9f043a59cd3":{"extends":"asset.vwf","id":"asset-vwf-973c9f-7f6a-ad56-ab1c-c9f043a59cd3","name":"973c9f-7f6a-ad56-ab1c-c9f043a59cd3","properties":{"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/policecar.png"}],"morphTargets":false,"reflect":0,"shininess":1,"side":0,"skinning":false,"specularColor":{"b":1,"g":1,"r":1},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[6.73521308169889e-11,-0.399939090013504,0.00698096305131912,0,1.26354260387984e-10,0.00696351053193212,0.398939222097397,0,-0.400000005960464,-6.51311574118019e-11,1.2782709613024e-10,0,0,0,-0.334999978542328,1]},"random":{"c":1,"s0":0.953633794793859,"s1":0.951581143541262,"s2":0.0818706699647009},"sequence":0,"source":"./vwfdatamanager.svc/datafile/XAPIGame/PoliceCar.json","type":"subDriver/threejs/asset/vnd.osgjs+json+compressed"}},"extends":"sphere2.vwf","id":"sphere2-vwf-3cf629-b599-3fb0-2452-92d47874f8e4","name":"3cf629-b599-3fb0-2452-92d47874f8e4","properties":{"DisplayName":"Ship","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"a":1,"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"checker.jpg"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.23,"size":[0.5,1,1],"tempid":"","texture":"checker.jpg","transform":[-1,0,0,0,0,-1,0,0,0,0,1,0,0,0,0,1],"type":"Primitive","visible":false},"random":{"c":1,"s0":0.216963760089129,"s1":0.302025123033673,"s2":0.709411301417276},"sequence":0,"source":"vwf/model/threejs/sphere.js","type":"subDriver/threejs"}},"extends":"sphere2.vwf","id":"sphere2-vwf-c241ca4f-c718-5080-3803-24953f133566","methods":{"doMove":{"body":"\n\n\n\n\n\n\n\n\n\n                    this.transformAPI.move(x, y, z);\n                        this.children_by_name.Ship.transformAPI.lookat([x*100,y*100,0],'','X','Z');\n","parameters":["x","y","z"]},"reset":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                      if(this.startingLocation)\n                                                          {\n                                                              this.transformAPI.setPosition(this.startingLocation);   \n                                                          }\n","parameters":[]},"tick":{"body":"\n\n\n\n\n\n\n\n\n\n                    if (this.Scene.children_by_name.GameCode.paused === true) return;\n                        //This function was created for you by the system. \n                        //The tick function is called 20 times every second. \n                        // Write code here to animate over time\n                        var toPlayer = Vec3.subtract(this.Scene.children_by_name.Player.transformAPI.getPosition(), this.transformAPI.getPosition(), []);\n                        var hits = this.Scene.traceAPI.rayCast(this.transformAPI.getPosition(), toPlayer,\n                        {\n                            ignore: [this.id]\n                        });\n                        if (!this.sign)\n                            this.sign = function(num)\n                            {\n                                return num > 0 ? 1 : -1;\n                        }\n\n                        if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < .74)\n                        {\n\n                            if (hits.node == this.Scene.children_by_name.Player)\n                            {\n                                this.Scene.children_by_name.Player.Die();\n                                this.Scene.children_by_name.GameCode.postDeath(this.DisplayName);\n                            }\n                        }\n                        else if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < 4)\n                        {\n                            var max = Math.max(Math.abs(toPlayer[0]), Math.abs(toPlayer[1]), Math.abs(toPlayer[2]));\n                            if (max == Math.abs(toPlayer[0]))\n                                if (this.tryMove([this.sign(toPlayer[0]) / 10, 0, 0]))\n                                    this.doMove(this.sign(toPlayer[0]) / 10, 0, 0);\n                                else if (this.tryMove([0, this.sign(toPlayer[1]) / 10, 0]))\n                                this.doMove(0, this.sign(toPlayer[1]) / 10, 0);\n                            if (max == Math.abs(toPlayer[1]))\n                                if (this.tryMove([0, this.sign(toPlayer[1]) / 10, 0]))\n                                   this.doMove(0, this.sign(toPlayer[1]) / 10, 0);\n                                else if (this.tryMove([this.sign(toPlayer[0]) / 10, 0, 0]))\n                                this.doMove(this.sign(toPlayer[0]) / 10, 0, 0);\n\n                        }\n","parameters":[]},"tryMove":{"body":"\n\n    if (Vec3.magnitude(dir) == 0) return false;\n\n        var transform = this.translation.internal_val;\n        var newpos = Vec3.add(transform, dir, []);\n        var hits = _SceneManager.SphereCast(newpos, .3,\n        {\n            OneHitPerMesh: true,\n            ignore: [_dSky, _Editor.findviewnode(this.id),_Editor.findviewnode(\"sandboxGroup-vwf-ff144e59-a5d8-d4b0-94ed-641a4d60d49\")]\n        });\n\n        if (hits && hits.length)\n        {\n\n            return false;\n        }\n        return true;\n","parameters":["dir"]}},"name":"c241ca4f-c718-5080-3803-24953f133566","properties":{"DisplayName":"Enemy1","GameType":"Enemy","materialDef":{"alpha":1,"ambient":{"b":0.0745098039215686,"g":0.0745098039215686,"r":0.941176470588235},"color":{"a":1,"b":0.0745098039215686,"g":0.0745098039215686,"r":0.941176470588235},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"checker.jpg"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.42,"size":[0.5,1,1],"startingLocation":[-6.01717875956872,-9.00344265519803,0.55],"tempid":"","texture":"checker.jpg","transform":[-0.999991834163666,-0.00401435419917107,0,0,0.00401435419917107,-0.999991834163666,0,0,0,0,1,0,-6.01717853546143,-9.00344276428223,0.550000011920929,1],"type":"Primitive","visible":false},"random":{"c":1,"s0":0.201469623949379,"s1":0.204106712946668,"s2":0.828892245423049},"sequence":0,"source":"vwf/model/threejs/sphere.js","type":"subDriver/threejs"},"camera":{"extends":"http://vwf.example.com/camera.vwf","id":"http-vwf-example-com-camera-vwf-camera","name":"camera","random":{"c":1,"s0":0.409428848419338,"s1":0.0730220268014818,"s2":0.955700499005616},"sequence":0},"d7ab6422-9b04-f46f-9247-620e3217770e":{"children":{"15a0b433-725a-7c58-a53a-d3a52296efd9":{"children":{"3ee14198-1420-926a-e5c6-22d85be97c00":{"extends":"asset.vwf","id":"asset-vwf-3ee14198-1420-926a-e5c6-22d85be97c00","name":"3ee14198-1420-926a-e5c6-22d85be97c00","properties":{"DisplayName":"truck","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/paneltruck.png"}],"morphTargets":false,"reflect":0,"shininess":1,"side":0,"skinning":false,"specularColor":{"b":1,"g":1,"r":1},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.00516455061733723,0.39996662735939,0,0,2.01628069795845e-9,-2.60347403358008e-11,0.400000005960464,0,0.39996662735939,-0.00516455061733723,-2.0164496739028e-9,0,0,0,-0.176000073552132,1]},"random":{"c":1,"s0":0.601201624143869,"s1":0.0353553316090256,"s2":0.457793089793995},"sequence":0,"source":"./vwfdatamanager.svc/datafile/XAPIGame/GamePanelTruck.json","type":"subDriver/threejs/asset/vnd.osgjs+json+compressed"}},"extends":"box2.vwf","id":"box2-vwf-15a0b433-725a-7c58-a53a-d3a52296efd9","name":"15a0b433-725a-7c58-a53a-d3a52296efd9","properties":{"DisplayName":"Ship","_length":0,"height":0.06,"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"a":1,"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"checker.jpg"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","size":[1,1,1],"tempid":"","texture":"checker.jpg","transform":[0.0000100173429018469,-0.999999642372131,0.00103026407305151,0,1.00000011920929,0.0000100173483588151,0,0,-1.03205106682935e-8,0.00103026395663619,0.999999463558197,0,-0.00300443265587091,-0.077000118792057,-0.309000015258789,1],"type":"Primitive","visible":true,"width":0.1},"random":{"c":1,"s0":0.0230230980087072,"s1":0.0933316189330071,"s2":0.181355822365731},"sequence":0,"source":"vwf/model/threejs/box.js","type":"subDriver/threejs"},"1e8f40f1-7ad6-f731-62d0-65bccbc91286":{"extends":"SandboxCamera.vwf","id":"SandboxCamera-vwf-1e8f40f1-7ad6-f731-62d0-65bccbc91286","name":"1e8f40f1-7ad6-f731-62d0-65bccbc91286","properties":{"DisplayName":"ChaseCam","fov":74,"owner":"Rob","transform":[1,0,0,0,0,0.866025567054749,-0.500000059604645,0,0,0.500000059604645,0.866025567054749,0,-0.138764381408691,-1.15506315231323,1.22517144680023,1]},"random":{"c":1,"s0":0.66005057701841,"s1":0.261992189334705,"s2":0.890604599611834},"sequence":0,"source":"vwf/model/threejs/camera.js","type":"subDriver/threejs"},"24623952-8037-e5d2-7651-8bc5b9a26b5a":{"extends":"SandboxCamera.vwf","id":"SandboxCamera-vwf-24623952-8037-e5d2-7651-8bc5b9a26b5a","name":"24623952-8037-e5d2-7651-8bc5b9a26b5a","properties":{"DisplayName":"TopCam","far":1000,"fov":81,"owner":"Rob","transform":[1,0,0,0,0,0.147118866443634,-0.989118695259094,0,0,0.989118695259094,0.147118866443634,0,-0.00588685320690274,-0.589396893978119,2.67401576042175,1]},"random":{"c":1,"s0":0.334513067733496,"s1":0.52267289115116,"s2":0.855998533079401},"sequence":0,"source":"vwf/model/threejs/camera.js","type":"subDriver/threejs"},"6b6e6aa3-bab7-9e12-16e1-3e54f035c875":{"extends":"SandboxParticleSystem.vwf","id":"SandboxParticleSystem-vwf-6b6e6aa3-bab7-9e12-16e1-3e54f035c875","methods":{"hide":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    this.visible = false;\n","parameters":[]}},"name":"6b6e6aa3-bab7-9e12-16e1-3e54f035c875","properties":{"DisplayName":"ParticleSystem1","additive":true,"damping":0.71,"depthTest":false,"endColor":[0,0,0,0.19],"endSize":0.37,"gravity":0.01,"image":"/adl/sandbox/p7jjNfdWCRtxqLAE//vwfDataManager.svc/texture?UID=fire.jpg","mamSpin":3.3,"maxAcceleration":[0,0,0],"maxLifeTime":33,"maxOrientation":15.7,"maxRate":10000000.001,"maxVelocity":[-1,-1,-0.00249999999999817],"minAcceleration":[0,0,0],"minLifeTime":33,"minOrientation":-22.5,"minSpin":-9.3,"minVelocity":[1,1,0.1],"owner":"Rob","solver":"Analytic","startSize":0.86,"transform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"type":"ParticleSystem","velocityMode":"spherical","visible":false},"random":{"c":1,"s0":0.750982497818768,"s1":0.964711369713768,"s2":0.593375997850671},"sequence":0}},"extends":"sphere2.vwf","id":"sphere2-vwf-d7ab6422-9b04-f46f-9247-620e3217770e","methods":{"Die":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                            this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/explode.mp3\", false, 100);\n\n                                                                                                                                                                                this.Scene.children_by_name.GameCode.paused = true;\n                                                                                                                                                                                this.children_by_name.ParticleSystem1.visible = true;\n                                                                                                                                                                                this.children_by_name.ParticleSystem1.future(.5).hide();\n                                                                                                                                                                                this.children_by_name.ParticleSystem1.maxVelocity[2] += .0001;\n                                                                                                                                                                               \n                                                                                                                                                                                this.children_by_name.Ship.visible = false;\n                                                                                                                                                                                this.future(2).reset();\n                                                                                                                                                                                alertify.error('You died!', function() {\n\n                                                                                                                                                                                }.bind(this));\n","parameters":[]},"ready":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                  this.Scene.unbind('keyDown', this.keydownfunc);\n                                                      this.Scene.unbind('keyUp', this.keyupfunc);\n\n                                                      var self = this;\n                                                      this.keydownfunc = function(keyData)\n                                                      {\n\n                                                          self.lastKeyDown = keyData.key.char;\n                                                          if (keyData.key.char == 'W')\n                                                              self.movement = Vec3.add(self.movement.internal_val, [0, .3, 0], []);\n                                                          if (keyData.key.char == 'S')\n                                                              self.movement = Vec3.add(self.movement.internal_val, [0, -0.3, 0], []);\n                                                          if (keyData.key.char == 'A')\n                                                              self.movement = Vec3.add(self.movement.internal_val, [-.3, 0, 0], []);\n                                                          if (keyData.key.char == 'D')\n                                                              self.movement = Vec3.add(self.movement.internal_val, [.3, 0, 0], []);\n\n                                                          console.log(self.movement.internal_val);\n                                                      };\n\n                                                      this.keyupfunc = function(keyData)\n                                                      {\n                                                          //if (keyData.key && keyData.key.char == self.lastKeyDown)\n                                                          //    self.movement = [0, 0, 0];\n                                                          if (keyData.key.char == 'W')\n                                                              self.movement = Vec3.add(self.movement.internal_val, [0, -.3, 0], []);\n                                                          if (keyData.key.char == 'S')\n                                                              self.movement = Vec3.add(self.movement.internal_val, [0, .3, 0], []);\n                                                          if (keyData.key.char == 'A')\n                                                              self.movement = Vec3.add(self.movement.internal_val, [.3, 0, 0], []);\n                                                          if (keyData.key.char == 'D')\n                                                              self.movement = Vec3.add(self.movement.internal_val, [-.3, 0, 0], []);\n                                                      };\n\n                                                      this.Scene.bind('keyDown', this.keydownfunc);\n                                                      this.Scene.bind('keyUp', this.keyupfunc);\n                                                      self.movement = [0, 0, 0];\n                                                      //This function was created for you by the system. \n                                                      //The scene is now completely loaded. This will fire on each client when the client joins, so it`s not a great place to create objects\n","parameters":[]},"reset":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                  this.Scene.children_by_name.GameCode.paused = false;\n                                                      var origin = [-7.31, -1.263, .1];\n                                                      this.transformAPI.setPosition(origin[0], origin[1], origin[2] + .5);\n                                                      this.children_by_name.ParticleSystem1.visible = false;\n\n                                                      this.timer = 0;\n                                                      this.children_by_name.Ship.visible = true;\n                                                      this.Scene.children_by_name.GameCode.reset();\n","parameters":[]},"tick":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                      if (this.Scene.children_by_name.GameCode.paused === true) return;\n                                                                                                          //This function was created for you by the system. \n                                                                                                          //The tick function is called 20 times every second. \n                                                                                                          // Write code here to animate over time\n                                                                                                         \n                                                                                                          var hits = this.tryMove(this.movement);\n\n                                                                                                          if (Vec3.magnitude(this.movement.internal_val) > .0001)\n                                                                                                              this.children_by_name.Ship.transformAPI.lookat(Vec3.scale(\n                                                                                                              [this.movement[0], this.movement[1], 0], 1000, []), '', 'X', 'Z');\n\n                                                                                                          var offset = Vec3.clone(this.movement.internal_val);\n                                                                                                          var count = 0;\n                                                                                                          while (hits && Vec3.magnitude(offset) > .001 && count < 10)\n                                                                                                          {\n                                                                                                              count++;\n                                                                                                              offset = Vec3.scale(offset, .5, []);\n                                                                                                              hits = this.tryMove(offset);\n                                                                                                          }\n                                                                                                          if (!hits)\n                                                                                                              this.transformAPI.move(offset[0], offset[1], offset[2]);\n                                                                                                          else\n                                                                                                          {\n\n                                                                                                          }\n                                                                                                          this.timer += 1.0 / 30.0;\n","parameters":[]},"tryMove":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n                            if (Vec3.magnitude(dir) == 0) return false;\n\n                                var transform = this.translation.internal_val;\n                                var newpos = Vec3.add(transform, dir, []);\n                                var hits = _SceneManager.SphereCast(newpos, .27,\n                                {\n                                    OneHitPerMesh: false,\n                                    ignore: [_dSky, _Editor.findviewnode(this.id),_Editor.findviewnode(\"sandboxGroup-vwf-ff144e59-a5d8-d4b0-94ed-641a4d60d49\")]\n                                });\n\n                                if (hits && hits.length)\n                                {\n                                    return hits;\n                                }\n                                return false;\n","parameters":["dir"]}},"name":"d7ab6422-9b04-f46f-9247-620e3217770e","properties":{"DisplayName":"Player","materialDef":{"alpha":1,"ambient":{"b":1,"g":0,"r":0.0823529411764706},"color":{"a":1,"b":1,"g":0,"r":0.0823529411764706},"emit":{"b":0,"g":0,"r":0},"layers":[],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"movement":[0,0,0],"owner":"Rob","radius":0.3,"size":[0.5,1,1],"tempid":"","texture":"checker.jpg","time":0,"timer":60.7666666666658,"transform":[1,0,0,0,0,1,0,0,0,0,1,0,-7.30999994277954,-1.26300001144409,0.600000023841858,1],"type":"Primitive","visible":false},"random":{"c":1,"s0":0.489484123885632,"s1":0.787186275236309,"s2":0.766554398229346},"sequence":0,"source":"vwf/model/threejs/sphere.js","type":"subDriver/threejs"},"df9935e2-56fa-59c0-5a00-3306185e5bd8":{"children":{"6d482e8-f3cf-eeee-ce28-77c685817e46":{"children":{"d7355484-de05-9a75-373c-bccd741374d7":{"extends":"rotator.vwf","id":"rotator-vwf-d7355484-de05-9a75-373c-bccd741374d7","name":"d7355484-de05-9a75-373c-bccd741374d7","properties":{"Active":true,"DisplayName":"rotator1","Local":true,"owner":"Rob","type":"behavior"},"random":{"c":1,"s0":0.374866498634219,"s1":0.831964534241706,"s2":0.533414667937905},"sequence":0}},"extends":"cone2.vwf","id":"cone2-vwf-6d482e8-f3cf-eeee-ce28-77c685817e46","name":"6d482e8-f3cf-eeee-ce28-77c685817e46","properties":{"DisplayName":"cone1","height":0.69,"materialDef":{"alpha":0.39,"ambient":{"b":1,"g":0,"r":0.0823529411764706},"color":{"a":1,"b":1,"g":0,"r":0.0823529411764706},"emit":{"b":0,"g":0,"r":0},"layers":[],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":10,"side":1,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":10,"type":"phong"},"owner":"Rob","radius":0.33,"rsegs":3,"size":[0.5,1,0.5],"tempid":"","texture":"checker.jpg","transform":[0.401255130767822,-0.779136061668396,0.481626451015472,0,-0.91588306427002,-0.333614081144333,0.223342731595039,0,-0.0133369704708457,-0.530719518661499,-0.847441852092743,0,-2.98023228317845e-9,0.0317564494907856,1.36736214160919,1],"type":"Primitive"},"random":{"c":1,"s0":0.673546148231253,"s1":0.329978154040873,"s2":0.257451710291207},"sequence":0,"source":"vwf/model/threejs/cone.js","type":"subDriver/threejs"},"f280a341-263e-dd03-9dcc-9beb6d0a4243":{"extends":"hoverlabel.vwf","id":"hoverlabel-vwf-f280a341-263e-dd03-9dcc-9beb6d0a4243","name":"f280a341-263e-dd03-9dcc-9beb6d0a4243","properties":{"DisplayName":"hoverlabel1","color":[1,0,0.635294117647059],"offset3D":[0,0,0.9],"owner":"Rob","text":"Goal!","textsize":16,"type":"behavior"},"random":{"c":1,"s0":0.235764436423779,"s1":0.838487991364673,"s2":0.67600059369579},"sequence":0}},"extends":"cylinder2.vwf","id":"cylinder2-vwf-df9935e2-56fa-59c0-5a00-3306185e5bd8","methods":{"playWinSound":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          this.audioAPI.stopSound(\"./vwfdatamanager.svc/datafile/XAPIGame/win.mp3\");\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/win.mp3\", false, 100);\n","parameters":[]},"tick":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                      if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < 1.8)\n                                          {\n                                              // alertify.alert(\"You Win!\");\n                                              this.Scene.children_by_name.GameCode.postSuccess();\n                                              this.Scene.children_by_name.Player.reset();\n                                              this.playWinSound();\n\n                                          }\n","parameters":[]}},"name":"df9935e2-56fa-59c0-5a00-3306185e5bd8","properties":{"DisplayName":"cylinder1","height":0.26,"materialDef":{"alpha":1,"ambient":{"b":0.0901960784313725,"g":0.670588235294118,"r":0},"color":{"a":1,"b":0.0901960784313725,"g":0.670588235294118,"r":0},"emit":{"b":0,"g":0,"r":0},"layers":[],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.46,"rsegs":8,"size":[1,0.5,0.5],"tempid":"","texture":"checker.jpg","transform":[1,0,0,0,0,1,0,0,0,0,1,0,1.17999863624573,6.44899749755859,-0.146000027656555,1],"type":"Primitive"},"random":{"c":1,"s0":0.723132537910715,"s1":0.637780156685039,"s2":0.0355265494436026},"sequence":0,"source":"vwf/model/threejs/cylinder.js","type":"subDriver/threejs"},"e4593d8a-d6f5-76fd-7ccc-fe791da4fe18":{"extends":"http://vwf.example.com/label.vwf","id":"http-vwf-example-com-label-vwf-e4593d8a-d6f5-76fd-7ccc-fe791da4fe18","methods":{"tick":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                      //This function was created for you by the system. \n                                                                                                          //The tick function is called 20 times every second. \n                                                                                                          // Write code here to animate over time\n                                                                                                          this.text = \"TIME: \" +this.Scene.children_by_name.Player.timer.toFixed(2);\n","parameters":[]}},"name":"e4593d8a-d6f5-76fd-7ccc-fe791da4fe18","properties":{"DisplayName":"Label1","font_color":[0.749019607843137,0.568627450980392,0.929411764705882],"font_size":60,"height":76,"left":0,"owner":"Rob","text":"TIME: 00.00","text_align":"center","top":0,"transform":[1,0,0,0,0,1,0,0,0,0,1,0,626,65,0,1],"width":417},"random":{"c":1,"s0":0.0831439236644655,"s1":0.970436420757324,"s2":0.431639270158485},"sequence":0},"e618642-3104-d3f3-c1bd-eb5fb9af73":{"extends":"box2.vwf","id":"box2-vwf-e618642-3104-d3f3-c1bd-eb5fb9af73","methods":{"makeGateSound":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                            this.audioAPI.stopSound(\"./vwfdatamanager.svc/datafile/XAPIGame.boochch.mp3\");\n                                                                                                                                this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/boochch.mp3\", false, 100);\n","parameters":[]},"tick":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                              if (this.Scene.children_by_name.GameCode.paused === true) return;\n\n                                                                                                                  if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < 1.5)\n                                                                                                                  {\n                                                                                                                      this.counter += 1;\n                                                                                                                      this.translation[2] = .5 + (Math.sin(this.counter / 3) + 1) / 2;\n                                                                                                                      if (this.translation[2] > .5 && this.translation[2] < .505)\n                                                                                                                          this.makeGateSound();\n                                                                                                                      if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < .35)\n                                                                                                                      {\n                                                                                                                          this.Scene.children_by_name.Player.Die();\n                                                                                                                          this.Scene.children_by_name.GameCode.postDeath(this.DisplayName);\n                                                                                                                      }\n                                                                                                                  }\n","parameters":[]}},"name":"e618642-3104-d3f3-c1bd-eb5fb9af73","properties":{"DisplayName":"Trapdoor2","GameType":"TrapDoor","_length":0.12,"counter":35178,"materialDef":{"alpha":1,"ambient":{"b":0.588235294117647,"g":0.588235294117647,"r":0.588235294117647},"color":{"a":1,"b":0.588235294117647,"g":0.588235294117647,"r":0.588235294117647},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"/adl/sandbox/DnNE31e3uvYptRYw//vwfDataManager.svc/texture?UID=\\wests_textures\\paneling.png"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","size":[1,1,1],"tempid":"","texture":"checker.jpg","transform":[0,-1,0,0,1,0,0,0,0,0,1,0,-2.97893333435059,-1.77871131896973,0.5,1],"type":"Primitive","width":0.98},"random":{"c":1,"s0":0.852317988174036,"s1":0.0502081117592752,"s2":0.154817074770108},"sequence":0,"source":"vwf/model/threejs/box.js","type":"subDriver/threejs"},"f13abda1-c443-2742-64bb-12cd16c3ba21":{"children":{"19d8e8fd-7a11-3867-1210-57ca4e93a32d":{"children":{"b3d9881e-1783-6397-a3c5-cc69c072c230":{"extends":"asset.vwf","id":"asset-vwf-b3d9881e-1783-6397-a3c5-cc69c072c230","name":"b3d9881e-1783-6397-a3c5-cc69c072c230","properties":{"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/policecar.png"}],"morphTargets":false,"reflect":0,"shininess":1,"side":0,"skinning":false,"specularColor":{"b":1,"g":1,"r":1},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[6.73521308169889e-11,-0.399939090013504,0.00698096305131912,0,1.26354260387984e-10,0.00696351053193212,0.398939222097397,0,-0.400000005960464,-6.51311574118019e-11,1.2782709613024e-10,0,0,0,-0.334999978542328,1]},"random":{"c":1,"s0":0.953633794793859,"s1":0.951581143541262,"s2":0.0818706699647009},"sequence":0,"source":"./vwfdatamanager.svc/datafile/XAPIGame/PoliceCar.json","type":"subDriver/threejs/asset/vnd.osgjs+json+compressed"}},"extends":"sphere2.vwf","id":"sphere2-vwf-19d8e8fd-7a11-3867-1210-57ca4e93a32d","name":"19d8e8fd-7a11-3867-1210-57ca4e93a32d","properties":{"DisplayName":"Ship","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"a":1,"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"checker.jpg"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.23,"size":[0.5,1,1],"tempid":"","texture":"checker.jpg","transform":[-1,0,0,0,0,-1,0,0,0,0,1,0,0,0,0,1],"type":"Primitive","visible":false},"random":{"c":1,"s0":0.216963760089129,"s1":0.302025123033673,"s2":0.709411301417276},"sequence":0,"source":"vwf/model/threejs/sphere.js","type":"subDriver/threejs"}},"extends":"sphere2.vwf","id":"sphere2-vwf-f13abda1-c443-2742-64bb-12cd16c3ba21","methods":{"doMove":{"body":"\n\n\n\n\n\n\n\n\n\n                    this.transformAPI.move(x, y, z);\n                        this.children_by_name.Ship.transformAPI.lookat([x*100,y*100,0],'','X','Z');\n","parameters":["x","y","z"]},"reset":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                      if(this.startingLocation)\n                                                          {\n                                                              this.transformAPI.setPosition(this.startingLocation);   \n                                                          }\n","parameters":[]},"tick":{"body":"\n\n\n\n\n\n\n\n\n\n                    if (this.Scene.children_by_name.GameCode.paused === true) return;\n                        //This function was created for you by the system. \n                        //The tick function is called 20 times every second. \n                        // Write code here to animate over time\n                        var toPlayer = Vec3.subtract(this.Scene.children_by_name.Player.transformAPI.getPosition(), this.transformAPI.getPosition(), []);\n                        var hits = this.Scene.traceAPI.rayCast(this.transformAPI.getPosition(), toPlayer,\n                        {\n                            ignore: [this.id]\n                        });\n                        if (!this.sign)\n                            this.sign = function(num)\n                            {\n                                return num > 0 ? 1 : -1;\n                        }\n\n                        if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < .74)\n                        {\n\n                            if (hits.node == this.Scene.children_by_name.Player)\n                            {\n                                this.Scene.children_by_name.Player.Die();\n                                this.Scene.children_by_name.GameCode.postDeath(this.DisplayName);\n                            }\n                        }\n                        else if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < 4)\n                        {\n                            var max = Math.max(Math.abs(toPlayer[0]), Math.abs(toPlayer[1]), Math.abs(toPlayer[2]));\n                            if (max == Math.abs(toPlayer[0]))\n                                if (this.tryMove([this.sign(toPlayer[0]) / 10, 0, 0]))\n                                    this.doMove(this.sign(toPlayer[0]) / 10, 0, 0);\n                                else if (this.tryMove([0, this.sign(toPlayer[1]) / 10, 0]))\n                                this.doMove(0, this.sign(toPlayer[1]) / 10, 0);\n                            if (max == Math.abs(toPlayer[1]))\n                                if (this.tryMove([0, this.sign(toPlayer[1]) / 10, 0]))\n                                   this.doMove(0, this.sign(toPlayer[1]) / 10, 0);\n                                else if (this.tryMove([this.sign(toPlayer[0]) / 10, 0, 0]))\n                                this.doMove(this.sign(toPlayer[0]) / 10, 0, 0);\n\n                        }\n","parameters":[]},"tryMove":{"body":"\n\n    if (Vec3.magnitude(dir) == 0) return false;\n\n        var transform = this.translation.internal_val;\n        var newpos = Vec3.add(transform, dir, []);\n        var hits = _SceneManager.SphereCast(newpos, .3,\n        {\n            OneHitPerMesh: true,\n            ignore: [_dSky, _Editor.findviewnode(this.id),_Editor.findviewnode(\"sandboxGroup-vwf-ff144e59-a5d8-d4b0-94ed-641a4d60d49\")]\n        });\n\n        if (hits && hits.length)\n        {\n\n            return false;\n        }\n        return true;\n","parameters":["dir"]}},"name":"f13abda1-c443-2742-64bb-12cd16c3ba21","properties":{"DisplayName":"Enemy2","GameType":"Enemy","materialDef":{"alpha":1,"ambient":{"b":0.0745098039215686,"g":0.0745098039215686,"r":0.941176470588235},"color":{"a":1,"b":0.0745098039215686,"g":0.0745098039215686,"r":0.941176470588235},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"checker.jpg"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.42,"size":[0.5,1,1],"startingLocation":[2.14784720658628,-7.25541373502815,0.55],"tempid":"","texture":"checker.jpg","transform":[-0.999991834163666,-0.00401435419917107,0,0,0.00401435419917107,-0.999991834163666,0,0,0,0,1,0,2.14784717559814,-7.25541353225708,0.550000011920929,1],"type":"Primitive","visible":false},"random":{"c":1,"s0":0.201469623949379,"s1":0.204106712946668,"s2":0.828892245423049},"sequence":0,"source":"vwf/model/threejs/sphere.js","type":"subDriver/threejs"},"ff144e59-a5d8-d4b0-94ed-641a4d60d49":{"children":{"7577be93-1b73-80b6-469d-70604810dd65":{"children":{"27878cb4-4739-f2d4-e22f-83c5b4d558":{"extends":"asset.vwf","id":"asset-vwf-27878cb4-4739-f2d4-e22f-83c5b4d558","name":"27878cb4-4739-f2d4-e22f-83c5b4d558","properties":{"DisplayName":"node-Curbs","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/curb.png"}],"morphTargets":false,"reflect":0,"shininess":0.6,"side":0,"skinning":false,"specularColor":{"b":0,"g":0,"r":0},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.393700987100601,0,0,0,0,8.74191999916825e-17,0.393700987100601,0,0,-0.393700987100601,8.74191999916825e-17,0,0,0,0,1],"type":"3DR Object"},"random":{"c":1,"s0":0.289539704332128,"s1":0.291034385561943,"s2":0.87710920907557},"sequence":0,"source":"node-Curbs","type":"link_existing/threejs"},"406373a-419-8bdf-d9a3-d2c2e630c2f3":{"extends":"asset.vwf","id":"asset-vwf-406373a-419-8bdf-d9a3-d2c2e630c2f3","name":"406373a-419-8bdf-d9a3-d2c2e630c2f3","properties":{"DisplayName":"node-ConcreteBackdrop","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/concrete_pad.png"}],"morphTargets":false,"reflect":0,"shininess":0,"side":0,"skinning":false,"specularColor":{"b":0,"g":0,"r":0},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.393700987100601,0,0,0,0,8.74191999916825e-17,0.393700987100601,0,0,-0.393700987100601,8.74191999916825e-17,0,0,0,0,1],"type":"3DR Object"},"random":{"c":1,"s0":0.393710754346102,"s1":0.0822572635952383,"s2":0.314054609509185},"sequence":0,"source":"node-ConcreteBackdrop","type":"link_existing/threejs"},"544ee70-69e7-7402-a049-1b01af125b59":{"extends":"asset.vwf","id":"asset-vwf-544ee70-69e7-7402-a049-1b01af125b59","name":"544ee70-69e7-7402-a049-1b01af125b59","properties":{"DisplayName":"node-Intersections","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/main_intersections.png"}],"morphTargets":false,"reflect":0,"shininess":0.2,"side":0,"skinning":false,"specularColor":{"b":0,"g":0,"r":0},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.393700987100601,0,0,0,0,8.74191999916825e-17,0.393700987100601,0,0,-0.393700987100601,8.74191999916825e-17,0,0,0,0,1],"type":"3DR Object"},"random":{"c":1,"s0":0.668747626710683,"s1":0.546453263843432,"s2":0.918419106630608},"sequence":0,"source":"node-Intersections","type":"link_existing/threejs"},"7c894861-767a-ce68-2e70-e1fdd8cfce71":{"extends":"asset.vwf","id":"asset-vwf-7c894861-767a-ce68-2e70-e1fdd8cfce71","name":"7c894861-767a-ce68-2e70-e1fdd8cfce71","properties":{"DisplayName":"node-Roads","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/main_road.png"}],"morphTargets":false,"reflect":0,"shininess":0.2,"side":0,"skinning":false,"specularColor":{"b":0.9,"g":0.9,"r":0.9},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.393700987100601,0,0,0,0,8.74191999916825e-17,0.393700987100601,0,0,-0.393700987100601,8.74191999916825e-17,0,0,0,0,1],"type":"3DR Object"},"random":{"c":1,"s0":0.188105322187766,"s1":0.0735020318534225,"s2":0.931469126837328},"sequence":0,"source":"node-Roads","type":"link_existing/threejs"},"8341f8fc-6014-3900-b3ca-356ef2cf7854":{"extends":"asset.vwf","id":"asset-vwf-8341f8fc-6014-3900-b3ca-356ef2cf7854","name":"8341f8fc-6014-3900-b3ca-356ef2cf7854","properties":{"DisplayName":"node-Curbs2","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/curb.png"}],"morphTargets":false,"reflect":0,"shininess":0.6,"side":0,"skinning":false,"specularColor":{"b":0,"g":0,"r":0},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.393700987100601,0,0,0,0,8.74191999916825e-17,0.393700987100601,0,0,-0.393700987100601,8.74191999916825e-17,0,0,0,0,1],"type":"3DR Object"},"random":{"c":1,"s0":0.671664703870192,"s1":0.906491779955104,"s2":0.765995352528989},"sequence":0,"source":"node-Curbs2","type":"link_existing/threejs"},"bc9cd1fd-f073-3b1f-42ca-65063e518f0":{"extends":"asset.vwf","id":"asset-vwf-bc9cd1fd-f073-3b1f-42ca-65063e518f0","name":"bc9cd1fd-f073-3b1f-42ca-65063e518f0","properties":{"DisplayName":"node-Start","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/start_end.png"}],"morphTargets":false,"reflect":0,"shininess":1.128772,"side":0,"skinning":false,"specularColor":{"b":0,"g":0,"r":0},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.393700987100601,0,0,0,0,8.74191999916825e-17,0.393700987100601,0,0,-0.393700987100601,8.74191999916825e-17,0,0,0,0,1],"type":"3DR Object"},"random":{"c":1,"s0":0.0898619326762855,"s1":0.483161891112104,"s2":0.7960892082192},"sequence":0,"source":"node-Start","type":"link_existing/threejs"},"cc447b53-f867-d269-1e0b-a9d6bc765210":{"extends":"asset.vwf","id":"asset-vwf-cc447b53-f867-d269-1e0b-a9d6bc765210","name":"cc447b53-f867-d269-1e0b-a9d6bc765210","properties":{"DisplayName":"node-Finish","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/start_end.png"}],"morphTargets":false,"reflect":0,"shininess":1.128772,"side":0,"skinning":false,"specularColor":{"b":0,"g":0,"r":0},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.393700987100601,0,0,0,0,8.74191999916825e-17,0.393700987100601,0,0,-0.393700987100601,8.74191999916825e-17,0,0.490556001663208,4.7846999168396,0,1],"type":"3DR Object"},"random":{"c":1,"s0":0.985537244006991,"s1":0.569249778985977,"s2":0.482421754160896},"sequence":0,"source":"node-Finish","type":"link_existing/threejs"}},"extends":"asset.vwf","id":"asset-vwf-7577be93-1b73-80b6-469d-70604810dd65","name":"7577be93-1b73-80b6-469d-70604810dd65","properties":{"owner":"Rob","transform":[1,0,0,0,0,1,0,0,0,0,1,0,0.00605440139770508,-0.0123300552368164,0.0400000214576721,1]},"random":{"c":1,"s0":0.651371901156381,"s1":0.0982542089186609,"s2":0.536566209048033},"sequence":0,"source":"./vwfdatamanager.svc/datafile/XAPIGame/roads.json","type":"subDriver/threejs/asset/vnd.osgjs+json+compressed"},"fa5c9e96-f6a4-1c5b-4040-20285912c6c9":{"extends":"asset.vwf","id":"asset-vwf-fa5c9e96-f6a4-1c5b-4040-20285912c6c9","name":"fa5c9e96-f6a4-1c5b-4040-20285912c6c9","properties":{"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/buildings_group1.png"}],"morphTargets":false,"reflect":0,"shininess":0.16,"side":0,"skinning":false,"specularColor":{"b":0.9,"g":0.9,"r":0.9},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.391000002622604,0,0,0,0,0.391000002622604,0,0,0,0,0.379000008106232,0,-0.00605440139770508,0.0123300552368164,0.0286956299096346,1]},"random":{"c":1,"s0":0.565891590667889,"s1":0.311066881520674,"s2":0.26518156984821},"sequence":0,"source":"./vwfdatamanager.svc/datafile/XAPIGame/MazeCityBuildings.json","type":"subDriver/threejs/asset/vnd.osgjs+json+compressed"}},"extends":"sandboxGroup.vwf","id":"sandboxGroup-vwf-ff144e59-a5d8-d4b0-94ed-641a4d60d49","name":"ff144e59-a5d8-d4b0-94ed-641a4d60d49","properties":{"open":false,"owner":"Rob","transform":[1.60000002384186,0,0,0,0,1.60000002384186,0,0,0,0,1.60000002384186,0,0.460059851408005,-1.16632974147797,0.00599971832707524,1],"type":"Group"},"random":{"c":1,"s0":0.130991763900965,"s1":0.53304577502422,"s2":0.142360993660986},"sequence":0}},"events":{"avatarCreated":{"body":"\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            window.setTimeout(function()\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                _dView.setCamera('SandboxCamera-vwf-58faf29-3658-392-e779-44d7f701f192');\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }, 300);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                       ","parameters":["cid"," name"]},"clientConnected":{"body":"\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            _dView.setCamera('SandboxCamera-vwf-58faf29-3658-392-e779-44d7f701f192');\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            self2.playerName = name;\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            if (self2.playerName == 'anonymous')\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                alertify.prompt(\"Please tell me your name.\", function(ok, val)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    vwf_view.kernel.setProperty(self2.id, 'playerName', val);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    self2.postStart(val);\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                });\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            else\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                self2.postStart(self2.playerName);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                       ","parameters":["cid"," name"]},"clientDisconnected":{"body":"\n\tif(this.clients)\n\t{\n\t\tdelete this.clients.internal_val[id];\n\t\tthis.clients = this.clients.internal_val;\t\t\n\t}","parameters":["id","name"]},"disconnected":{"body":"\n    \n    alert('This client has been disconnected from server. The page must be reloaded.');\n    var user = _UserManager.GetCurrentUserID();\n    \n    try{vwf.deleteNode(user)} catch(e){};\n    document[document.PlayerNumber +'link'] = null;\n    document.PlayerNumber = null;\n    _UserManager.currentUsername = null;\n    window.onbeforeunload = null;\n    $(window).unbind();\n    window.location.reload();","parameters":[""]},"keyDown":{"body":" return self.keyDown(e,d","parameters":["e","d"]},"keyUp":{"body":" return self.keyUp(e,d","parameters":["e","d"]},"pointerClick":{"body":"return true","parameters":[""]},"pointerDown":{"body":"return true","parameters":[""]},"pointerMove":{"body":"return true","parameters":[""]},"pointerOut":{"body":"return true","parameters":[""]},"pointerOver":{"body":"return true","parameters":[""]},"pointerUp":{"body":"return true","parameters":[""]}},"extends":"http://vwf.example.com/navscene.vwf","id":"index-vwf","methods":{"AmLocal":{"body":"","parameters":[]},"CreatePlane":{"body":"\n    \n    var hw = width/2;\n    var hh = height/2;\n    \n    var planemesh = new MATH.Mesh();\n   \n    var planeobj = new MATH.Object();\n    planeobj.PickPriority = 0;\n    planeobj.setMesh(planemesh);\n    planemesh.setPositions([-hw,-hh,-.001, hw,-hh,-.001, hw,hh,-.001, -hw,hh,-.001]);\n    planemesh.setTangents([-hw,-hh,0, hw,-hh,0, hw,hh,0, -hw,hh,0]);\n    planemesh.setFaces([0,1,2,2,3,0]);\n    planemesh.setUV([0,0,250/4 ,0,250/4,250/4,0,250/4]);\n    findscene().addChild(planeobj);\n    planeobj.InvisibleToCPUPick = false;\n    return planeobj;\n","parameters":["width","height"]},"PM":{"body":"\n    if(window.PMReceived)\n    PMReceived(e);\n","parameters":["e"]},"broadcastCameraPosition":{"body":"\n    if(this.receivingCameraBroadcast)\n    {\n      \n        this.camera.transform = transform;\n    }\n","parameters":["transform"]},"cameraBroadcastEnd":{"body":"\n    if(this.client == this.moniker)\n    {\n        this.broadcastingCamera = false;\n        this.receivingCameraBroadcast = false;\n    }else\n    {\n        if(this.receivingCameraBroadcast)\n        {\n          alertify.alert((_UserManager.GetPlayernameForClientID(this.client) || 'The user') + \" has stopped sharing the camera view.\");\n           this.broadcastingCamera = false;\n          this.receivingCameraBroadcast = false;\n          this.cameramode = this.preCameraShareMode;\n        }\n       \n    }\n","parameters":[]},"cameraBroadcastStart":{"body":"\n    if(this.client == this.moniker)\n    {\n        \n        this.broadcastingCamera = true;\n        this.receivingCameraBroadcast = false;\n    }else\n    {\n        alertify.confirm(_UserManager.GetPlayernameForClientID(this.client) + \" would like to share the camera view with you. Accept?\",function(ok)\n        {\n            if(ok)\n            {\n            \n                this.broadcastingCamera = false;\n                this.receivingCameraBroadcast = true;\n                this.preCameraShareMode = this.cameramode;\n                this.cameramode = 'None';\n            \n            }\n        \n        }.bind(this));\n        \n    \n    }\n\n","parameters":[]},"deleteplayer":{"body":"","parameters":[]},"getBroadcasting":{"body":"\n    return this.broadcastingCamera;\n","parameters":[]},"getSkyMat":{"body":"\n\n    return this.skycube.material;\n\n","parameters":[]},"initialize":{"body":"\n\n   \n   this.setCameraMode('Orbit');\n   this.offset = [0,0,1];\n   this.center = [0,0,0];\n   this.flyspeed = 1;\n   this.activeCameraComp = false;\n   this.loaded = false;\n   this.zoom = 4;\n   this.x_rot = 0.15687500000000001;\n   this.y_rot = 0.5839999999999994;\n   //this.updateCamera();\n   this.players = [];\n   this.rel_x = 0;\n   this.rel_y = 0;\n   this.loaded= false;\n   this.leftdown= false;\n   this.middledown=false;\n   this.rightdown= false;\n   this.last_x = 0;\n   this.last_y = 0;\n   this.navmode = 'none';\n //  this.PickOptions = new MATH.CPUPickOptions();\n //  this.PickOptions.UserRenderBatches = true;\n  \n    $('#index-vwf').mousedown(function(e){this.localpointerDown(e);}.bind(this));\n    window.addEventListener(\"deviceorientation\", this.orientationEvent.bind(this), true);\n    \n    $('#index-vwf').mousewheel(function(e){e.deltaY *= -1; this.localpointerWheel(e);}.bind(this));\n    $('#index-vwf').mouseup(function(e){this.localpointerUp(e);}.bind(this));\n    $('#index-vwf').mouseleave(function(e)\n    {\n        if($(e.toElement).hasClass('glyph'))\n        {\n        \n        }\n        else\n        {\n        \n            this.localpointerUp(e);\n        }\n        \n    }.bind(this));\n    $('#index-vwf').mousemove(function(e){this.localpointerMove(e);}.bind(this));\n\n   this.updateCallbacks = [];\n   this.OwnedPrims = [];\n  \n   findcamera().fov = 70;\n   findcamera().updateProjectionMatrix();\n   var ground = new THREE.Mesh(new THREE.PlaneGeometry(256,256,10,10), new THREE.MeshPhongMaterial());\n   ground.receiveShadow = _SettingsManager.getKey('shadows');\n   ground.PickPriority = -1;\n   \n   \n   var grassTex = THREE.ImageUtils.loadTexture('textures/gridnew.png');\n   \n  \n   ground.material.map = grassTex;\n    grassTex.wrapS = THREE.RepeatWrapping;\n    grassTex.wrapT = THREE.RepeatWrapping;\n    grassTex.repeat.x = 64;\n    grassTex.repeat.y = 64;\n   grassTex.anisotropy  = _dRenderer.getMaxAnisotropy();\n   this.groundplane = ground;\n   \n   \n   findscene().add(ground);\n   \n   if(this.materialDef)\n   this.setTexture(this.materialDef);\n   var l = new THREE.DirectionalLight();\n   this.sun = l;\n   this.sun.name = 'Sun';\n   this.sun.castShadow = _SettingsManager.getKey('shadows');\n   this.sun.shadowCameraNear = 1;\n   this.sun.shadowCameraFar = 100;\n   //this.sun.shadowCameraVisible = true;\n   this.sun.shadowCameraBottom = -10;\n   this.sun.shadowCameraLeft = -10;\n   this.sun.shadowMapWidth = 1024;\n   this.sun.shadowMapHeight = 1024;\n   \n   this.sun.shadowCameraTop = 10;\n   this.sun.shadowCameraRight = 10;\n   findscene().add(l);\n   rebuildAllMaterials();\n   \n   this.sun.position.x = this.sunDirection[0];\n   this.sun.position.y = this.sunDirection[1];\n   this.sun.position.z = this.sunDirection[2];\n   this.sun.position.normalize();\n   this.sun.position.multiplyScalar(100);\n   this.sun.intensity = this.sunIntensity;\n   this.sun.shadowBias = -.005\n   window._dGround = this.groundplane;\n   this.groundplane.name = 'GroundPlane';\n   //this.groundplane.visible = false;\n   window._dSun = this.sun;\n   \n   this.sun.updateMatrixWorld(true);\n   this.CreateSky(vwf.getProperty(this.id,'skyTexture') || 'white');\n   /*findscene().setAmbientColor('rgb(200,200,200)');\n   \n   \n  \n   \n   \n   \n   findscene().setFogType(MATH.FOG_QUADRATIC);\n   findscene().setFogFar(360);\n   findscene().setFogNear(100);\n   findscene().setFogColor('#FFFFFF');\n   \n   */\n     if(this.id == 'Scene-vwf') return;\n      this.prerendercallback = this.prerender.bind(this);\n      this.glyphrendercallback = this.glyphRender.bind(this);\n      this.postprerendercallback = this.postprerender.bind(this);\n      _dView.bind('prerender',this.prerendercallback);\n      _dView.bind('postprerender',this.postprerendercallback);\n      _dView.bind('glyphRender',this.glyphrendercallback);\n      this.createNameTag();\n      this.updateCamera();\n","parameters":[]},"latencyTest":{"body":"\n    if(this.moniker == this.client)\n    {\n        var time = new Date(e.time);\n        var thistime = (new Date()) - time;\n        _Notifier.alert(\"The round trip time to the server was: \" + thistime +\"ms\");\n    }\n","parameters":["e"]},"newplayer":{"body":"\n    \n   \n    \n","parameters":["e"]},"playSound":{"body":"","parameters":[]},"receiveChat":{"body":"\n    if(window.ChatMessageReceived)\n      ChatMessageReceived(e);\n","parameters":["e"]},"setMusic":{"body":"","parameters":[]},"tick":{"body":"\n   \n    if(this.broadcastingCamera)\n    {\n        vwf_view.kernel.callMethod('index-vwf','broadcastCameraPosition',[this.camera.transform]);\n    }\n    if(this.receivingCameraBroadcast && this.cameramode != 'None')\n        this.receivingCameraBroadcast = false;\n    \n","parameters":[]}},"name":"","patches":"index.vwf","properties":{"DisplayName":null,"EditorData":{"fog":{"displayname":"Fog","type":"sectionTitle"},"fogColorR":{"displayname":"Fog Color","property":"fogColor","type":"color"},"fogDensity":{"displayname":"Fog Density","max":0.1,"min":0,"property":"fogDensity","step":0.001,"type":"slider"},"fogFar":{"displayname":"Fog Far","max":2000,"min":0,"property":"fogFar","step":1,"type":"slider"},"fogNear":{"displayname":"Fog Near","max":2000,"min":0,"property":"fogNear","step":1,"type":"slider"},"fogType":{"displayname":"Fog Type","labels":["None","Linear","Quad"],"property":"fogType","type":"choice","values":[null,"linear","exp"]},"fogvFAlloff":{"displayname":"Fog Falloff","max":10,"min":0.1,"property":"fogVFalloff","step":0.001,"type":"slider"},"fogvFAlloffStart":{"displayname":"Fog Falloff Start","max":100,"min":-100,"property":"fogVFalloffStart","step":0.1,"type":"slider"},"sky":{"displayname":"Sky","type":"sectionTitle"},"skyApexColor":{"displayname":"Sky Apex Color","property":"skyApexColor","type":"color"},"skyAtmosphereDensity":{"displayname":"Atmosphere Density","max":1,"min":0,"property":"skyAtmosphereDensity","step":0.01,"type":"slider"},"skyColorBlend":{"displayname":"Sky Color Blend","max":1,"min":0,"property":"skyColorBlend","step":0.01,"type":"slider"},"skyFogBlend":{"displayname":"Sky Fog Amount","max":1,"min":0,"property":"skyFogBlend","step":0.01,"type":"slider"},"skyHorizonColor":{"displayname":"Sky Horizon Color","property":"skyHorizonColor","type":"color"},"skyTexture":{"displayname":"skyTexture","labels":["CloudyNoon","Morning","Evening","Morning2","Storm","ThunderStorm","Night1","Night2","Bright","White","Black"],"property":"skyTexture","type":"choice","values":["cloudy_noon","early_morning","evening","morning","stormy","StormClouds","night1","night2","bright","white","black"]},"sun":{"displayname":"Sun","type":"sectionTitle"},"sunColor":{"displayname":"Sun Color","property":"sunColor","type":"color"},"sunIntensity":{"displayname":"Sun Intensity","max":5,"min":0,"property":"sunIntensity","step":0.1,"type":"slider"},"sunRot":{"displayname":"Sun Direction","property":"sunDirection","step":0.05,"type":"vector"},"sunambientColor":{"displayname":"ambient","property":"ambientColor","type":"color"}},"ambientColor":[0.35,0.35,0.35],"clients":{"E_qbwJf98F7DCEg9Wm6h":{"cid":"E_qbwJf98F7DCEg9Wm6h","name":"Rob"}},"fogColor":[1,1,1],"fogDensity":0.005,"fogFar":1000,"fogNear":100,"fogType":0,"fogVFalloff":1.3,"fogVFalloffStart":0,"navmode":"none","owner":"Rob","permission":{"Everyone":1},"placemarks":{"Origin":{"0":-6.93499994277954,"1":-367,"2":0},"startpoint":{"0":-4.45302486419678,"1":-1.26249170303345,"2":0.109999999403954}},"playBackup":{"children":{"./vwfdatamanager.svc/datafile/XAPIGame/city_col.dae1":{"extends":"asset.vwf","id":"asset-vwf-vwfdatamanager-svc-datafile-XAPIGame-city_col-dae1","name":"./vwfdatamanager.svc/datafile/XAPIGame/city_col.dae1","properties":{"owner":"Rob","transform":[24.7000026702881,0,0,0,0,-8.8588834046277e-9,24.7000026702881,0,0,-24.7000007629395,-8.8588834046277e-9,0,0.451000034809113,-1.11800026893616,-1.12199997901917,1],"visible":false},"random":{"c":1,"s0":0.189805781235918,"s1":0.983853878453374,"s2":0.648477415088564},"sequence":0,"source":"./vwfdatamanager.svc/datafile/XAPIGame/city_col.dae","type":"subDriver/threejs/asset/vnd.collada+xml"},"21e7f33-f0c7-70a3-25e5-fe2dd49d615b":{"children":{"4cc1a334-581a-c55b-1d0b-45321e0b8276":{"extends":"uvmap.vwf","id":"uvmap-vwf-4cc1a334-581a-c55b-1d0b-45321e0b8276","name":"4cc1a334-581a-c55b-1d0b-45321e0b8276","properties":{"DisplayName":"uvmap3","NotProto":"NOT!","_length":2.19,"height":2.32,"mode":"plane","owner":"Rob","plane":"y","transform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"type":"modifier","uoffset":0.34,"voffset":-0.07},"random":{"c":1,"s0":0.0343576180748641,"s1":0.70666490867734,"s2":0.0313245826400816},"sequence":0,"source":"vwf/model/threejs/uvmap.js","type":"subDriver/threejs"},"5bc3f508-299d-93cf-7609-619f37281960":{"extends":"SandboxParticleSystem.vwf","id":"SandboxParticleSystem-vwf-5bc3f508-299d-93cf-7609-619f37281960","methods":{"makeRingSound":{"body":"\n\n\n\n\n\n\n\n                  this.audioAPI.stopSound(\"./vwfdatamanager.svc/datafile/XAPIGame/ring.mp3\");\n                        this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/ring.mp3\", false, 100);\n","parameters":[]},"reset":{"body":"\n\n\n\n\n\n            this.active = true;\n                this.visible = false;\n","parameters":[]},"tick":{"body":"\n\n\n      if (this.Scene.children_by_name.GameCode.paused === true) return;\n\n          var localPlayer = this.transformAPI.globalToLocal(this.Scene.children_by_name.Player.transformAPI.getPosition());\n\n          if (Vec3.magnitude(localPlayer) < .5)\n          {\n              if (this.visible == false)\n              {\n                  this.active = false;\n                  this.Scene.children_by_name.GameCode.postWaypoint(this.parent.DisplayName); this.makeRingSound();\n              }\n              this.visible = true;\n          }\n","parameters":[]}},"name":"5bc3f508-299d-93cf-7609-619f37281960","properties":{"DisplayName":"ParticleSystem4","active":true,"additive":true,"alphaTest":0.255,"counter":298728,"depthTest":false,"endColor":[0,0,0,0.6],"endSize":0.46,"image":"/adl/sandbox/1OimhGKL2jk8Fdh4//vwfDataManager.svc/datafile/XAPIGame/spark.jpg","maxAcceleration":[0,0,-0.001],"maxLifeTime":40,"maxOrientation":13.4,"maxVelocity":[-0.033,-0.037,0.012],"minAcceleration":[0,0,-0.001],"minLifeTime":38,"minOrientation":-17.9,"minVelocity":[0.027,0.03,0.012],"owner":"vergenzs","solver":"AnalyticShader","startColor":[0.254901960784314,0.4,0.980392156862745,0.45],"startSize":0.16,"transform":[-4.17195842317142e-8,-0.99999988079071,7.91509259935423e-15,0,0.999919056892395,-4.1716212706433e-8,-0.0127407042309642,0,0.0127406781539321,-5.31554189553418e-10,0.99991899728775,0,0.00687354803085327,-0.0125490427017212,0.730000078678131,1],"type":"ParticleSystem","visible":false},"random":{"c":1,"s0":0.960840939776972,"s1":0.824023353634402,"s2":0.6333122481592},"sequence":0}},"extends":"cylinder2.vwf","id":"cylinder2-vwf-21e7f33-f0c7-70a3-25e5-fe2dd49d615b","name":"21e7f33-f0c7-70a3-25e5-fe2dd49d615b","properties":{"DisplayName":"WayPoint3","GameType":"WayPoint","height":0.13,"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"a":1,"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/teleport.png"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.48,"rsegs":16,"size":[1,0.5,0.5],"tempid":"","texture":"checker.jpg","transform":[1,0,0,0,0,1,0,0,0,0,1,0,-1.28632712364197,-9.39210891723633,0.150000005960464,1],"type":"Primitive"},"random":{"c":1,"s0":0.168332272209227,"s1":0.443781930720434,"s2":0.811153281480074},"sequence":0,"source":"vwf/model/threejs/cylinder.js","type":"subDriver/threejs"},"2e28d927-25a5-4311-2af0-e7a35bb4971":{"children":{"c905bf7d-7169-4d2d-d8ac-e2b0f11988ad":{"children":{"2c6a4ea4-5486-46b3-8664-bb9af0d2b1e0":{"extends":"asset.vwf","id":"asset-vwf-2c6a4ea4-5486-46b3-8664-bb9af0d2b1e0","name":"2c6a4ea4-5486-46b3-8664-bb9af0d2b1e0","properties":{"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/policecar.png"}],"morphTargets":false,"reflect":0,"shininess":1,"side":0,"skinning":false,"specularColor":{"b":1,"g":1,"r":1},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[-0.00026310994871892,-0.399917036294937,0.00814452394843102,0,-0.000491006707306951,0.00814482755959034,0.399916708469391,0,-0.399999648332596,0.000253052159678191,-0.000496317108627409,0,0,0,0,1]},"random":{"c":1,"s0":0.953633794793859,"s1":0.951581143541262,"s2":0.0818706699647009},"sequence":0,"source":"./vwfdatamanager.svc/datafile/XAPIGame/PoliceCar.json","type":"subDriver/threejs/asset/vnd.osgjs+json+compressed"}},"extends":"sphere2.vwf","id":"sphere2-vwf-c905bf7d-7169-4d2d-d8ac-e2b0f11988ad","name":"c905bf7d-7169-4d2d-d8ac-e2b0f11988ad","properties":{"DisplayName":"Ship","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"a":1,"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"checker.jpg"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.23,"size":[0.5,1,1],"tempid":"","texture":"checker.jpg","transform":[-1,0,0,0,0,-1,0,0,0,0,1,0,0,0,0,1],"type":"Primitive","visible":false},"random":{"c":1,"s0":0.216963760089129,"s1":0.302025123033673,"s2":0.709411301417276},"sequence":0,"source":"vwf/model/threejs/sphere.js","type":"subDriver/threejs"}},"extends":"sphere2.vwf","id":"sphere2-vwf-2e28d927-25a5-4311-2af0-e7a35bb4971","methods":{"doMove":{"body":"\n\n\n\n\n\n\n\n                this.transformAPI.move(x, y, z);\n                    this.children_by_name.Ship.transformAPI.lookat([x*100,y*100,0],'','X','Z');\n","parameters":["x","y","z"]},"reset":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                  if(this.startingLocation)\n                                                      {\n                                                          this.transformAPI.setPosition(this.startingLocation);   \n                                                      }\n","parameters":[]},"tick":{"body":"\n\n\n\n\n\n\n\n                if (this.Scene.children_by_name.GameCode.paused === true) return;\n                    //This function was created for you by the system. \n                    //The tick function is called 20 times every second. \n                    // Write code here to animate over time\n                    var toPlayer = Vec3.subtract(this.Scene.children_by_name.Player.transformAPI.getPosition(), this.transformAPI.getPosition(), []);\n                    var hits = this.Scene.traceAPI.rayCast(this.transformAPI.getPosition(), toPlayer,\n                    {\n                        ignore: [this.id]\n                    });\n                    if (!this.sign)\n                        this.sign = function(num)\n                        {\n                            return num > 0 ? 1 : -1;\n                    }\n\n                    if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < .74)\n                    {\n\n                        if (hits.node == this.Scene.children_by_name.Player)\n                        {\n                            this.Scene.children_by_name.Player.Die();\n                            this.Scene.children_by_name.GameCode.postDeath(this.DisplayName);\n                        }\n                    }\n                    else if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < 4)\n                    {\n                        var max = Math.max(Math.abs(toPlayer[0]), Math.abs(toPlayer[1]), Math.abs(toPlayer[2]));\n                        if (max == Math.abs(toPlayer[0]))\n                            if (this.tryMove([this.sign(toPlayer[0]) / 10, 0, 0]))\n                                this.doMove(this.sign(toPlayer[0]) / 10, 0, 0);\n                            else if (this.tryMove([0, this.sign(toPlayer[1]) / 10, 0]))\n                            this.doMove(0, this.sign(toPlayer[1]) / 10, 0);\n                        if (max == Math.abs(toPlayer[1]))\n                            if (this.tryMove([0, this.sign(toPlayer[1]) / 10, 0]))\n                               this.doMove(0, this.sign(toPlayer[1]) / 10, 0);\n                            else if (this.tryMove([this.sign(toPlayer[0]) / 10, 0, 0]))\n                            this.doMove(this.sign(toPlayer[0]) / 10, 0, 0);\n\n                    }\n","parameters":[]},"tryMove":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                  if (Vec3.magnitude(dir) == 0) return false;\n\n                                                      var transform = this.translation.internal_val;\n                                                      var newpos = Vec3.add(transform, dir, []);\n                                                      var hits = _SceneManager.SphereCast(newpos, .3,\n                                                      {\n                                                          OneHitPerMesh: true,\n                                                          ignore: [_dSky, _Editor.findviewnode(this.id)]\n                                                      });\n\n                                                      if (hits && hits.length)\n                                                      {\n\n                                                          return false;\n                                                      }\n                                                      return true;\n","parameters":["dir"]}},"name":"2e28d927-25a5-4311-2af0-e7a35bb4971","properties":{"DisplayName":"Enemy1","GameType":"Enemy","materialDef":{"alpha":1,"ambient":{"b":0.0745098039215686,"g":0.0745098039215686,"r":0.941176470588235},"color":{"a":1,"b":0.0745098039215686,"g":0.0745098039215686,"r":0.941176470588235},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"checker.jpg"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.42,"size":[0.5,1,1],"startingLocation":[-4.98503572130716,-9.41966020467737,0.55],"tempid":"","texture":"checker.jpg","transform":[-0.999991834163666,-0.00401435419917107,0,0,0.00401435419917107,-0.999991834163666,0,0,0,0,1,0,-4.98503589630127,-9.4196605682373,0.550000011920929,1],"type":"Primitive","visible":false},"random":{"c":1,"s0":0.201469623949379,"s1":0.204106712946668,"s2":0.828892245423049},"sequence":0,"source":"vwf/model/threejs/sphere.js","type":"subDriver/threejs"},"365b266-41ce-11b9-1872-e623ef131b5d":{"children":{"c20a7e2c-38c6-9034-1f88-d2bd4d671fc9":{"extends":"uvmap.vwf","id":"uvmap-vwf-c20a7e2c-38c6-9034-1f88-d2bd4d671fc9","name":"c20a7e2c-38c6-9034-1f88-d2bd4d671fc9","properties":{"DisplayName":"uvmap1","NotProto":"NOT!","_length":2.78,"height":2.73,"mode":"plane","owner":"Rob","plane":"y","transform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"type":"modifier","uoffset":0.34,"voffset":-0.07},"random":{"c":1,"s0":0.0115805226378143,"s1":0.223965629935265,"s2":0.206677667563781},"sequence":0,"source":"vwf/model/threejs/uvmap.js","type":"subDriver/threejs"}},"extends":"cylinder2.vwf","id":"cylinder2-vwf-365b266-41ce-11b9-1872-e623ef131b5d","name":"365b266-41ce-11b9-1872-e623ef131b5d","properties":{"DisplayName":"cylinder3","height":0.26,"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"a":1,"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/teleport.png"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.59,"rsegs":16,"size":[1,0.5,0.5],"tempid":"","texture":"checker.jpg","transform":[1,0,0,0,0,1,0,0,0,0,1,0,0.868994414806366,2.87499785423279,-0.21900001168251,1],"type":"Primitive"},"random":{"c":1,"s0":0.307763082440943,"s1":0.157772459322587,"s2":0.224498455645517},"sequence":0,"source":"vwf/model/threejs/cylinder.js","type":"subDriver/threejs"},"3b2df2e9-b9c8-2082-930f-eabf145f5273":{"children":{"371ce16d-b4aa-d944-6123-bfd76c8c2a89":{"extends":"rotator.vwf","id":"rotator-vwf-371ce16d-b4aa-d944-6123-bfd76c8c2a89","name":"371ce16d-b4aa-d944-6123-bfd76c8c2a89","properties":{"Active":true,"Amount":4,"DisplayName":"rotator1","Local":true,"owner":"Rob","type":"behavior"},"random":{"c":1,"s0":0.697554648621008,"s1":0.740025692153722,"s2":0.641901551513001},"sequence":0}},"extends":"cone2.vwf","id":"cone2-vwf-3b2df2e9-b9c8-2082-930f-eabf145f5273","name":"3b2df2e9-b9c8-2082-930f-eabf145f5273","properties":{"DisplayName":"cone1","height":0.69,"hsegs":1,"materialDef":{"alpha":0.48,"ambient":{"b":0.0745098039215686,"g":0.0745098039215686,"r":0.968627450980392},"color":{"a":1,"b":0.0745098039215686,"g":0.0745098039215686,"r":0.968627450980392},"emit":{"b":0,"g":0,"r":0},"layers":[],"morphTargets":false,"reflect":5.2,"shadeless":false,"shadow":true,"shininess":10,"side":2,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":9.6,"type":"phong"},"owner":"Rob","radius":0.33,"rsegs":3,"size":[0.5,1,0.5],"tempid":"","testprop":"value","texture":"checker.jpg","transform":[-0.967550158500671,-0.206601858139038,0.145422652363777,0,-0.252260059118271,0.821969628334045,-0.510599076747894,0,-0.0140427984297276,-0.530722141265869,-0.847427666187286,0,-6.75800037384033,-0.968243896961212,1.36836218833923,1],"type":"Primitive"},"random":{"c":1,"s0":0.709777161711827,"s1":0.231308539630845,"s2":0.789308838779107},"sequence":0,"source":"vwf/model/threejs/cone.js","type":"subDriver/threejs"},"528b1838-cc3c-d7c-b8ee-17f0d5806c2c":{"extends":"http://vwf.example.com/behavior.vwf","id":"http-vwf-example-com-behavior-vwf-528b1838-cc3c-d7c-b8ee-17f0d5806c2c","methods":{"initialize":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","parameters":[]},"postDeath":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                      if (!_DataManager.getInstanceData().publishSettings) return;\n                                                                                                                                                          var worldId = \"http://vwf.adlnet.gov/xapi/\" + /\\w{16}/.exec(_DataManager.getCurrentSession())[0];\n                                                                                                                                                          var trapId = worldId + '/' + trapName;\n                                                                                                                                                          var agentId = {\n                                                                                                                                                              'homePage': 'http://vwf.adlnet.gov',\n                                                                                                                                                              'name': this.playerName\n                                                                                                                                                          };\n                                                                                                                                                          var statement = new ADL.XAPIStatement(\n                                                                                                                                                              new ADL.XAPIStatement.Agent(agentId, agentId.name),\n                                                                                                                                                              new ADL.XAPIStatement.Verb('http://vwf.adlnet.gov/xapi/IFestGame2014/verbs/killed_by', 'killed by'),\n                                                                                                                                                              new ADL.XAPIStatement.Activity(trapId, trapName));\n\n                                                                                                                                                          statement.addParentActivity(new ADL.XAPIStatement.Activity(worldId, _DataManager.getInstanceData().title || 'tempPublish'));\n                                                                                                                                                          statement.context.registration = this.registration;\n\n                                                                                                                                                          statement.context.extensions = {\n                                                                                                                                                              \"http://vwf.adlnet.gov/xapi/IFestGame2014\":\n                                                                                                                                                              {\n                                                                                                                                                                  'GameType': this.Scene.children_by_name[trapName].GameType,\n                                                                                                                                                                  'timeAlive': this.Scene.children_by_name.Player.timer\n                                                                                                                                                              }\n                                                                                                                                                          };\n                                                                                                                                                          \n                                                                                                                                                          this.xAPI.sendStatement(null, statement);\n","parameters":["trapName"]},"postQuit":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                    if (!_DataManager.getInstanceData().publishSettings) return;\n                                                                                                                                                        var worldId = \"http://vwf.adlnet.gov/xapi/\" + /\\w{16}/.exec(_DataManager.getCurrentSession())[0];\n                                                                                                                                                        var statement = new ADL.XAPIStatement(\n                                                                                                                                                        {\n                                                                                                                                                            'homePage': 'http://vwf.adlnet.gov',\n                                                                                                                                                            'name': this.playerName\n                                                                                                                                                        },\n                                                                                                                                                            ADL.verbs.terminated,\n                                                                                                                                                            new ADL.XAPIStatement.Activity(worldId, _DataManager.getInstanceData().title || 'tempPublish')\n                                                                                                                                                        );\n                                                                                                                                                        statement.generateId();\n                                                                                                                                                        statement.context = {};\n                                                                                                                                                        statement.context.registration = this.registration;\n                                                                                                                                                        console.log(statement);\n                                                                                                                                                        this.xAPI.sendStatement(null, statement);\n","parameters":[]},"postSpawn":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                    if (!_DataManager.getInstanceData().publishSettings) return;\n                                                                                                                                                        var worldId = \"http://vwf.adlnet.gov/xapi/\" + /\\w{16}/.exec(_DataManager.getCurrentSession())[0];\n\n                                                                                                                                                        var agentId = {\n                                                                                                                                                            'homePage': 'http://vwf.adlnet.gov',\n                                                                                                                                                            'name': this.playerName\n                                                                                                                                                        };\n                                                                                                                                                        var statement = new ADL.XAPIStatement(\n                                                                                                                                                            new ADL.XAPIStatement.Agent(agentId, agentId.name),\n                                                                                                                                                            new ADL.XAPIStatement.Verb('http://vwf.adlnet.gov/xapi/IFestGame2014/verbs/spawned_in', 'spawned in'),\n                                                                                                                                                            new ADL.XAPIStatement.Activity(worldId, _DataManager.getInstanceData().title || 'tempPublish'));\n\n                                                                                                                                                        statement.context.registration = this.registration;\n\n                                                                                                                                                        console.log(statement);\n                                                                                                                                                        this.xAPI.sendStatement(null, statement);\n","parameters":["player"]},"postStart":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                    if (!_DataManager.getInstanceData().publishSettings) return;\n                                                                                                                                                        var worldId = \"http://vwf.adlnet.gov/xapi/\" + /\\w{16}/.exec(_DataManager.getCurrentSession())[0];\n                                                                                                                                                        var agentId = {\n                                                                                                                                                            'homePage': 'http://vwf.adlnet.gov',\n                                                                                                                                                            'name': player\n                                                                                                                                                        };\n\n                                                                                                                                                        var statement = new ADL.XAPIStatement(\n                                                                                                                                                            new ADL.XAPIStatement.Agent(agentId, agentId.name),\n                                                                                                                                                            ADL.verbs.attempted,\n                                                                                                                                                            new ADL.XAPIStatement.Activity(worldId, _DataManager.getInstanceData().title || 'tempPublish'));\n                                                                                                                                                        statement.object.definition.moreInfo = window.location.href;\n\n                                                                                                                                                        statement.generateRegistration();\n\n                                                                                                                                                        this.registration = statement.context.registration;\n\n                                                                                                                                                        console.log(statement);\n                                                                                                                                                        this.xAPI.sendStatement(null, statement);\n","parameters":["player"]},"postSuccess":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                    if (!_DataManager.getInstanceData().publishSettings) return;\n                                                                                                                                                        var worldId = \"http://vwf.adlnet.gov/xapi/\" + /\\w{16}/.exec(_DataManager.getCurrentSession())[0];\n                                                                                                                                                        var agentId = {\n                                                                                                                                                            'homePage': 'http://vwf.adlnet.gov',\n                                                                                                                                                            'name': this.playerName\n                                                                                                                                                        };\n\n                                                                                                                                                        var statement = new ADL.XAPIStatement(\n                                                                                                                                                            new ADL.XAPIStatement.Agent(agentId, agentId.name),\n                                                                                                                                                            ADL.verbs.completed,\n                                                                                                                                                            new ADL.XAPIStatement.Activity(worldId, _DataManager.getInstanceData().title || 'tempPublish'));\n\n                                                                                                                                                        statement.object.definition.moreInfo = window.location.href;\n\n                                                                                                                                                        statement.context = {\n                                                                                                                                                            'registration': this.registration,\n                                                                                                                                                            'extensions':\n                                                                                                                                                            {\n                                                                                                                                                                \"http://vwf.adlnet.gov/xapi/IFestGame2014\":\n                                                                                                                                                                {\n                                                                                                                                                                    'timeAlive': this.Scene.children_by_name.Player.timer\n                                                                                                                                                                }\n                                                                                                                                                            }\n                                                                                                                                                        };\n                                                                                                                                                        \n                                                                                                                                                        this.xAPI.sendStatement(null, statement);\n","parameters":[]},"postWaypoint":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                    if (!_DataManager.getInstanceData().publishSettings) return;\n\n                                                                                                                                                        var worldId = \"http://vwf.adlnet.gov/xapi/\" + /\\w{16}/.exec(_DataManager.getCurrentSession())[0];\n                                                                                                                                                        var waypointId = worldId + '/' + waypointName;\n                                                                                                                                                        var agentId = {\n                                                                                                                                                            'homePage': 'http://vwf.adlnet.gov',\n                                                                                                                                                            'name': this.playerName\n                                                                                                                                                        };\n                                                                                                                                                        var statement = new ADL.XAPIStatement(\n                                                                                                                                                            new ADL.XAPIStatement.Agent(agentId, agentId.name),\n                                                                                                                                                            new ADL.XAPIStatement.Verb('http://vwf.adlnet.gov/xapi/IFestGame2014/verbs/reached', 'reached'),\n                                                                                                                                                            new ADL.XAPIStatement.Activity(waypointId, waypointName));\n                                                                                                                                                            \n                                                                                                                                                        statement.addParentActivity(new ADL.XAPIStatement.Activity(worldId, _DataManager.getInstanceData().title || 'tempPublish'));\n                                                                                                                                                        statement.context.registration = this.registration;\n                                                                                                                                                        statement.context.extensions = {\n                                                                                                                                                            \"http://vwf.adlnet.gov/xapi/IFestGame2014\":\n                                                                                                                                                            {\n                                                                                                                                                                'timeAlive': this.Scene.children_by_name.Player.timer\n                                                                                                                                                            }\n                                                                                                                                                        };\n                                                                                                                                                        this.xAPI.sendStatement(null, statement);\n","parameters":["waypointName"]},"ready":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                this.xAPI.configure(\n                                                                                                                                                                                                                                                                                                                                                                                                                                    {\n                                                                                                                                                                                                                                                                                                                                                                                                                                        endpoint: 'https://lrs.adlnet.gov/xapi/',\n                                                                                                                                                                                                                                                                                                                                                                                                                                        user: 'IFestGame',\n                                                                                                                                                                                                                                                                                                                                                                                                                                        password: 'UQw9Sw*FcZlM'\n                                                                                                                                                                                                                                                                                                                                                                                                                                    });\n                                                                                                                                                                                                                                                                                                                                                                                                                                    this.xAPI.testConfig();\n                                                                                                                                                                                                                                                                                                                                                                                                                                    var id = this.id;\n                                                                                                                                                                                                                                                                                                                                                                                                                                    var self2 = this;\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                    _dView.setCamera('SandboxCamera-vwf-58faf29-3658-392-e779-44d7f701f192');\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                    this.Scene.bind('avatarCreated', function(cid, name)\n                                                                                                                                                                                                                                                                                                                                                                                                                                    {\n                                                                                                                                                                                                                                                                                                                                                                                                                                        window.setTimeout(function()\n                                                                                                                                                                                                                                                                                                                                                                                                                                        {\n                                                                                                                                                                                                                                                                                                                                                                                                                                            _dView.setCamera('SandboxCamera-vwf-58faf29-3658-392-e779-44d7f701f192');\n                                                                                                                                                                                                                                                                                                                                                                                                                                        }, 300);\n                                                                                                                                                                                                                                                                                                                                                                                                                                    });\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                    this.Scene.bind('clientConnected', function(cid, name)\n                                                                                                                                                                                                                                                                                                                                                                                                                                    {\n                                                                                                                                                                                                                                                                                                                                                                                                                                        _dView.setCamera('SandboxCamera-vwf-58faf29-3658-392-e779-44d7f701f192');\n                                                                                                                                                                                                                                                                                                                                                                                                                                        self2.playerName = name;\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                        if (self2.playerName == 'anonymous')\n                                                                                                                                                                                                                                                                                                                                                                                                                                        {\n                                                                                                                                                                                                                                                                                                                                                                                                                                            alertify.prompt(\"Please tell me your name.\", function(ok, val)\n                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                vwf_view.kernel.setProperty(self2.id, 'playerName', val);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                self2.postStart(val);\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                            });\n                                                                                                                                                                                                                                                                                                                                                                                                                                        }\n                                                                                                                                                                                                                                                                                                                                                                                                                                        else\n                                                                                                                                                                                                                                                                                                                                                                                                                                        {\n                                                                                                                                                                                                                                                                                                                                                                                                                                            \n                                                                                                                                                                                                                                                                                                                                                                                                                                            self2.postStart(self2.playerName);\n                                                                                                                                                                                                                                                                                                                                                                                                                                        }\n                                                                                                                                                                                                                                                                                                                                                                                                                                    });\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                    var settings = _DataManager.getInstanceData();\n                                                                                                                                                                                                                                                                                                                                                                                                                                    if (!settings.publishSettings)\n                                                                                                                                                                                                                                                                                                                                                                                                                                    {\n                                                                                                                                                                                                                                                                                                                                                                                                                                        $(document.head).append('<script type=\"text/javascript\" src=\"./vwfdatamanager.svc/datafile/XAPIGame/gamegui.js\" ></script>')\n                                                                                                                                                                                                                                                                                                                                                                                                                                    }\n","parameters":[]},"reset":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                      var myself = this;\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                          function walk(node)\n                                                                                                                                                                                                                                                                                                                                                                                                                                          {\n                                                                                                                                                                                                                                                                                                                                                                                                                                              if (!node || node == myself || node == myself.Scene.children_by_name.Player) return;\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                              if (node.reset)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                  node.reset();\n                                                                                                                                                                                                                                                                                                                                                                                                                                              var children = node.children;\n                                                                                                                                                                                                                                                                                                                                                                                                                                              for (var i = 0; i < children.length; i++)\n                                                                                                                                                                                                                                                                                                                                                                                                                                              {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                  if (children[i])\n                                                                                                                                                                                                                                                                                                                                                                                                                                                      walk(children[i]);\n                                                                                                                                                                                                                                                                                                                                                                                                                                              }\n                                                                                                                                                                                                                                                                                                                                                                                                                                          }\n                                                                                                                                                                                                                                                                                                                                                                                                                                          var children = this.parent.children;\n                                                                                                                                                                                                                                                                                                                                                                                                                                          for (var i = 0; i < children.length; i++)\n                                                                                                                                                                                                                                                                                                                                                                                                                                          {\n                                                                                                                                                                                                                                                                                                                                                                                                                                              walk(children[i]);\n                                                                                                                                                                                                                                                                                                                                                                                                                                          }\n                                                                                                                                                                                                                                                                                                                                                                                                                                          this.postSpawn();\n","parameters":[]}},"name":"528b1838-cc3c-d7c-b8ee-17f0d5806c2c","properties":{"DisplayName":"GameCode","NotProto":"","owner":"Rob","paused":false,"playerName":"Rob","registration":"b8cb7ddb-a081-baf8-ccb8-cdd9674db892","type":"behavior"},"random":{"c":1,"s0":0.61410125461407,"s1":0.146318237995729,"s2":0.355505408486351},"sequence":0},"57a66669-539-e627-73b-5a87c02bd688":{"children":{"c51f8e7f-6e15-b0b0-e161-7e041a5b5c9e":{"extends":"uvmap.vwf","id":"uvmap-vwf-c51f8e7f-6e15-b0b0-e161-7e041a5b5c9e","name":"c51f8e7f-6e15-b0b0-e161-7e041a5b5c9e","properties":{"DisplayName":"uvmap1","NotProto":"NOT!","_length":2.78,"height":2.73,"mode":"plane","owner":"Rob","plane":"y","transform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"type":"modifier","uoffset":0.34,"voffset":-0.07},"random":{"c":1,"s0":0.0115805226378143,"s1":0.223965629935265,"s2":0.206677667563781},"sequence":0,"source":"vwf/model/threejs/uvmap.js","type":"subDriver/threejs"},"fd05649d-f109-ef76-b8ea-396e783d8a20":{"extends":"hoverlabel.vwf","id":"hoverlabel-vwf-fd05649d-f109-ef76-b8ea-396e783d8a20","name":"fd05649d-f109-ef76-b8ea-396e783d8a20","properties":{"DisplayName":"hoverlabel1","color":[0.933333333333333,0,1],"offset3D":[0,0,0.9],"owner":"Rob","text":"Start!","textsize":12,"type":"behavior"},"random":{"c":1,"s0":0.0182904226239771,"s1":0.415411794790998,"s2":0.657714408589527},"sequence":0}},"extends":"cylinder2.vwf","id":"cylinder2-vwf-57a66669-539-e627-73b-5a87c02bd688","name":"57a66669-539-e627-73b-5a87c02bd688","properties":{"DisplayName":"cylinder1","height":0.26,"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"a":1,"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/teleport.png"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.59,"rsegs":16,"size":[1,0.5,0.5],"tempid":"","texture":"checker.jpg","transform":[1,0,0,0,0,1,0,0,0,0,1,0,-7.55100393295288,-0.891001880168915,-0.0930000022053719,1],"type":"Primitive"},"random":{"c":1,"s0":0.307763082440943,"s1":0.157772459322587,"s2":0.224498455645517},"sequence":0,"source":"vwf/model/threejs/cylinder.js","type":"subDriver/threejs"},"58faf29-3658-392-e779-44d7f701f192":{"extends":"SandboxCamera.vwf","id":"SandboxCamera-vwf-58faf29-3658-392-e779-44d7f701f192","name":"58faf29-3658-392-e779-44d7f701f192","properties":{"DisplayName":"OverheadCam","fov":45,"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":5.3,"scaley":6.1,"src":"/adl/sandbox/DnNE31e3uvYptRYw//vwfDataManager.svc/texture?UID=brick.jpg"}],"morphTargets":false,"reflect":0.1,"shininess":0.2,"side":0,"skinning":false,"specularColor":{"b":0.0666666666666667,"g":0.0666666666666667,"r":0.0666666666666667},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[1,0,0,0,0,-1.30786332874777e-7,-0.99999988079071,0,0,0.99999988079071,-1.30786332874777e-7,0,0.0114222439005971,-1.15595650672913,11.9199934005737,1]},"random":{"c":1,"s0":0.293749240227044,"s1":0.289425936760381,"s2":0.0649766458664089},"sequence":0,"source":"vwf/model/threejs/camera.js","type":"subDriver/threejs"},"5ccfb3fe-bf1e-ee8d-b3b6-d47942f445b2":{"children":{"67704a64-8bb-4099-eb68-1c6a6bcdbb99":{"children":{"d91d626b-3414-6305-f66a-dfc5b159201d":{"extends":"asset.vwf","id":"asset-vwf-d91d626b-3414-6305-f66a-dfc5b159201d","name":"d91d626b-3414-6305-f66a-dfc5b159201d","properties":{"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/policecar.png"}],"morphTargets":false,"reflect":0,"shininess":1,"side":0,"skinning":false,"specularColor":{"b":1,"g":1,"r":1},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[-0.00026310994871892,-0.399917036294937,0.00814452394843102,0,-0.000491006707306951,0.00814482755959034,0.399916708469391,0,-0.399999648332596,0.000253052159678191,-0.000496317108627409,0,0,0,0,1]},"random":{"c":1,"s0":0.953633794793859,"s1":0.951581143541262,"s2":0.0818706699647009},"sequence":0,"source":"./vwfdatamanager.svc/datafile/XAPIGame/PoliceCar.json","type":"subDriver/threejs/asset/vnd.osgjs+json+compressed"}},"extends":"sphere2.vwf","id":"sphere2-vwf-67704a64-8bb-4099-eb68-1c6a6bcdbb99","name":"67704a64-8bb-4099-eb68-1c6a6bcdbb99","properties":{"DisplayName":"Ship","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"a":1,"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"checker.jpg"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.23,"size":[0.5,1,1],"tempid":"","texture":"checker.jpg","transform":[-1,0,0,0,0,-1,0,0,0,0,1,0,0,0,0,1],"type":"Primitive","visible":false},"random":{"c":1,"s0":0.216963760089129,"s1":0.302025123033673,"s2":0.709411301417276},"sequence":0,"source":"vwf/model/threejs/sphere.js","type":"subDriver/threejs"}},"extends":"sphere2.vwf","id":"sphere2-vwf-5ccfb3fe-bf1e-ee8d-b3b6-d47942f445b2","methods":{"doMove":{"body":"\n\n\n\n\n\n\n\n                this.transformAPI.move(x, y, z);\n                    this.children_by_name.Ship.transformAPI.lookat([x*100,y*100,0],'','X','Z');\n","parameters":["x","y","z"]},"reset":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                  if(this.startingLocation)\n                                                      {\n                                                          this.transformAPI.setPosition(this.startingLocation);   \n                                                      }\n","parameters":[]},"tick":{"body":"\n\n\n\n\n\n\n\n                if (this.Scene.children_by_name.GameCode.paused === true) return;\n                    //This function was created for you by the system. \n                    //The tick function is called 20 times every second. \n                    // Write code here to animate over time\n                    var toPlayer = Vec3.subtract(this.Scene.children_by_name.Player.transformAPI.getPosition(), this.transformAPI.getPosition(), []);\n                    var hits = this.Scene.traceAPI.rayCast(this.transformAPI.getPosition(), toPlayer,\n                    {\n                        ignore: [this.id]\n                    });\n                    if (!this.sign)\n                        this.sign = function(num)\n                        {\n                            return num > 0 ? 1 : -1;\n                    }\n\n                    if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < .74)\n                    {\n\n                        if (hits.node == this.Scene.children_by_name.Player)\n                        {\n                            this.Scene.children_by_name.Player.Die();\n                            this.Scene.children_by_name.GameCode.postDeath(this.DisplayName);\n                        }\n                    }\n                    else if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < 4)\n                    {\n                        var max = Math.max(Math.abs(toPlayer[0]), Math.abs(toPlayer[1]), Math.abs(toPlayer[2]));\n                        if (max == Math.abs(toPlayer[0]))\n                            if (this.tryMove([this.sign(toPlayer[0]) / 10, 0, 0]))\n                                this.doMove(this.sign(toPlayer[0]) / 10, 0, 0);\n                            else if (this.tryMove([0, this.sign(toPlayer[1]) / 10, 0]))\n                            this.doMove(0, this.sign(toPlayer[1]) / 10, 0);\n                        if (max == Math.abs(toPlayer[1]))\n                            if (this.tryMove([0, this.sign(toPlayer[1]) / 10, 0]))\n                               this.doMove(0, this.sign(toPlayer[1]) / 10, 0);\n                            else if (this.tryMove([this.sign(toPlayer[0]) / 10, 0, 0]))\n                            this.doMove(this.sign(toPlayer[0]) / 10, 0, 0);\n\n                    }\n","parameters":[]},"tryMove":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                  if (Vec3.magnitude(dir) == 0) return false;\n\n                                                      var transform = this.translation.internal_val;\n                                                      var newpos = Vec3.add(transform, dir, []);\n                                                      var hits = _SceneManager.SphereCast(newpos, .3,\n                                                      {\n                                                          OneHitPerMesh: true,\n                                                          ignore: [_dSky, _Editor.findviewnode(this.id)]\n                                                      });\n\n                                                      if (hits && hits.length)\n                                                      {\n\n                                                          return false;\n                                                      }\n                                                      return true;\n","parameters":["dir"]}},"name":"5ccfb3fe-bf1e-ee8d-b3b6-d47942f445b2","properties":{"DisplayName":"Enemy3","GameType":"Enemy","materialDef":{"alpha":1,"ambient":{"b":0.0745098039215686,"g":0.0745098039215686,"r":0.941176470588235},"color":{"a":1,"b":0.0745098039215686,"g":0.0745098039215686,"r":0.941176470588235},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"checker.jpg"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.42,"size":[0.5,1,1],"startingLocation":[-0.0333277296887207,1.68150915695107,0.55],"tempid":"","texture":"checker.jpg","transform":[-0.999991834163666,-0.00401435419917107,0,0,0.00401435419917107,-0.999991834163666,0,0,0,0,1,0,-0.033327728509903,1.68150913715363,0.550000011920929,1],"type":"Primitive","visible":false},"random":{"c":1,"s0":0.201469623949379,"s1":0.204106712946668,"s2":0.828892245423049},"sequence":0,"source":"vwf/model/threejs/sphere.js","type":"subDriver/threejs"},"Rob":{"events":{"Message":{"body":"if(vwf.client() != vwf.moniker()) return; setupPmWindow(this.PlayerNumber)    ","parameters":[""]},"ShowProfile":{"body":"if(vwf.client() != vwf.moniker()) return; _UserManager.showProfile(_DataManager.GetProfileForUser(this.PlayerNumber))    ","parameters":[""]}},"extends":"character.vwf","id":"character-vwf-Rob","name":"Rob","properties":{"PlayerNumber":"Rob","activeCycle":[],"animationFrame":1,"castShadows":true,"cycles":{"jump":{"current":0,"length":36,"loop":false,"speed":1.25,"start":70},"run":{"current":0,"length":36,"loop":true,"speed":1.25,"start":70},"runningjump":{"current":0,"length":48,"loop":false,"speed":1.25,"start":109},"stand":{"current":0,"length":0,"loop":true,"speed":1.25,"start":1},"strafeleft":{"current":0,"length":16,"loop":true,"speed":-1.5,"start":124},"straferight":{"current":0,"length":16,"loop":true,"speed":1.5,"start":108},"walk":{"current":0,"length":27,"loop":true,"speed":1,"start":6},"walkback":{"current":0,"length":30,"loop":true,"speed":-1.25,"start":0}},"isDynamic":true,"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"depthtest":true,"emit":{"b":0.254901960784314,"g":0.254901960784314,"r":0.270588235294118},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./avatars/VWS_B_Male3-2.jpg"}],"morphTargets":false,"reflect":0,"shininess":0,"side":0,"skinning":true,"specularColor":{"b":0.2,"g":0.2,"r":0.2},"specularLevel":1,"type":"phong"},"motionStack":[],"oldRotZ":0,"owner":"Rob","ownerClientID":"vY9ym08So3ncD2cxoXKu","profile":{"Avatar":"usmale.dae","Email":"robert.chadwick.ctr@adlnet.gov","Homepage":"","Location":"asdf","Name":"Rob Chadwick","Organization":"","Salt":"361c7d4f-a442-2df3-7ef8-1030ad9b4941","Skype":"","TempPassword":{"Password":"54f9870b52c211448fb751d21870cf2e197072a8f44dd5c05592781e949ee8c6","Time":"2014-02-07T00:30:49.974Z"},"Twitter":"","Username":"Rob","avatarModel":"./avatars/VWS_Business_Male3.DAE","avatarTexture":"./avatars/VWS_B_Male3-2.jpg","inventoryKey":"32hqb3rv"},"receiveShadows":true,"standing":0,"standingOnID":null,"standingOnOffset":null,"transform":[1,0,0,0,0,1,0,0,0,0,1,0,-6.93499994277954,-367,0,1]},"random":{"c":1,"s0":0.936209804611281,"s1":0.976419775746763,"s2":0.0255385800264776},"sequence":0,"source":"./avatars/VWS_Business_Male3.DAE","type":"subDriver/threejs/asset/vnd.collada+xml"},"aab7abc1-caba-965d-fcc3-4cf81e9d9a0":{"children":{"c9614084-462a-4de7-a917-886faa34fbe":{"extends":"uvmap.vwf","id":"uvmap-vwf-c9614084-462a-4de7-a917-886faa34fbe","name":"c9614084-462a-4de7-a917-886faa34fbe","properties":{"DisplayName":"uvmap3","NotProto":"NOT!","_length":2.19,"height":2.32,"mode":"plane","owner":"Rob","plane":"y","transform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"type":"modifier","uoffset":0.34,"voffset":-0.07},"random":{"c":1,"s0":0.0343576180748641,"s1":0.70666490867734,"s2":0.0313245826400816},"sequence":0,"source":"vwf/model/threejs/uvmap.js","type":"subDriver/threejs"},"f9d8cf85-ca0e-ab2a-b940-20f9c1002a31":{"extends":"SandboxParticleSystem.vwf","id":"SandboxParticleSystem-vwf-f9d8cf85-ca0e-ab2a-b940-20f9c1002a31","methods":{"makeRingSound":{"body":"\n\n\n\n\n\n\n\n                  this.audioAPI.stopSound(\"./vwfdatamanager.svc/datafile/XAPIGame/ring.mp3\");\n                        this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/ring.mp3\", false, 100);\n","parameters":[]},"reset":{"body":"\n\n\n\n\n\n            this.active = true;\n                this.visible = false;\n","parameters":[]},"tick":{"body":"\n\n\n      if (this.Scene.children_by_name.GameCode.paused === true) return;\n\n          var localPlayer = this.transformAPI.globalToLocal(this.Scene.children_by_name.Player.transformAPI.getPosition());\n\n          if (Vec3.magnitude(localPlayer) < .5)\n          {\n              if (this.visible == false)\n              {\n                  this.active = false;\n                  this.Scene.children_by_name.GameCode.postWaypoint(this.parent.DisplayName); this.makeRingSound();\n              }\n              this.visible = true;\n          }\n","parameters":[]}},"name":"f9d8cf85-ca0e-ab2a-b940-20f9c1002a31","properties":{"DisplayName":"ParticleSystem4","active":true,"additive":true,"alphaTest":0.255,"counter":298728,"depthTest":false,"endColor":[0,0,0,0.6],"endSize":0.46,"image":"/adl/sandbox/1OimhGKL2jk8Fdh4//vwfDataManager.svc/datafile/XAPIGame/spark.jpg","maxAcceleration":[0,0,-0.001],"maxLifeTime":40,"maxOrientation":13.4,"maxVelocity":[-0.033,-0.037,0.012],"minAcceleration":[0,0,-0.001],"minLifeTime":38,"minOrientation":-17.9,"minVelocity":[0.027,0.03,0.012],"owner":"vergenzs","solver":"AnalyticShader","startColor":[0.254901960784314,0.4,0.980392156862745,0.45],"startSize":0.16,"transform":[-4.17195842317142e-8,-0.99999988079071,7.91509259935423e-15,0,0.999919056892395,-4.1716212706433e-8,-0.0127407042309642,0,0.0127406781539321,-5.31554189553418e-10,0.99991899728775,0,0.00687354803085327,-0.0125490427017212,0.730000078678131,1],"type":"ParticleSystem","visible":false},"random":{"c":1,"s0":0.960840939776972,"s1":0.824023353634402,"s2":0.6333122481592},"sequence":0}},"extends":"cylinder2.vwf","id":"cylinder2-vwf-aab7abc1-caba-965d-fcc3-4cf81e9d9a0","name":"aab7abc1-caba-965d-fcc3-4cf81e9d9a0","properties":{"DisplayName":"WayPoint2","GameType":"WayPoint","height":0.13,"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"a":1,"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/teleport.png"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.48,"rsegs":16,"size":[1,0.5,0.5],"tempid":"","texture":"checker.jpg","transform":[1,0,0,0,0,1,0,0,0,0,1,0,5.37537050247192,-2.19639468193054,0.150000005960464,1],"type":"Primitive"},"random":{"c":1,"s0":0.168332272209227,"s1":0.443781930720434,"s2":0.811153281480074},"sequence":0,"source":"vwf/model/threejs/cylinder.js","type":"subDriver/threejs"},"c8c1d217-33b0-a044-a42d-dcbcf502a14d":{"children":{"bd7da456-536b-765d-bb7f-651f1e062678":{"extends":"SandboxParticleSystem.vwf","id":"SandboxParticleSystem-vwf-bd7da456-536b-765d-bb7f-651f1e062678","methods":{"makeRingSound":{"body":"\n\n\n\n\n\n\n\n                  this.audioAPI.stopSound(\"./vwfdatamanager.svc/datafile/XAPIGame/ring.mp3\");\n                        this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/ring.mp3\", false, 100);\n","parameters":[]},"reset":{"body":"\n\n\n\n\n\n            this.active = true;\n                this.visible = false;\n","parameters":[]},"tick":{"body":"\n\n\n      if (this.Scene.children_by_name.GameCode.paused === true) return;\n\n          var localPlayer = this.transformAPI.globalToLocal(this.Scene.children_by_name.Player.transformAPI.getPosition());\n\n          if (Vec3.magnitude(localPlayer) < .5)\n          {\n              if (this.visible == false)\n              {\n                  this.active = false;\n                  this.Scene.children_by_name.GameCode.postWaypoint(this.parent.DisplayName); this.makeRingSound();\n              }\n              this.visible = true;\n          }\n","parameters":[]}},"name":"bd7da456-536b-765d-bb7f-651f1e062678","properties":{"DisplayName":"ParticleSystem4","active":true,"additive":true,"alphaTest":0.255,"counter":298728,"depthTest":false,"endColor":[0,0,0,0.6],"endSize":0.46,"image":"/adl/sandbox/1OimhGKL2jk8Fdh4//vwfDataManager.svc/datafile/XAPIGame/spark.jpg","maxAcceleration":[0,0,-0.001],"maxLifeTime":40,"maxOrientation":13.4,"maxVelocity":[-0.033,-0.037,0.012],"minAcceleration":[0,0,-0.001],"minLifeTime":38,"minOrientation":-17.9,"minVelocity":[0.027,0.03,0.012],"owner":"vergenzs","solver":"AnalyticShader","startColor":[0.254901960784314,0.4,0.980392156862745,0.45],"startSize":0.16,"transform":[-4.17195842317142e-8,-0.99999988079071,7.91509259935423e-15,0,0.999919056892395,-4.1716212706433e-8,-0.0127407042309642,0,0.0127406781539321,-5.31554189553418e-10,0.99991899728775,0,0.00687354803085327,-0.0125490427017212,0.730000078678131,1],"type":"ParticleSystem","visible":false},"random":{"c":1,"s0":0.960840939776972,"s1":0.824023353634402,"s2":0.6333122481592},"sequence":0},"e3d730-a1b7-764-b5fb-932a9ba7744f":{"extends":"uvmap.vwf","id":"uvmap-vwf-e3d730-a1b7-764-b5fb-932a9ba7744f","name":"e3d730-a1b7-764-b5fb-932a9ba7744f","properties":{"DisplayName":"uvmap3","NotProto":"NOT!","_length":2.19,"height":2.32,"mode":"plane","owner":"Rob","plane":"y","transform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"type":"modifier","uoffset":0.34,"voffset":-0.07},"random":{"c":1,"s0":0.0343576180748641,"s1":0.70666490867734,"s2":0.0313245826400816},"sequence":0,"source":"vwf/model/threejs/uvmap.js","type":"subDriver/threejs"}},"extends":"cylinder2.vwf","id":"cylinder2-vwf-c8c1d217-33b0-a044-a42d-dcbcf502a14d","name":"c8c1d217-33b0-a044-a42d-dcbcf502a14d","properties":{"DisplayName":"WayPoint1","GameType":"WayPoint","height":0.13,"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"a":1,"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/teleport.png"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.48,"rsegs":16,"size":[1,0.5,0.5],"tempid":"","texture":"checker.jpg","transform":[1,0,0,0,0,1,0,0,0,0,1,0,-8.11002635955811,-5.68689203262329,0.150000005960464,1],"type":"Primitive"},"random":{"c":1,"s0":0.168332272209227,"s1":0.443781930720434,"s2":0.811153281480074},"sequence":0,"source":"vwf/model/threejs/cylinder.js","type":"subDriver/threejs"},"camera":{"extends":"http://vwf.example.com/camera.vwf","id":"http-vwf-example-com-camera-vwf-camera","name":"camera","random":{"c":1,"s0":0.51186275947839,"s1":0.842641498427838,"s2":0.920688458485529},"sequence":0},"d7ab6422-9b04-f46f-9247-620e3217770e":{"children":{"15a0b433-725a-7c58-a53a-d3a52296efd9":{"children":{"3ee14198-1420-926a-e5c6-22d85be97c00":{"extends":"asset.vwf","id":"asset-vwf-3ee14198-1420-926a-e5c6-22d85be97c00","name":"3ee14198-1420-926a-e5c6-22d85be97c00","properties":{"DisplayName":"truck","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/paneltruck.png"}],"morphTargets":false,"reflect":0,"shininess":1,"side":0,"skinning":false,"specularColor":{"b":1,"g":1,"r":1},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.00516455061733723,0.39996662735939,0,0,2.01628069795845e-9,-2.60347403358008e-11,0.400000005960464,0,0.39996662735939,-0.00516455061733723,-2.0164496739028e-9,0,0,0,-0.176000073552132,1]},"random":{"c":1,"s0":0.601201624143869,"s1":0.0353553316090256,"s2":0.457793089793995},"sequence":0,"source":"./vwfdatamanager.svc/datafile/XAPIGame/GamePanelTruck.json","type":"subDriver/threejs/asset/vnd.osgjs+json+compressed"}},"extends":"box2.vwf","id":"box2-vwf-15a0b433-725a-7c58-a53a-d3a52296efd9","name":"15a0b433-725a-7c58-a53a-d3a52296efd9","properties":{"DisplayName":"Ship","_length":0,"height":0.06,"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"a":1,"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"checker.jpg"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","size":[1,1,1],"tempid":"","texture":"checker.jpg","transform":[1.7605991331493e-7,-1.00000011920929,0,0,1.00000011920929,1.7605991331493e-7,0,0,0,0,1,0,-0.00300443265587091,-0.077000118792057,-0.309000015258789,1],"type":"Primitive","visible":true,"width":0.1},"random":{"c":1,"s0":0.0230230980087072,"s1":0.0933316189330071,"s2":0.181355822365731},"sequence":0,"source":"vwf/model/threejs/box.js","type":"subDriver/threejs"},"1e8f40f1-7ad6-f731-62d0-65bccbc91286":{"extends":"SandboxCamera.vwf","id":"SandboxCamera-vwf-1e8f40f1-7ad6-f731-62d0-65bccbc91286","name":"1e8f40f1-7ad6-f731-62d0-65bccbc91286","properties":{"DisplayName":"ChaseCam","owner":"Rob","transform":[1,0,0,0,0,0.866025567054749,-0.500000059604645,0,0,0.500000059604645,0.866025567054749,0,-0.138764381408691,-1.15506315231323,1.22517144680023,1]},"random":{"c":1,"s0":0.66005057701841,"s1":0.261992189334705,"s2":0.890604599611834},"sequence":0,"source":"vwf/model/threejs/camera.js","type":"subDriver/threejs"},"24623952-8037-e5d2-7651-8bc5b9a26b5a":{"extends":"SandboxCamera.vwf","id":"SandboxCamera-vwf-24623952-8037-e5d2-7651-8bc5b9a26b5a","name":"24623952-8037-e5d2-7651-8bc5b9a26b5a","properties":{"DisplayName":"TopCam","fov":45,"owner":"Rob","transform":[1,0,0,0,0,0.147118866443634,-0.989118695259094,0,0,0.989118695259094,0.147118866443634,0,-0.00588685320690274,-0.589396893978119,2.67401576042175,1]},"random":{"c":1,"s0":0.334513067733496,"s1":0.52267289115116,"s2":0.855998533079401},"sequence":0,"source":"vwf/model/threejs/camera.js","type":"subDriver/threejs"},"6b6e6aa3-bab7-9e12-16e1-3e54f035c875":{"extends":"SandboxParticleSystem.vwf","id":"SandboxParticleSystem-vwf-6b6e6aa3-bab7-9e12-16e1-3e54f035c875","methods":{"hide":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                this.visible = false;\n","parameters":[]}},"name":"6b6e6aa3-bab7-9e12-16e1-3e54f035c875","properties":{"DisplayName":"ParticleSystem1","additive":true,"damping":0.71,"depthTest":false,"endColor":[0,0,0,0.19],"endSize":0.37,"gravity":0.01,"image":"/adl/sandbox/p7jjNfdWCRtxqLAE//vwfDataManager.svc/texture?UID=fire.jpg","mamSpin":3.3,"maxAcceleration":[0,0,0],"maxLifeTime":33,"maxOrientation":15.7,"maxRate":10000000.001,"maxVelocity":[-1,-1,-0.00269999999999817],"minAcceleration":[0,0,0],"minLifeTime":33,"minOrientation":-22.5,"minSpin":-9.3,"minVelocity":[1,1,0.1],"owner":"Rob","solver":"Analytic","startSize":0.86,"transform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"type":"ParticleSystem","velocityMode":"spherical","visible":false},"random":{"c":1,"s0":0.750982497818768,"s1":0.964711369713768,"s2":0.593375997850671},"sequence":0}},"extends":"sphere2.vwf","id":"sphere2-vwf-d7ab6422-9b04-f46f-9247-620e3217770e","methods":{"Die":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                        this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/explode.mp3\", false, 100);\n\n                                                                                                                                            this.Scene.children_by_name.GameCode.paused = true;\n                                                                                                                                            this.children_by_name.ParticleSystem1.visible = true;\n                                                                                                                                            this.children_by_name.ParticleSystem1.future(.5).hide();\n                                                                                                                                            this.children_by_name.ParticleSystem1.maxVelocity[2] += .0001;\n                                                                                                                                           \n                                                                                                                                            this.children_by_name.Ship.visible = false;\n                                                                                                                                            this.future(2).reset();\n                                                                                                                                            alertify.error('You died!', function() {\n\n                                                                                                                                            }.bind(this));\n","parameters":[]},"ready":{"body":"\n\n\n\n\n\n\n              this.Scene.unbind('keyDown', this.keydownfunc);\n                  this.Scene.unbind('keyUp', this.keyupfunc);\n\n                  var self = this;\n                  this.keydownfunc = function(keyData)\n                  {\n\n                      self.lastKeyDown = keyData.key.char;\n                      if (keyData.key.char == 'W')\n                          self.movement = Vec3.add(self.movement.internal_val, [0, .3, 0], []);\n                      if (keyData.key.char == 'S')\n                          self.movement = Vec3.add(self.movement.internal_val, [0, -0.3, 0], []);\n                      if (keyData.key.char == 'A')\n                          self.movement = Vec3.add(self.movement.internal_val, [-.3, 0, 0], []);\n                      if (keyData.key.char == 'D')\n                          self.movement = Vec3.add(self.movement.internal_val, [.3, 0, 0], []);\n\n                      console.log(self.movement.internal_val);\n                  };\n\n                  this.keyupfunc = function(keyData)\n                  {\n                      //if (keyData.key && keyData.key.char == self.lastKeyDown)\n                      //    self.movement = [0, 0, 0];\n                      if (keyData.key.char == 'W')\n                          self.movement = Vec3.add(self.movement.internal_val, [0, -.3, 0], []);\n                      if (keyData.key.char == 'S')\n                          self.movement = Vec3.add(self.movement.internal_val, [0, .3, 0], []);\n                      if (keyData.key.char == 'A')\n                          self.movement = Vec3.add(self.movement.internal_val, [.3, 0, 0], []);\n                      if (keyData.key.char == 'D')\n                          self.movement = Vec3.add(self.movement.internal_val, [-.3, 0, 0], []);\n                  };\n\n                  this.Scene.bind('keyDown', this.keydownfunc);\n                  this.Scene.bind('keyUp', this.keyupfunc);\n                  self.movement = [0, 0, 0];\n                  //This function was created for you by the system. \n                  //The scene is now completely loaded. This will fire on each client when the client joins, so it`s not a great place to create objects\n","parameters":[]},"reset":{"body":"\n\n\n\n\n\n\n              this.Scene.children_by_name.GameCode.paused = false;\n                  var origin = [-7.31, -1.263, .1];\n                  this.transformAPI.setPosition(origin[0], origin[1], origin[2] + .5);\n                  this.children_by_name.ParticleSystem1.visible = false;\n\n                  this.timer = 0;\n                  this.children_by_name.Ship.visible = true;\n                  this.Scene.children_by_name.GameCode.reset();\n","parameters":[]},"tick":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                  if (this.Scene.children_by_name.GameCode.paused === true) return;\n                                                                      //This function was created for you by the system. \n                                                                      //The tick function is called 20 times every second. \n                                                                      // Write code here to animate over time\n                                                                     \n                                                                      var hits = this.tryMove(this.movement);\n\n                                                                      if (Vec3.magnitude(this.movement.internal_val) > .0001)\n                                                                          this.children_by_name.Ship.transformAPI.lookat(Vec3.scale(\n                                                                          [this.movement[0], this.movement[1], 0], 1000, []), '', 'X', 'Z');\n\n                                                                      var offset = Vec3.clone(this.movement.internal_val);\n                                                                      var count = 0;\n                                                                      while (hits && Vec3.magnitude(offset) > .001 && count < 10)\n                                                                      {\n                                                                          count++;\n                                                                          offset = Vec3.scale(offset, .5, []);\n                                                                          hits = this.tryMove(offset);\n                                                                      }\n                                                                      if (!hits)\n                                                                          this.transformAPI.move(offset[0], offset[1], offset[2]);\n                                                                      else\n                                                                      {\n\n                                                                      }\n                                                                      this.timer += 1.0 / 30.0;\n","parameters":[]},"tryMove":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                                                                                                                                                                        if (Vec3.magnitude(dir) == 0) return false;\n\n                                                                                                                                                                                                                                                                                                                                            var transform = this.translation.internal_val;\n                                                                                                                                                                                                                                                                                                                                            var newpos = Vec3.add(transform, dir, []);\n                                                                                                                                                                                                                                                                                                                                            var hits = _SceneManager.SphereCast(newpos, .27,\n                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                OneHitPerMesh: false,\n                                                                                                                                                                                                                                                                                                                                                ignore: [_dSky, _Editor.findviewnode(this.id)]\n                                                                                                                                                                                                                                                                                                                                            });\n\n                                                                                                                                                                                                                                                                                                                                            if (hits && hits.length)\n                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                return hits;\n                                                                                                                                                                                                                                                                                                                                            }\n                                                                                                                                                                                                                                                                                                                                            return false;\n","parameters":["dir"]}},"name":"d7ab6422-9b04-f46f-9247-620e3217770e","properties":{"DisplayName":"Player","materialDef":{"alpha":1,"ambient":{"b":1,"g":0,"r":0.0823529411764706},"color":{"a":1,"b":1,"g":0,"r":0.0823529411764706},"emit":{"b":0,"g":0,"r":0},"layers":[],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"movement":[0,0,0],"owner":"Rob","radius":0.3,"size":[0.5,1,1],"tempid":"","texture":"checker.jpg","time":0,"timer":0,"transform":[1,0,0,0,0,1,0,0,0,0,1,0,-7.30999994277954,-1.26300001144409,0.600000023841858,1],"type":"Primitive","visible":false},"random":{"c":1,"s0":0.489484123885632,"s1":0.787186275236309,"s2":0.766554398229346},"sequence":0,"source":"vwf/model/threejs/sphere.js","type":"subDriver/threejs"},"d9af1db4-69e6-f26e-7b34-5e4cf1263b0":{"children":{"c1ac4759-edb9-75fd-2225-53eb290fff6":{"children":{"78ed8dd4-ab0b-3b6-11a7-250153cb061":{"extends":"asset.vwf","id":"asset-vwf-78ed8dd4-ab0b-3b6-11a7-250153cb061","name":"78ed8dd4-ab0b-3b6-11a7-250153cb061","properties":{"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/policecar.png"}],"morphTargets":false,"reflect":0,"shininess":1,"side":0,"skinning":false,"specularColor":{"b":1,"g":1,"r":1},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[-0.00026310994871892,-0.399917036294937,0.00814452394843102,0,-0.000491006707306951,0.00814482755959034,0.399916708469391,0,-0.399999648332596,0.000253052159678191,-0.000496317108627409,0,0,0,0,1]},"random":{"c":1,"s0":0.953633794793859,"s1":0.951581143541262,"s2":0.0818706699647009},"sequence":0,"source":"./vwfdatamanager.svc/datafile/XAPIGame/PoliceCar.json","type":"subDriver/threejs/asset/vnd.osgjs+json+compressed"}},"extends":"sphere2.vwf","id":"sphere2-vwf-c1ac4759-edb9-75fd-2225-53eb290fff6","name":"c1ac4759-edb9-75fd-2225-53eb290fff6","properties":{"DisplayName":"Ship","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"a":1,"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"checker.jpg"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.23,"size":[0.5,1,1],"tempid":"","texture":"checker.jpg","transform":[-1,0,0,0,0,-1,0,0,0,0,1,0,0,0,0,1],"type":"Primitive","visible":false},"random":{"c":1,"s0":0.216963760089129,"s1":0.302025123033673,"s2":0.709411301417276},"sequence":0,"source":"vwf/model/threejs/sphere.js","type":"subDriver/threejs"}},"extends":"sphere2.vwf","id":"sphere2-vwf-d9af1db4-69e6-f26e-7b34-5e4cf1263b0","methods":{"doMove":{"body":"\n\n\n\n\n\n\n\n                this.transformAPI.move(x, y, z);\n                    this.children_by_name.Ship.transformAPI.lookat([x*100,y*100,0],'','X','Z');\n","parameters":["x","y","z"]},"reset":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                  if(this.startingLocation)\n                                                      {\n                                                          this.transformAPI.setPosition(this.startingLocation);   \n                                                      }\n","parameters":[]},"tick":{"body":"\n\n\n\n\n\n\n\n                if (this.Scene.children_by_name.GameCode.paused === true) return;\n                    //This function was created for you by the system. \n                    //The tick function is called 20 times every second. \n                    // Write code here to animate over time\n                    var toPlayer = Vec3.subtract(this.Scene.children_by_name.Player.transformAPI.getPosition(), this.transformAPI.getPosition(), []);\n                    var hits = this.Scene.traceAPI.rayCast(this.transformAPI.getPosition(), toPlayer,\n                    {\n                        ignore: [this.id]\n                    });\n                    if (!this.sign)\n                        this.sign = function(num)\n                        {\n                            return num > 0 ? 1 : -1;\n                    }\n\n                    if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < .74)\n                    {\n\n                        if (hits.node == this.Scene.children_by_name.Player)\n                        {\n                            this.Scene.children_by_name.Player.Die();\n                            this.Scene.children_by_name.GameCode.postDeath(this.DisplayName);\n                        }\n                    }\n                    else if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < 4)\n                    {\n                        var max = Math.max(Math.abs(toPlayer[0]), Math.abs(toPlayer[1]), Math.abs(toPlayer[2]));\n                        if (max == Math.abs(toPlayer[0]))\n                            if (this.tryMove([this.sign(toPlayer[0]) / 10, 0, 0]))\n                                this.doMove(this.sign(toPlayer[0]) / 10, 0, 0);\n                            else if (this.tryMove([0, this.sign(toPlayer[1]) / 10, 0]))\n                            this.doMove(0, this.sign(toPlayer[1]) / 10, 0);\n                        if (max == Math.abs(toPlayer[1]))\n                            if (this.tryMove([0, this.sign(toPlayer[1]) / 10, 0]))\n                               this.doMove(0, this.sign(toPlayer[1]) / 10, 0);\n                            else if (this.tryMove([this.sign(toPlayer[0]) / 10, 0, 0]))\n                            this.doMove(this.sign(toPlayer[0]) / 10, 0, 0);\n\n                    }\n","parameters":[]},"tryMove":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                  if (Vec3.magnitude(dir) == 0) return false;\n\n                                                      var transform = this.translation.internal_val;\n                                                      var newpos = Vec3.add(transform, dir, []);\n                                                      var hits = _SceneManager.SphereCast(newpos, .3,\n                                                      {\n                                                          OneHitPerMesh: true,\n                                                          ignore: [_dSky, _Editor.findviewnode(this.id)]\n                                                      });\n\n                                                      if (hits && hits.length)\n                                                      {\n\n                                                          return false;\n                                                      }\n                                                      return true;\n","parameters":["dir"]}},"name":"d9af1db4-69e6-f26e-7b34-5e4cf1263b0","properties":{"DisplayName":"Enemy2","GameType":"Enemy","materialDef":{"alpha":1,"ambient":{"b":0.0745098039215686,"g":0.0745098039215686,"r":0.941176470588235},"color":{"a":1,"b":0.0745098039215686,"g":0.0745098039215686,"r":0.941176470588235},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"blendMode":0,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"rot":0,"scalex":1,"scaley":1,"src":"checker.jpg"}],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.42,"size":[0.5,1,1],"startingLocation":[-1.26388769496155,-2.17401940168052,0.55],"tempid":"","texture":"checker.jpg","transform":[-0.999991834163666,-0.00401435419917107,0,0,0.00401435419917107,-0.999991834163666,0,0,0,0,1,0,-1.26388764381409,-2.17401933670044,0.550000011920929,1],"type":"Primitive","visible":false},"random":{"c":1,"s0":0.201469623949379,"s1":0.204106712946668,"s2":0.828892245423049},"sequence":0,"source":"vwf/model/threejs/sphere.js","type":"subDriver/threejs"},"df9935e2-56fa-59c0-5a00-3306185e5bd8":{"children":{"6d482e8-f3cf-eeee-ce28-77c685817e46":{"children":{"d7355484-de05-9a75-373c-bccd741374d7":{"extends":"rotator.vwf","id":"rotator-vwf-d7355484-de05-9a75-373c-bccd741374d7","name":"d7355484-de05-9a75-373c-bccd741374d7","properties":{"Active":true,"DisplayName":"rotator1","Local":true,"owner":"Rob","type":"behavior"},"random":{"c":1,"s0":0.374866498634219,"s1":0.831964534241706,"s2":0.533414667937905},"sequence":0}},"extends":"cone2.vwf","id":"cone2-vwf-6d482e8-f3cf-eeee-ce28-77c685817e46","name":"6d482e8-f3cf-eeee-ce28-77c685817e46","properties":{"DisplayName":"cone1","height":0.69,"materialDef":{"alpha":0.39,"ambient":{"b":1,"g":0,"r":0.0823529411764706},"color":{"a":1,"b":1,"g":0,"r":0.0823529411764706},"emit":{"b":0,"g":0,"r":0},"layers":[],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":10,"side":1,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":10,"type":"phong"},"owner":"Rob","radius":0.33,"rsegs":3,"size":[0.5,1,0.5],"tempid":"","texture":"checker.jpg","transform":[-0.780170679092407,0.535645127296448,-0.323175430297852,0,0.625445306301117,0.656836688518524,-0.421192705631256,0,-0.0133369704708457,-0.530719518661499,-0.847441852092743,0,-2.98023228317845e-9,0.0317564494907856,1.36736214160919,1],"type":"Primitive"},"random":{"c":1,"s0":0.673546148231253,"s1":0.329978154040873,"s2":0.257451710291207},"sequence":0,"source":"vwf/model/threejs/cone.js","type":"subDriver/threejs"},"f280a341-263e-dd03-9dcc-9beb6d0a4243":{"extends":"hoverlabel.vwf","id":"hoverlabel-vwf-f280a341-263e-dd03-9dcc-9beb6d0a4243","name":"f280a341-263e-dd03-9dcc-9beb6d0a4243","properties":{"DisplayName":"hoverlabel1","color":[1,0,0.635294117647059],"offset3D":[0,0,0.9],"owner":"Rob","text":"Goal!","textsize":16,"type":"behavior"},"random":{"c":1,"s0":0.235764436423779,"s1":0.838487991364673,"s2":0.67600059369579},"sequence":0}},"extends":"cylinder2.vwf","id":"cylinder2-vwf-df9935e2-56fa-59c0-5a00-3306185e5bd8","methods":{"playWinSound":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      this.audioAPI.stopSound(\"./vwfdatamanager.svc/datafile/XAPIGame/win.mp3\");\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          this.audioAPI.playSound(\"./vwfdatamanager.svc/datafile/XAPIGame/win.mp3\", false, 100);\n","parameters":[]},"tick":{"body":"\n  if (Vec3.distance(this.transformAPI.getPosition(), this.Scene.children_by_name.Player.transformAPI.getPosition()) < 1.8)\n      {\n          // alertify.alert(\"You Win!\");\n          this.Scene.children_by_name.GameCode.postSuccess();\n          this.Scene.children_by_name.Player.reset();\n          this.playWinSound();\n\n      }\n","parameters":[]}},"name":"df9935e2-56fa-59c0-5a00-3306185e5bd8","properties":{"DisplayName":"cylinder1","height":0.26,"materialDef":{"alpha":1,"ambient":{"b":0.0901960784313725,"g":0.670588235294118,"r":0},"color":{"a":1,"b":0.0901960784313725,"g":0.670588235294118,"r":0},"emit":{"b":0,"g":0,"r":0},"layers":[],"morphTargets":false,"reflect":0.8,"shadeless":false,"shadow":true,"shininess":15,"skinning":false,"specularColor":{"b":0.577350269189626,"g":0.577350269189626,"r":0.577350269189626},"specularLevel":1,"type":"phong"},"owner":"Rob","radius":0.46,"rsegs":8,"size":[1,0.5,0.5],"tempid":"","texture":"checker.jpg","transform":[1,0,0,0,0,1,0,0,0,0,1,0,1.17999863624573,6.44899749755859,-0.146000027656555,1],"type":"Primitive"},"random":{"c":1,"s0":0.723132537910715,"s1":0.637780156685039,"s2":0.0355265494436026},"sequence":0,"source":"vwf/model/threejs/cylinder.js","type":"subDriver/threejs"},"e4593d8a-d6f5-76fd-7ccc-fe791da4fe18":{"extends":"http://vwf.example.com/label.vwf","id":"http-vwf-example-com-label-vwf-e4593d8a-d6f5-76fd-7ccc-fe791da4fe18","methods":{"tick":{"body":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                                                                  //This function was created for you by the system. \n                                                                      //The tick function is called 20 times every second. \n                                                                      // Write code here to animate over time\n                                                                      this.text = \"TIME: \" +this.Scene.children_by_name.Player.timer.toFixed(2);\n","parameters":[]}},"name":"e4593d8a-d6f5-76fd-7ccc-fe791da4fe18","properties":{"DisplayName":"Label1","font_color":[0.749019607843137,0.568627450980392,0.929411764705882],"font_size":60,"height":76,"left":0,"owner":"Rob","text":"TIME: 48.10","text_align":"center","top":0,"transform":[1,0,0,0,0,1,0,0,0,0,1,0,626,65,0,1],"width":417},"random":{"c":1,"s0":0.0831439236644655,"s1":0.970436420757324,"s2":0.431639270158485},"sequence":0},"ff144e59-a5d8-d4b0-94ed-641a4d60d49":{"children":{"7577be93-1b73-80b6-469d-70604810dd65":{"children":{"27878cb4-4739-f2d4-e22f-83c5b4d558":{"extends":"asset.vwf","id":"asset-vwf-27878cb4-4739-f2d4-e22f-83c5b4d558","name":"27878cb4-4739-f2d4-e22f-83c5b4d558","properties":{"DisplayName":"node-Curbs","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/curb.png"}],"morphTargets":false,"reflect":0,"shininess":0.6,"side":0,"skinning":false,"specularColor":{"b":0,"g":0,"r":0},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.393700987100601,0,0,0,0,8.74191999916825e-17,0.393700987100601,0,0,-0.393700987100601,8.74191999916825e-17,0,0,0,0,1],"type":"3DR Object"},"random":{"c":1,"s0":0.289539704332128,"s1":0.291034385561943,"s2":0.87710920907557},"sequence":0,"source":"node-Curbs","type":"link_existing/threejs"},"406373a-419-8bdf-d9a3-d2c2e630c2f3":{"extends":"asset.vwf","id":"asset-vwf-406373a-419-8bdf-d9a3-d2c2e630c2f3","name":"406373a-419-8bdf-d9a3-d2c2e630c2f3","properties":{"DisplayName":"node-ConcreteBackdrop","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/concrete_pad.png"}],"morphTargets":false,"reflect":0,"shininess":0,"side":0,"skinning":false,"specularColor":{"b":0,"g":0,"r":0},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.393700987100601,0,0,0,0,8.74191999916825e-17,0.393700987100601,0,0,-0.393700987100601,8.74191999916825e-17,0,0,0,0,1],"type":"3DR Object"},"random":{"c":1,"s0":0.393710754346102,"s1":0.0822572635952383,"s2":0.314054609509185},"sequence":0,"source":"node-ConcreteBackdrop","type":"link_existing/threejs"},"544ee70-69e7-7402-a049-1b01af125b59":{"extends":"asset.vwf","id":"asset-vwf-544ee70-69e7-7402-a049-1b01af125b59","name":"544ee70-69e7-7402-a049-1b01af125b59","properties":{"DisplayName":"node-Intersections","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/main_intersections.png"}],"morphTargets":false,"reflect":0,"shininess":0.2,"side":0,"skinning":false,"specularColor":{"b":0,"g":0,"r":0},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.393700987100601,0,0,0,0,8.74191999916825e-17,0.393700987100601,0,0,-0.393700987100601,8.74191999916825e-17,0,0,0,0,1],"type":"3DR Object"},"random":{"c":1,"s0":0.668747626710683,"s1":0.546453263843432,"s2":0.918419106630608},"sequence":0,"source":"node-Intersections","type":"link_existing/threejs"},"7c894861-767a-ce68-2e70-e1fdd8cfce71":{"extends":"asset.vwf","id":"asset-vwf-7c894861-767a-ce68-2e70-e1fdd8cfce71","name":"7c894861-767a-ce68-2e70-e1fdd8cfce71","properties":{"DisplayName":"node-Roads","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/main_road.png"}],"morphTargets":false,"reflect":0,"shininess":0.2,"side":0,"skinning":false,"specularColor":{"b":0.9,"g":0.9,"r":0.9},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.393700987100601,0,0,0,0,8.74191999916825e-17,0.393700987100601,0,0,-0.393700987100601,8.74191999916825e-17,0,0,0,0,1],"type":"3DR Object"},"random":{"c":1,"s0":0.188105322187766,"s1":0.0735020318534225,"s2":0.931469126837328},"sequence":0,"source":"node-Roads","type":"link_existing/threejs"},"8341f8fc-6014-3900-b3ca-356ef2cf7854":{"extends":"asset.vwf","id":"asset-vwf-8341f8fc-6014-3900-b3ca-356ef2cf7854","name":"8341f8fc-6014-3900-b3ca-356ef2cf7854","properties":{"DisplayName":"node-Curbs2","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/curb.png"}],"morphTargets":false,"reflect":0,"shininess":0.6,"side":0,"skinning":false,"specularColor":{"b":0,"g":0,"r":0},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.393700987100601,0,0,0,0,8.74191999916825e-17,0.393700987100601,0,0,-0.393700987100601,8.74191999916825e-17,0,0,0,0,1],"type":"3DR Object"},"random":{"c":1,"s0":0.671664703870192,"s1":0.906491779955104,"s2":0.765995352528989},"sequence":0,"source":"node-Curbs2","type":"link_existing/threejs"},"bc9cd1fd-f073-3b1f-42ca-65063e518f0":{"extends":"asset.vwf","id":"asset-vwf-bc9cd1fd-f073-3b1f-42ca-65063e518f0","name":"bc9cd1fd-f073-3b1f-42ca-65063e518f0","properties":{"DisplayName":"node-Start","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/start_end.png"}],"morphTargets":false,"reflect":0,"shininess":1.128772,"side":0,"skinning":false,"specularColor":{"b":0,"g":0,"r":0},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.393700987100601,0,0,0,0,8.74191999916825e-17,0.393700987100601,0,0,-0.393700987100601,8.74191999916825e-17,0,0,0,0,1],"type":"3DR Object"},"random":{"c":1,"s0":0.0898619326762855,"s1":0.483161891112104,"s2":0.7960892082192},"sequence":0,"source":"node-Start","type":"link_existing/threejs"},"cc447b53-f867-d269-1e0b-a9d6bc765210":{"extends":"asset.vwf","id":"asset-vwf-cc447b53-f867-d269-1e0b-a9d6bc765210","name":"cc447b53-f867-d269-1e0b-a9d6bc765210","properties":{"DisplayName":"node-Finish","materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/start_end.png"}],"morphTargets":false,"reflect":0,"shininess":1.128772,"side":0,"skinning":false,"specularColor":{"b":0,"g":0,"r":0},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.393700987100601,0,0,0,0,8.74191999916825e-17,0.393700987100601,0,0,-0.393700987100601,8.74191999916825e-17,0,0.490556001663208,4.7846999168396,0,1],"type":"3DR Object"},"random":{"c":1,"s0":0.985537244006991,"s1":0.569249778985977,"s2":0.482421754160896},"sequence":0,"source":"node-Finish","type":"link_existing/threejs"}},"extends":"asset.vwf","id":"asset-vwf-7577be93-1b73-80b6-469d-70604810dd65","name":"7577be93-1b73-80b6-469d-70604810dd65","properties":{"owner":"Rob","transform":[1,0,0,0,0,1,0,0,0,0,1,0,0.00605440139770508,-0.0123300552368164,0.0400000214576721,1]},"random":{"c":1,"s0":0.651371901156381,"s1":0.0982542089186609,"s2":0.536566209048033},"sequence":0,"source":"./vwfdatamanager.svc/datafile/XAPIGame/roads.json","type":"subDriver/threejs/asset/vnd.osgjs+json+compressed"},"fa5c9e96-f6a4-1c5b-4040-20285912c6c9":{"extends":"asset.vwf","id":"asset-vwf-fa5c9e96-f6a4-1c5b-4040-20285912c6c9","name":"fa5c9e96-f6a4-1c5b-4040-20285912c6c9","properties":{"materialDef":{"alpha":1,"ambient":{"b":1,"g":1,"r":1},"color":{"b":1,"g":1,"r":1},"emit":{"b":0,"g":0,"r":0},"layers":[{"alpha":1,"mapInput":0,"mapTo":1,"offsetx":0,"offsety":0,"scalex":1,"scaley":1,"src":"./vwfdatamanager.svc/datafile/XAPIGame/buildings_group1.png"}],"morphTargets":false,"reflect":0,"shininess":0.16,"side":0,"skinning":false,"specularColor":{"b":0.9,"g":0.9,"r":0.9},"specularLevel":1,"type":"phong"},"owner":"Rob","transform":[0.391000002622604,0,0,0,0,0.391000002622604,0,0,0,0,0.379000008106232,0,-0.00605440139770508,0.0123300552368164,0.0286956299096346,1]},"random":{"c":1,"s0":0.565891590667889,"s1":0.311066881520674,"s2":0.26518156984821},"sequence":0,"source":"./vwfdatamanager.svc/datafile/XAPIGame/MazeCityBuildings.json","type":"subDriver/threejs/asset/vnd.osgjs+json+compressed"}},"extends":"sandboxGroup.vwf","id":"sandboxGroup-vwf-ff144e59-a5d8-d4b0-94ed-641a4d60d49","name":"ff144e59-a5d8-d4b0-94ed-641a4d60d49","properties":{"open":false,"owner":"Rob","transform":[1.60000002384186,0,0,0,0,1.60000002384186,0,0,0,0,1.60000002384186,0,0.460059851408005,-1.16632974147797,0.00599971832707524,1],"type":"Group"},"random":{"c":1,"s0":0.130991763900965,"s1":0.53304577502422,"s2":0.142360993660986},"sequence":0}},"events":{"avatarCreated":{"body":"\n                                                                                                                                                                                                                                                                                                                                                                                                                                        window.setTimeout(function()\n                                                                                                                                                                                                                                                                                                                                                                                                                                        {\n                                                                                                                                                                                                                                                                                                                                                                                                                                            _dView.setCamera('SandboxCamera-vwf-58faf29-3658-392-e779-44d7f701f192');\n                                                                                                                                                                                                                                                                                                                                                                                                                                        }, 300);\n                                                                                                                                                                                                                                                                                                                                                                                                                                   ","parameters":["cid"," name"]},"clientConnected":{"body":"\n                                                                                                                                                                                                                                                                                                                                                                                                                                        _dView.setCamera('SandboxCamera-vwf-58faf29-3658-392-e779-44d7f701f192');\n                                                                                                                                                                                                                                                                                                                                                                                                                                        self2.playerName = name;\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                        if (self2.playerName == 'anonymous')\n                                                                                                                                                                                                                                                                                                                                                                                                                                        {\n                                                                                                                                                                                                                                                                                                                                                                                                                                            alertify.prompt(\"Please tell me your name.\", function(ok, val)\n                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                vwf_view.kernel.setProperty(self2.id, 'playerName', val);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                self2.postStart(val);\n\n                                                                                                                                                                                                                                                                                                                                                                                                                                            });\n                                                                                                                                                                                                                                                                                                                                                                                                                                        }\n                                                                                                                                                                                                                                                                                                                                                                                                                                        else\n                                                                                                                                                                                                                                                                                                                                                                                                                                        {\n                                                                                                                                                                                                                                                                                                                                                                                                                                            \n                                                                                                                                                                                                                                                                                                                                                                                                                                            self2.postStart(self2.playerName);\n                                                                                                                                                                                                                                                                                                                                                                                                                                        }\n                                                                                                                                                                                                                                                                                                                                                                                                                                   ","parameters":["cid"," name"]},"clientDisconnected":{"body":"\n\tif(this.clients)\n\t{\n\t\tdelete this.clients.internal_val[id];\n\t\tthis.clients = this.clients.internal_val;\t\t\n\t}","parameters":["id","name"]},"disconnected":{"body":"\n    \n    alert('This client has been disconnected from server. The page must be reloaded.');\n    var user = _UserManager.GetCurrentUserID();\n    \n    try{vwf.deleteNode(user)} catch(e){};\n    document[document.PlayerNumber +'link'] = null;\n    document.PlayerNumber = null;\n    _UserManager.currentUsername = null;\n    window.onbeforeunload = null;\n    $(window).unbind();\n    window.location.reload();","parameters":[""]},"keyDown":{"body":" return self.keyDown(e,d","parameters":["e","d"]},"keyUp":{"body":" return self.keyUp(e,d","parameters":["e","d"]},"pointerClick":{"body":"return true","parameters":[""]},"pointerDown":{"body":"return true","parameters":[""]},"pointerMove":{"body":"return true","parameters":[""]},"pointerOut":{"body":"return true","parameters":[""]},"pointerOver":{"body":"return true","parameters":[""]},"pointerUp":{"body":"return true","parameters":[""]}},"extends":"http://vwf.example.com/navscene.vwf","id":"index-vwf","methods":{"AmLocal":{"body":"","parameters":[]},"CreatePlane":{"body":"\n    \n    var hw = width/2;\n    var hh = height/2;\n    \n    var planemesh = new MATH.Mesh();\n   \n    var planeobj = new MATH.Object();\n    planeobj.PickPriority = 0;\n    planeobj.setMesh(planemesh);\n    planemesh.setPositions([-hw,-hh,-.001, hw,-hh,-.001, hw,hh,-.001, -hw,hh,-.001]);\n    planemesh.setTangents([-hw,-hh,0, hw,-hh,0, hw,hh,0, -hw,hh,0]);\n    planemesh.setFaces([0,1,2,2,3,0]);\n    planemesh.setUV([0,0,250/4 ,0,250/4,250/4,0,250/4]);\n    findscene().addChild(planeobj);\n    planeobj.InvisibleToCPUPick = false;\n    return planeobj;\n","parameters":["width","height"]},"PM":{"body":"\n    if(window.PMReceived)\n    PMReceived(e);\n","parameters":["e"]},"broadcastCameraPosition":{"body":"\n    if(this.receivingCameraBroadcast)\n    {\n      \n        this.camera.transform = transform;\n    }\n","parameters":["transform"]},"cameraBroadcastEnd":{"body":"\n    if(this.client == this.moniker)\n    {\n        this.broadcastingCamera = false;\n        this.receivingCameraBroadcast = false;\n    }else\n    {\n        if(this.receivingCameraBroadcast)\n        {\n          alertify.alert((_UserManager.GetPlayernameForClientID(this.client) || 'The user') + \" has stopped sharing the camera view.\");\n           this.broadcastingCamera = false;\n          this.receivingCameraBroadcast = false;\n          this.cameramode = this.preCameraShareMode;\n        }\n       \n    }\n","parameters":[]},"cameraBroadcastStart":{"body":"\n    if(this.client == this.moniker)\n    {\n        \n        this.broadcastingCamera = true;\n        this.receivingCameraBroadcast = false;\n    }else\n    {\n        alertify.confirm(_UserManager.GetPlayernameForClientID(this.client) + \" would like to share the camera view with you. Accept?\",function(ok)\n        {\n            if(ok)\n            {\n            \n                this.broadcastingCamera = false;\n                this.receivingCameraBroadcast = true;\n                this.preCameraShareMode = this.cameramode;\n                this.cameramode = 'None';\n            \n            }\n        \n        }.bind(this));\n        \n    \n    }\n\n","parameters":[]},"deleteplayer":{"body":"","parameters":[]},"getBroadcasting":{"body":"\n    return this.broadcastingCamera;\n","parameters":[]},"getSkyMat":{"body":"\n\n    return this.skycube.material;\n\n","parameters":[]},"initialize":{"body":"\n\n   \n   this.setCameraMode('Orbit');\n   this.offset = [0,0,1];\n   this.center = [0,0,0];\n   this.flyspeed = 1;\n   this.activeCameraComp = false;\n   this.loaded = false;\n   this.zoom = 4;\n   this.x_rot = 0.15687500000000001;\n   this.y_rot = 0.5839999999999994;\n   //this.updateCamera();\n   this.players = [];\n   this.rel_x = 0;\n   this.rel_y = 0;\n   this.loaded= false;\n   this.leftdown= false;\n   this.middledown=false;\n   this.rightdown= false;\n   this.last_x = 0;\n   this.last_y = 0;\n   this.navmode = 'none';\n //  this.PickOptions = new MATH.CPUPickOptions();\n //  this.PickOptions.UserRenderBatches = true;\n  \n    $('#index-vwf').mousedown(function(e){this.localpointerDown(e);}.bind(this));\n    window.addEventListener(\"deviceorientation\", this.orientationEvent.bind(this), true);\n    \n    $('#index-vwf').mousewheel(function(e){e.deltaY *= -1; this.localpointerWheel(e);}.bind(this));\n    $('#index-vwf').mouseup(function(e){this.localpointerUp(e);}.bind(this));\n    $('#index-vwf').mouseleave(function(e)\n    {\n        if($(e.toElement).hasClass('glyph'))\n        {\n        \n        }\n        else\n        {\n        \n            this.localpointerUp(e);\n        }\n        \n    }.bind(this));\n    $('#index-vwf').mousemove(function(e){this.localpointerMove(e);}.bind(this));\n\n   this.updateCallbacks = [];\n   this.OwnedPrims = [];\n  \n   findcamera().fov = 70;\n   findcamera().updateProjectionMatrix();\n   var ground = new THREE.Mesh(new THREE.PlaneGeometry(256,256,10,10), new THREE.MeshPhongMaterial());\n   ground.receiveShadow = _SettingsManager.getKey('shadows');\n   ground.PickPriority = -1;\n   \n   \n   var grassTex = THREE.ImageUtils.loadTexture('textures/gridnew.png');\n   \n  \n   ground.material.map = grassTex;\n    grassTex.wrapS = THREE.RepeatWrapping;\n    grassTex.wrapT = THREE.RepeatWrapping;\n    grassTex.repeat.x = 64;\n    grassTex.repeat.y = 64;\n   grassTex.anisotropy  = _dRenderer.getMaxAnisotropy();\n   this.groundplane = ground;\n   \n   \n   findscene().add(ground);\n   \n   if(this.materialDef)\n   this.setTexture(this.materialDef);\n   var l = new THREE.DirectionalLight();\n   this.sun = l;\n   this.sun.name = 'Sun';\n   this.sun.castShadow = _SettingsManager.getKey('shadows');\n   this.sun.shadowCameraNear = 1;\n   this.sun.shadowCameraFar = 100;\n   //this.sun.shadowCameraVisible = true;\n   this.sun.shadowCameraBottom = -10;\n   this.sun.shadowCameraLeft = -10;\n   this.sun.shadowMapWidth = 1024;\n   this.sun.shadowMapHeight = 1024;\n   \n   this.sun.shadowCameraTop = 10;\n   this.sun.shadowCameraRight = 10;\n   findscene().add(l);\n   rebuildAllMaterials();\n   \n   this.sun.position.x = this.sunDirection[0];\n   this.sun.position.y = this.sunDirection[1];\n   this.sun.position.z = this.sunDirection[2];\n   this.sun.position.normalize();\n   this.sun.position.multiplyScalar(100);\n   this.sun.intensity = this.sunIntensity;\n   this.sun.shadowBias = -.005\n   window._dGround = this.groundplane;\n   this.groundplane.name = 'GroundPlane';\n   //this.groundplane.visible = false;\n   window._dSun = this.sun;\n   \n   this.sun.updateMatrixWorld(true);\n   this.CreateSky(vwf.getProperty(this.id,'skyTexture') || 'white');\n   /*findscene().setAmbientColor('rgb(200,200,200)');\n   \n   \n  \n   \n   \n   \n   findscene().setFogType(MATH.FOG_QUADRATIC);\n   findscene().setFogFar(360);\n   findscene().setFogNear(100);\n   findscene().setFogColor('#FFFFFF');\n   \n   */\n     if(this.id == 'Scene-vwf') return;\n      this.prerendercallback = this.prerender.bind(this);\n      this.glyphrendercallback = this.glyphRender.bind(this);\n      this.postprerendercallback = this.postprerender.bind(this);\n      _dView.bind('prerender',this.prerendercallback);\n      _dView.bind('postprerender',this.postprerendercallback);\n      _dView.bind('glyphRender',this.glyphrendercallback);\n      this.createNameTag();\n      this.updateCamera();\n","parameters":[]},"latencyTest":{"body":"\n    if(this.moniker == this.client)\n    {\n        var time = new Date(e.time);\n        var thistime = (new Date()) - time;\n        _Notifier.alert(\"The round trip time to the server was: \" + thistime +\"ms\");\n    }\n","parameters":["e"]},"newplayer":{"body":"\n    \n   \n    \n","parameters":["e"]},"playSound":{"body":"","parameters":[]},"receiveChat":{"body":"\n    if(window.ChatMessageReceived)\n      ChatMessageReceived(e);\n","parameters":["e"]},"setMusic":{"body":"","parameters":[]},"tick":{"body":"\n   \n    if(this.broadcastingCamera)\n    {\n        vwf_view.kernel.callMethod('index-vwf','broadcastCameraPosition',[this.camera.transform]);\n    }\n    if(this.receivingCameraBroadcast && this.cameramode != 'None')\n        this.receivingCameraBroadcast = false;\n    \n","parameters":[]}},"name":"","patches":"index.vwf","properties":{"DisplayName":null,"EditorData":{"fog":{"displayname":"Fog","type":"sectionTitle"},"fogColorR":{"displayname":"Fog Color","property":"fogColor","type":"color"},"fogDensity":{"displayname":"Fog Density","max":0.1,"min":0,"property":"fogDensity","step":0.001,"type":"slider"},"fogFar":{"displayname":"Fog Far","max":2000,"min":0,"property":"fogFar","step":1,"type":"slider"},"fogNear":{"displayname":"Fog Near","max":2000,"min":0,"property":"fogNear","step":1,"type":"slider"},"fogType":{"displayname":"Fog Type","labels":["None","Linear","Quad"],"property":"fogType","type":"choice","values":[null,"linear","exp"]},"fogvFAlloff":{"displayname":"Fog Falloff","max":10,"min":0.1,"property":"fogVFalloff","step":0.001,"type":"slider"},"fogvFAlloffStart":{"displayname":"Fog Falloff Start","max":100,"min":-100,"property":"fogVFalloffStart","step":0.1,"type":"slider"},"sky":{"displayname":"Sky","type":"sectionTitle"},"skyApexColor":{"displayname":"Sky Apex Color","property":"skyApexColor","type":"color"},"skyAtmosphereDensity":{"displayname":"Atmosphere Density","max":1,"min":0,"property":"skyAtmosphereDensity","step":0.01,"type":"slider"},"skyColorBlend":{"displayname":"Sky Color Blend","max":1,"min":0,"property":"skyColorBlend","step":0.01,"type":"slider"},"skyFogBlend":{"displayname":"Sky Fog Amount","max":1,"min":0,"property":"skyFogBlend","step":0.01,"type":"slider"},"skyHorizonColor":{"displayname":"Sky Horizon Color","property":"skyHorizonColor","type":"color"},"skyTexture":{"displayname":"skyTexture","labels":["CloudyNoon","Morning","Evening","Morning2","Storm","ThunderStorm","Night1","Night2","Bright","White","Black"],"property":"skyTexture","type":"choice","values":["cloudy_noon","early_morning","evening","morning","stormy","StormClouds","night1","night2","bright","white","black"]},"sun":{"displayname":"Sun","type":"sectionTitle"},"sunColor":{"displayname":"Sun Color","property":"sunColor","type":"color"},"sunIntensity":{"displayname":"Sun Intensity","max":5,"min":0,"property":"sunIntensity","step":0.1,"type":"slider"},"sunRot":{"displayname":"Sun Direction","property":"sunDirection","step":0.05,"type":"vector"},"sunambientColor":{"displayname":"ambient","property":"ambientColor","type":"color"}},"ambientColor":[0.35,0.35,0.35],"clients":{"vY9ym08So3ncD2cxoXKu":{"cid":"vY9ym08So3ncD2cxoXKu","name":"Rob"}},"fogColor":[1,1,1],"fogDensity":0.005,"fogFar":1000,"fogNear":100,"fogType":0,"fogVFalloff":1.3,"fogVFalloffStart":0,"navmode":"none","owner":"Rob","permission":{"Everyone":1},"placemarks":{"Origin":{"0":-6.93499994277954,"1":-367,"2":0},"startpoint":{"0":-4.45302486419678,"1":-1.26249170303345,"2":0.109999999403954}},"playBackup":null,"playMode":"stop","publishSettings":{"SinglePlayer":true,"allowAnonymous":true,"allowTools":false,"camera":"SandboxCamera-vwf-58faf29-3658-392-e779-44d7f701f192","createAvatar":false},"skyApexColor":[0.458823529411765,0.458823529411765,0.458823529411765],"skyColorBlend":0,"skyFogBlend":0,"skyHorizonColor":[0.341176470588235,0.333333333333333,0.333333333333333],"sunColor":[1,1,1],"sunDirection":[0.75,0.55,1],"sunIntensity":0.8,"type":"scene","vAtmosphereDensity":0.0005},"random":{"c":1,"s0":0.0109179883729666,"s1":0.976999389706179,"s2":0.684877069899812},"sequence":0},"playMode":"stop","publishSettings":{"SinglePlayer":true,"allowAnonymous":true,"allowTools":false,"camera":"SandboxCamera-vwf-58faf29-3658-392-e779-44d7f701f192","createAvatar":false},"skyApexColor":[0.458823529411765,0.458823529411765,0.458823529411765],"skyColorBlend":0,"skyFogBlend":0,"skyHorizonColor":[0.341176470588235,0.333333333333333,0.333333333333333],"sunColor":[1,1,1],"sunDirection":[0.75,0.55,1],"sunIntensity":0.8,"type":"scene","vAtmosphereDensity":0.0005},"random":{"c":1,"s0":0.177889018319547,"s1":0.939281300641596,"s2":0.656520474469289},"sequence":0},"playMode":"stop","publishSettings":{"SinglePlayer":true,"allowAnonymous":true,"allowTools":false,"camera":"SandboxCamera-vwf-58faf29-3658-392-e779-44d7f701f192","createAvatar":false},"skyApexColor":[0.458823529411765,0.458823529411765,0.458823529411765],"skyColorBlend":0,"skyFogBlend":0,"skyHorizonColor":[0.341176470588235,0.333333333333333,0.333333333333333],"sunColor":[1,1,1],"sunDirection":[0.75,0.55,1],"sunIntensity":0.8,"type":"scene","vAtmosphereDensity":0.0005},"random":{"c":1,"s0":0.26373081584461,"s1":0.492840674472973,"s2":0.24420376541093},"sequence":0},"playMode":"stop","publishSettings":{"SinglePlayer":true,"allowAnonymous":true,"allowTools":false,"camera":"SandboxCamera-vwf-58faf29-3658-392-e779-44d7f701f192","createAvatar":false},"skyApexColor":[0.458823529411765,0.458823529411765,0.458823529411765],"skyColorBlend":0,"skyFogBlend":0,"skyHorizonColor":[0.341176470588235,0.333333333333333,0.333333333333333],"sunColor":[1,1,1],"sunDirection":[0.75,0.55,1],"sunIntensity":0.8,"type":"scene","vAtmosphereDensity":0.0005},"random":{"c":1,"s0":0.759579706937075,"s1":0.969781422521919,"s2":0.727819057414308},"sequence":0},"publishSettings":{"SinglePlayer":true,"allowAnonymous":true,"allowTools":false,"camera":"SandboxCamera-vwf-58faf29-3658-392-e779-44d7f701f192","createAvatar":false}}]